(this["webpackJsonpreact-4798tj"]=this["webpackJsonpreact-4798tj"]||[]).push([[3],{815:function(e,t,a){"use strict";var n=a(13),l=a(0),c=a.n(l),r=a(810),u=a(262),i=a(5),o=a.n(i),s=(a(38),a(4)),m=a.n(s),d=(a(1),a(26)),b=a(171),E=a(172),h=a(8),j=a(98),f=a(409),O=a(133);function p(e){var t=e.children,a=e.className,n=e.content,l=m()("sub header",a),r=Object(b.a)(p,e),u=Object(E.a)(p,e);return c.a.createElement(u,o()({},r,{className:l}),h.a.isNil(t)?n:t)}p.handledProps=["as","children","className","content"],p.propTypes={},p.create=Object(O.e)(p,(function(e){return{content:e}}));var C=p;function v(e){var t=e.children,a=e.className,n=e.content,l=m()("content",a),r=Object(b.a)(v,e),u=Object(E.a)(v,e);return c.a.createElement(u,o()({},r,{className:l}),h.a.isNil(t)?n:t)}v.handledProps=["as","children","className","content"],v.propTypes={};var y=v;function A(e){var t=e.attached,a=e.block,n=e.children,l=e.className,r=e.color,u=e.content,i=e.disabled,s=e.dividing,O=e.floated,p=e.icon,v=e.image,k=e.inverted,g=e.size,N=e.sub,H=e.subheader,B=e.textAlign,S=m()("ui",r,g,Object(d.a)(a,"block"),Object(d.a)(i,"disabled"),Object(d.a)(s,"dividing"),Object(d.d)(O,"floated"),Object(d.a)(!0===p,"icon"),Object(d.a)(!0===v,"image"),Object(d.a)(k,"inverted"),Object(d.a)(N,"sub"),Object(d.b)(t,"attached"),Object(d.c)(B),"header",l),w=Object(b.a)(A,e),R=Object(E.a)(A,e);if(!h.a.isNil(n))return c.a.createElement(R,o()({},w,{className:S}),n);var P=j.a.create(p,{autoGenerateKey:!1}),x=f.a.create(v,{autoGenerateKey:!1}),I=C.create(H,{autoGenerateKey:!1});return P||x?c.a.createElement(R,o()({},w,{className:S}),P||x,(u||I)&&c.a.createElement(y,null,u,I)):c.a.createElement(R,o()({},w,{className:S}),u,I)}A.handledProps=["as","attached","block","children","className","color","content","disabled","dividing","floated","icon","image","inverted","size","sub","subheader","textAlign"],A.propTypes={},A.Content=y,A.Subheader=C;var k=A;function g(e){var t=e.onDelete,a=e.type,i=Object(l.useState)(!1),o=Object(n.a)(i,2),s=o[0],m=o[1];return c.a.createElement(r.a,Object.assign({},e,{basic:!0,size:"small",trigger:c.a.createElement(u.a,{negative:!0,icon:"trash",onClick:function(){return m(!0)}}),open:s,onClose:function(){return m(!1)}}),c.a.createElement(k,{icon:"trash",content:"".concat(a," l\xf6schen")}),c.a.createElement(r.a.Content,null,c.a.createElement("p",null,"Bist du dir sicher, dass du dieses Element l\xf6schen willst?")),c.a.createElement(r.a.Actions,null,c.a.createElement(u.a,{basic:!0,color:"red",inverted:!0,onClick:function(){return m(!1)}},c.a.createElement(j.a,{name:"remove"})," Nein"),c.a.createElement(u.a,{color:"green",inverted:!0,onClick:function(){t(),m(!1)}},c.a.createElement(j.a,{name:"checkmark"})," Ja")))}a.d(t,"a",(function(){return g}))},819:function(e,t,a){},825:function(e,t,a){"use strict";a.r(t);var n=a(21),l=a(13),c=a(0),r=a.n(c),u=a(28),i=a(50),o=a(262),s=a(810),m=a(811),d=a(348),b=a(815),E=(a(819),a(23)),h=a(35),j=a(15),f=a.n(j),O=a(24),p=a(46),C=a(55),v=a(33);var y=function(){var e=Object(u.b)(),t=Object(l.a)(e,5),a=t[0],j=t[2],y=t[3],A=t[4],k=Object(c.useState)(),g=Object(l.a)(k,2),N=g[0],H=g[1],B=Object(c.useState)(),S=Object(l.a)(B,2),w=S[0],R=S[1],P=Object(u.a)(),x=function(){var e=Object(p.a)("articleAuthors",[]),t=Object(l.a)(e,2),a=t[0],n=t[1];Object(c.useEffect)((function(){function e(){return(e=Object(O.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(C.a)();case 2:(t=e.sent)&&t.articleAuthors&&n(t.articleAuthors);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}));var r=Object(c.useCallback)((function(e){var t=[].concat(Object(h.a)(a),[e]);n(t),Object(v.a)({articleAuthors:t})}),[a]),u=Object(c.useCallback)((function(e){var t=Object(h.a)(a);t[e].deleted=!0,n(t),Object(v.a)({articleAuthors:t})}),[a]),i=Object(c.useCallback)((function(e){var t=Object(h.a)(a);t[e.id]=e,n(t),Object(v.a)({articleAuthors:t})}),[a]),o=Object(c.useCallback)((function(e){return a[e]}),[a]),s=function(e){return e&&"object"===typeof e&&!e.deleted},m=Object(c.useMemo)((function(){return a.reduce((function(e,t){var n=t.articlesByAuthor,l=t.authorsByArticle;if(!s(e))return{articlesByAuthor:n,authorsByArticle:l};var c=e.authorID,r=e.articleId;return n[c]||(n[c]=[]),n[c].push(e),l[r]||(l[r]=[]),l[r].push(e),{authorsByArticle:l,articleAuthors:a}}),{articlesByAuthor:{},authorsByArticle:{}})}),[a]),d=m.articlesByAuthor,b=m.authorsByArticle;return[a.filter(s),d,b,r,u,i,a.length,o]}(),I=Object(l.a)(x,3);I[1],I[2];return Object(u.f)(),r.a.createElement("div",{className:"articles-tab-container"},r.a.createElement(o.a,{onClick:function(){return H(Object(n.a)({},i.a,{id:A}))},primary:!0},"Neuer Artikel"),N&&r.a.createElement(s.a,{onClose:function(){return H()},open:!0},r.a.createElement(s.a.Header,null,"Artikel"),r.a.createElement(s.a.Content,null,r.a.createElement(d.a,{article:N,setArticle:H,totalSend:P[N.id]?P[N.id].totalSend:0})),r.a.createElement(s.a.Actions,null,r.a.createElement(o.a,{onClick:function(){return H()},content:"Abbrechen",negative:!0,icon:"close",labelPosition:"right"}),r.a.createElement(o.a,{onClick:function(){y(N),H()},content:"Speichern",positive:!0,icon:"check",labelPosition:"right"}))),w&&r.a.createElement(s.a,{onClose:function(){return R()},open:!0},r.a.createElement(s.a.Header,null,"Rechnungen"),r.a.createElement(s.a.Content,null,r.a.createElement(m.a,null,r.a.createElement(m.a.Header,null,r.a.createElement(m.a.Row,null,r.a.createElement(m.a.HeaderCell,null,"Rechnungsnummer"),r.a.createElement(m.a.HeaderCell,null,"Kunde"),r.a.createElement(m.a.HeaderCell,null,"Verkaufte Exemplare"),r.a.createElement(m.a.HeaderCell,null,"Umsatz"),r.a.createElement(m.a.HeaderCell,null,"Zahlungsdatum"))),r.a.createElement(m.a.Body,null,P[w.id]&&P[w.id].invoices.map((function(e){return r.a.createElement(m.a.Row,null,r.a.createElement(m.a.Cell,null,e.invoiceNumber),r.a.createElement(m.a.Cell,null,e.customerName),r.a.createElement(m.a.Cell,null,e.payed),r.a.createElement(m.a.Cell,null,Object(E.c)(e.payed*Object(E.d)(w.price))," ","\u20ac"),r.a.createElement(m.a.Cell,null,e.paymentDate?Object(E.b)(e.paymentDate):"Ausstehend"))})),P[w.id]&&r.a.createElement(m.a.Row,{active:!0},r.a.createElement(m.a.Cell,null),r.a.createElement(m.a.Cell,null),r.a.createElement(m.a.Cell,null,P[w.id].totalSold),r.a.createElement(m.a.Cell,null,Object(E.c)(P[w.id].totalSold*Object(E.d)(w.price))," ","\u20ac"),r.a.createElement(m.a.Cell,null)))))),r.a.createElement(m.a,{celled:!0},r.a.createElement(m.a.Header,null,r.a.createElement(m.a.Row,null,r.a.createElement(m.a.HeaderCell,null,"Id"),r.a.createElement(m.a.HeaderCell,null,"Name"),r.a.createElement(m.a.HeaderCell,null,"ISBN"),r.a.createElement(m.a.HeaderCell,null,"Lagerbestand"),r.a.createElement(m.a.HeaderCell,null,"Preis"),r.a.createElement(m.a.HeaderCell,null,"Autoren"),r.a.createElement(m.a.HeaderCell,null))),r.a.createElement(m.a.Body,null,a.map((function(e,t){return e&&r.a.createElement(m.a.Row,null,r.a.createElement(m.a.Cell,null,e.id),r.a.createElement(m.a.Cell,null,e.name),r.a.createElement(m.a.Cell,null,e.isbn),r.a.createElement(m.a.Cell,null,P[e.id]?parseInt(e.amount+"")-P[e.id].totalSend:e.amount),r.a.createElement(m.a.Cell,null,e.price," \u20ac"),r.a.createElement(m.a.Cell,null,e.authors.map((function(e){return r.a.createElement("p",null,e.name)}))),r.a.createElement(m.a.Cell,null,r.a.createElement(o.a,{onClick:function(){return H(e)},primary:!0,icon:"edit"}),r.a.createElement(o.a,{onClick:function(){return R(e)},icon:"list",secondary:!0}),r.a.createElement(b.a,{type:"Artikel",onClick:function(){return j(t)}})))})))))};a.d(t,"default",(function(){return y}))}}]);
//# sourceMappingURL=3.303138d7.chunk.js.map