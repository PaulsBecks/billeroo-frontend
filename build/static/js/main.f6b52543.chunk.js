(this["webpackJsonpreact-4798tj"]=this["webpackJsonpreact-4798tj"]||[]).push([[0],{325:function(e,t,a){e.exports=a(602)},347:function(e,t,a){},502:function(e,t,a){},503:function(e,t,a){},505:function(e,t,a){},593:function(e,t,a){},594:function(e,t,a){},600:function(e,t,a){},602:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(45),c=a(13),o=a(11);function i(e,t){var a=Object(n.useState)((function(){try{var a=window.localStorage.getItem(e);return a?JSON.parse(a):t}catch(n){return console.log(n),t}})),r=Object(o.a)(a,2),l=r[0],c=r[1];return[l,function(t){try{var a=t instanceof Function?t(l):t;c(a),window.localStorage.setItem(e,JSON.stringify(a))}catch(n){console.log(n)}}]}var u=a(20),s=a.n(u),m=a(24),d={name:"",empty:!0,price:"20,00",isbn:"",amount:1,authors:[]},b={name:"Max Mustermann",invoiceAddress:"<p>musterdomain.de<br/>  Muster Firma GbR<br/>  Musterstra\xdfe 2<br/>  15366 Musterstadt</p>",shippingAddress:"<p>musterdomain.de \u2022 Muster Firma GbR<br/>  Musterstra\xdfe 2 \u2022 15366 Musterstadt</p>",discount:0,ust:7},p={invoiceDate:(new Date).toString(),shippingDate:(new Date).toString(),orderDate:(new Date).toString(),invoiceNumber:"",porto:"5,00",finalText:"",articles:[]},v={name:"",executive:"",logo:"",aboveClientInvoiceAddress:"<p>Verlag GbR \u2022 Musterstra\xdfe 12 \u2022 10405 Musterstadt</p>",footerText:"<p><b>Gesch\xe4ftsf\xfchrung</b> Max Mustermann<br/>  <b>Bankverbindung</b> Postbank \u2022 IBAN DE 00 0000 0000 0000 00 \u2022 BIC ABCDEFGHIJKL<br/>  <b>Steuernummer</b> 000/000/00000 | <b>USt-IdNr.</b> DE000000000</p>",invoiceText:"<p>Zahlen Sie bitte den Rechnungsbetrag bis zum <Datum> unter Angabe der Rechnungsnummerauf unten stehendes Konto.<br/>Die gelieferte Ware bleibt bis zur vollst\xe4ndigen Bezahlung Eigentum des Verlages.<br/>Vielen Dank f\xfcr Ihre Bestellung.</p><p>Mit herzlichen Gr\xfc\xdfen.<br/>Musterstadt, den <Datum></p>",subjectAndBelow:"<h3>Rechnung</h3>  <p><br></p>  <p>wir erlauben uns, in Rechnung zu stellen:</p>",contactInformation:"<p>Buch- und Zeitschriftenverlag GbR<br>  Max Mustermann</p>  <p>Hauptsitz<br>  Musterstra\xdfe 12<br>  10405 Musterstadt<br>  Telefon 000 / 00 00 00</p>  <p>B\xfcro Musterstadt<br>  Musterstra\xdfe 19<br>  10409 Musterstadt<br>  Telefon 030 / 00 00 00 00</p>  <p>info@muster-email.de<br>  www.musterdomain.de</p>  <p>Steuernummer 000/000/00000<br>  Finanzamt Musterstadt</p>"},E={name:"",contact:"",percent:"7,00",books:[]},f={backendURL:"https://api.billeroo.de"},h=function(){return f},g=a(61),C=a.n(g),O=h().backendURL+"/data";function j(e){return y.apply(this,arguments)}function y(){return(y=Object(m.a)(s.a.mark((function e(t){var a,n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((a=JSON.parse(localStorage.getItem("user","{}"))).token){e.next=3;break}return e.abrupt("return");case 3:return n=a.token,e.next=6,C.a.post(O,t,{headers:{Authorization:"Bearer "+n}});case 6:return r=e.sent,e.abrupt("return",r.data);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k=h().backendURL+"/data";function N(){return S.apply(this,arguments)}function S(){return(S=Object(m.a)(s.a.mark((function e(){var t,a,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=JSON.parse(localStorage.getItem("user"),"{}"))&&t.token){e.next=3;break}return e.abrupt("return");case 3:return a=t.token,e.next=6,C.a.get(k,{headers:{Authorization:"Bearer "+a}});case 6:return n=e.sent,e.abrupt("return",n.data);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){var e=i("companies",v),t=Object(o.a)(e,2),a=t[0],r=t[1];Object(n.useEffect)((function(){function e(){return(e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:(t=e.sent)&&t.company&&r(t.company);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);return[a,function(e){r(e),j({company:e})}]}var I=a(26);function x(){var e=i("invoices",[]),t=Object(o.a)(e,2),a=t[0],r=t[1];Object(n.useEffect)((function(){function e(){return(e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:(t=e.sent)&&t.invoices&&r(t.invoices);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var l=Object(n.useCallback)((function(e){var t=[].concat(Object(I.a)(a),[e]);r(t),j({invoices:t})}),[a]),c=Object(n.useCallback)((function(e){var t=Object(I.a)(a);t[e]=void 0,console.log(t),r(t),j({invoices:t})}),[a]),u=Object(n.useCallback)((function(e){var t=Object(I.a)(a);t[e.id]=e,r(t),j({invoices:t})}),[a]);return[a.filter((function(e){return e&&"object"===typeof e})),l,c,u,a.length]}function A(){var e=i("articles",[]),t=Object(o.a)(e,2),a=t[0],r=t[1];Object(n.useEffect)((function(){function e(){return(e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:(t=e.sent)&&t.articles&&r(t.articles);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var l=Object(n.useCallback)((function(e){var t=[].concat(Object(I.a)(a),[e]);r(t),j({articles:t})}),[a]),c=Object(n.useCallback)((function(e){var t=Object(I.a)(a);t[e]=void 0,r(t),j({articles:t})}),[a]),u=Object(n.useCallback)((function(e){var t=Object(I.a)(a);t[e.id]=e,r(t),j({articles:t})}),[a]),d=Object(n.useCallback)((function(e){return a[e]}),[a]);return[a.filter((function(e){return e&&"object"===typeof e})),l,c,u,a.length,d]}function B(){var e=i("authors",[]),t=Object(o.a)(e,2),a=t[0],r=t[1];console.log(a),Object(n.useEffect)((function(){function e(){return(e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:t=e.sent,console.log(t),t&&t.authors&&r(t.authors);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var l=Object(n.useCallback)((function(e){var t=[].concat(Object(I.a)(a),[e]);r(t),j({authors:t})}),[a]),c=Object(n.useCallback)((function(e){var t=Object(I.a)(a);t[e]=void 0,r(t),j({authors:t})}),[a]),u=Object(n.useCallback)((function(e){var t=Object(I.a)(a);t[e.id]=e,r(t),j({authors:t})}),[a]),d=Object(n.useCallback)((function(e){return a[e]}),[a]);return[a.filter((function(e){return e&&"object"===typeof e})),l,c,u,a.length,d]}function F(){var e=i("customers",[]),t=Object(o.a)(e,2),a=t[0],r=t[1];Object(n.useEffect)((function(){function e(){return(e=Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N();case 2:(t=e.sent)&&t.customers&&r(t.customers);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var l=Object(n.useCallback)((function(e){var t=[].concat(Object(I.a)(a),[e]);r(t),j({customers:t})}),[a]),c=Object(n.useCallback)((function(e){var t=Object(I.a)(a);t[e]=void 0,r(t),j({customers:t})}),[a]),u=Object(n.useCallback)((function(e){var t=Object(I.a)(a);t[e.id]=e,r(t),j({customers:t})}),[a]),d=Object(n.useCallback)((function(e){return a[e]}),[a]);return[a.filter((function(e){return e&&"object"===typeof e})),l,c,u,a.length,d]}var D=a(606),R=a(617),H=a(619),M=a(22),T=a(618),P=a(615),L=a(37),_=a.n(L);a(347);function z(e){var t=Object(n.useState)(!1),a=Object(o.a)(t,2),l=a[0],c=a[1];return r.a.createElement(_.a,Object.assign({},e,{onFocus:function(){return c(!0)},onBlur:function(){e.onBlur&&"function"===typeof e.onBlur&&e.onBlur(),c(!1)},toolbarConfig:{display:l?["INLINE_STYLE_BUTTONS","BLOCK_TYPE_BUTTONS","LINK_BUTTONS","BLOCK_TYPE_DROPDOWN","HISTORY_BUTTONS"]:[],INLINE_STYLE_BUTTONS:[{label:"Bold",style:"BOLD",className:"custom-css-class"},{label:"Italic",style:"ITALIC"},{label:"Underline",style:"UNDERLINE"}],BLOCK_TYPE_DROPDOWN:[{label:"Normal",style:"unstyled"},{label:"Heading Large",style:"header-one"},{label:"Heading Medium",style:"header-two"},{label:"Heading Small",style:"header-three"}],BLOCK_TYPE_BUTTONS:[{label:"UL",style:"unordered-list-item"},{label:"OL",style:"ordered-list-item"}]}}))}function G(e){var t=e.customer,a=e.setCustomer,l=Object(n.useState)(_.a.createValueFromString(t.invoiceAddress,"html")),i=Object(o.a)(l,2),u=i[0],s=i[1],m=Object(n.useState)(_.a.createValueFromString(t.shippingAddress,"html")),d=Object(o.a)(m,2),b=d[0],p=d[1],v=function(e){s(_.a.createValueFromString(e.invoiceAddress,"html")),p(_.a.createValueFromString(e.shippingAddress,"html"))},E=function(e,n){var r=n.name,l=n.value;("ust"!==r&&"discount"!==r||(l=parseFloat(l),!isNaN(l)))&&(a(Object(c.a)({},t,Object(M.a)({},r,l))),v(t))},f=function(e,n){a(Object(c.a)({},t,Object(M.a)({},e,n.toString("html")))),v(t)};return r.a.createElement(T.a,null,r.a.createElement(T.a.Group,null,r.a.createElement(T.a.Field,{control:P.a,label:"Kundenname",value:t.name,name:"name",onChange:E})),r.a.createElement(T.a.Field,{control:z,label:"Rechnungsadresse",onChange:s,value:u,onBlur:function(){f("invoiceAddress",u)}}),r.a.createElement(T.a.Field,{control:z,label:"Lieferadress",onChange:p,value:b,onBlur:function(){f("shippingAddress",b)}}),r.a.createElement(T.a.Group,null,r.a.createElement(T.a.Field,{control:P.a,label:"MwST",placeholder:"7",name:"ust",icon:"percent",onChange:E,value:t.ust}),r.a.createElement(T.a.Field,{control:P.a,label:"Kundenrabatt",placeholder:"0",icon:"percent",name:"discount",onChange:E,value:t.discount})))}var K=function(){var e=F(),t=Object(o.a)(e,5),a=t[0],l=t[1],i=t[2],u=t[3],s=t[4],m=Object(n.useState)(),d=Object(o.a)(m,2),p=d[0],v=d[1];return r.a.createElement("div",null,r.a.createElement(D.a,{onClick:function(){return v(Object(c.a)({},b,{id:s}))},primary:!0},"Neuer Kunde"),p&&r.a.createElement(R.a,{onClose:function(){return v()},open:!0},r.a.createElement(R.a.Header,null,"Kunde"),r.a.createElement(R.a.Content,null,r.a.createElement(G,{customer:p,setCustomer:v})),r.a.createElement(R.a.Actions,null,r.a.createElement(D.a,{onClick:function(){return v()},content:"Abbrechen",negative:!0,icon:"close",labelPosition:"right"}),r.a.createElement(D.a,{onClick:function(){p.id>=s?l(p):u(p),v()},content:"Speichern",primary:!0,icon:"check",labelPosition:"right"}))),r.a.createElement(H.a,{celled:!0},r.a.createElement(H.a.Header,null,r.a.createElement(H.a.Row,null,r.a.createElement(H.a.HeaderCell,null,"Name"),r.a.createElement(H.a.HeaderCell,null,"Rechnungsadresse"),r.a.createElement(H.a.HeaderCell,null,"Lieferadress"),r.a.createElement(H.a.HeaderCell,null,"Rabatt"),r.a.createElement(H.a.HeaderCell,null,"MwST"),r.a.createElement(H.a.HeaderCell,null))),r.a.createElement(H.a.Body,null,a.map((function(e,t){return r.a.createElement(H.a.Row,null,r.a.createElement(H.a.Cell,null,e.name),r.a.createElement(H.a.Cell,null,r.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.invoiceAddress}})),r.a.createElement(H.a.Cell,null,r.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.shippingAddress}})),r.a.createElement(H.a.Cell,null,e.discount),r.a.createElement(H.a.Cell,null,e.ust),r.a.createElement(H.a.Cell,null,r.a.createElement(D.a,{onClick:function(){return v(e)},primary:!0,icon:"edit"}),r.a.createElement(D.a,{onClick:function(){return i(e.id)},negative:!0,icon:"trash"})))})))))},J=(a(502),a(620));function U(e){var t=new Date(e),a=t.getDate(),n=t.getMonth()+1;return r.a.createElement("span",{dangerouslySetInnerHTML:{__html:"".concat(a<10?"0"+a:a,".&#8202;").concat(n<10?"0"+n:n,".&#8202;").concat(t.getFullYear())}})}function V(e){return parseFloat(e.replace(",","."))}function Y(e){return"".concat(e.toFixed(2)).replace(".",",")}function Z(e){var t=e.author,a=e.setAuthor,l=Object(n.useState)(t.percent),i=Object(o.a)(l,2),u=i[0],s=i[1],m=function(e,n){var r=n.name,l=n.value;if("percent"===r){if(l=V(l),isNaN(l))return void s("");l=Y(l),s(l)}a(Object(c.a)({},t,Object(M.a)({},r,l)))};return r.a.createElement(T.a,null,r.a.createElement(T.a.Group,{width:"equal"},r.a.createElement(T.a.Field,{id:"form-input-control-name",control:P.a,label:"Name",placeholder:"Name",name:"name",onChange:m,value:t.name}),r.a.createElement(T.a.Field,{id:"form-input-control-name",control:P.a,label:"Kontakt",placeholder:"Tel, Email, ...",onChange:m,name:"contact",value:t.contact})),r.a.createElement(T.a.Group,null,r.a.createElement(T.a.Field,{id:"form-input-control-last-name",control:P.a,label:"Prozent",placeholder:"Prozent",name:"percent",icon:"percent",onChange:function(e,t){var a=t.value;return s(a)},onBlur:function(e){m(0,{name:e.target.name,value:e.target.value})},value:u})))}var q=a(623);function W(e){var t=e.article,a=e.setArticle,l=Object(n.useState)(t.price),i=Object(o.a)(l,2),u=i[0],s=i[1],m=B(),d=Object(o.a)(m,6),b=d[0],p=d[4],v=d[5],f=Object(n.useState)(t.authors[0]),h=Object(o.a)(f,2),g=h[0],C=h[1],O=function(e,n){var r=n.name,l=n.value;if("price"===r){if(l=parseFloat(l.replace(",",".")),isNaN(l))return void s("0,00");l=Y(l),s(l)}a(Object(c.a)({},t,Object(M.a)({},r,l)))},j=[{key:void 0,value:void 0,text:""},{key:p,value:p,text:"Neuer Autor"}].concat(b.map((function(e){return{key:e.id,value:e.id,text:e.name}})));return r.a.createElement(T.a,null,r.a.createElement(T.a.Group,{width:"equal"},r.a.createElement(T.a.Field,{id:"form-input-control-name",control:P.a,label:"Name",placeholder:"Name",name:"name",onChange:O,value:t.name}),r.a.createElement(T.a.Field,{id:"form-input-control-name",control:P.a,label:"Lagerbestand",placeholder:"Menge",type:"number",onChange:O,name:"amount",value:t.amount})),r.a.createElement(T.a.Group,null,r.a.createElement(T.a.Field,{id:"form-input-control-last-name",control:P.a,label:"ISBN",placeholder:"ISBN",name:"isbn",onChange:O,value:t.isbn}),r.a.createElement(T.a.Field,{id:"form-input-control-last-name",control:P.a,label:"Preis",placeholder:"Preis",name:"price",icon:"euro sign",onChange:function(e,t){var a=t.value;return s(a)},onBlur:function(e){O(0,{name:e.target.name,value:e.target.value})},value:u})),r.a.createElement(T.a.Field,{label:"W\xe4hlen Sie einen Autoren aus:",control:J.a,search:!0,selection:!0,options:j,value:g?g.id:void 0,onChange:function(e,n){var r,l=n.value;r=void 0===l?void 0:l<p?v(l):Object(c.a)({},E,{id:p}),console.log(r,l),C(r),a(Object(c.a)({},t,{authors:r?[r]:[]}))}}),g&&r.a.createElement(q.a,null,r.a.createElement(Z,{author:g,setAuthor:C})))}a(503);var Q=function(){var e=A(),t=Object(o.a)(e,5),a=t[0],l=t[2],i=t[3],u=t[4],s=Object(n.useState)(),m=Object(o.a)(s,2),b=m[0],p=m[1],v=Object(n.useState)(),E=Object(o.a)(v,2),f=E[0],h=E[1],g=x(),C=Object(o.a)(g,1)[0],O=Object(n.useMemo)((function(){return f?C.reduce((function(e,t){for(var a in t.articles){var n=t.articles[a];if(n.id===f.id)return[].concat(Object(I.a)(e),[Object(c.a)({},t,{article:n})])}return e}),[]):null}),[C,f]);return r.a.createElement("div",{className:"articles-tab-container"},r.a.createElement(D.a,{onClick:function(){return p(Object(c.a)({},d,{id:u}))},primary:!0},"Neuer Artikel"),b&&r.a.createElement(R.a,{onClose:function(){return p()},open:!0},r.a.createElement(R.a.Header,null,"Artikel"),r.a.createElement(R.a.Content,null,r.a.createElement(W,{article:b,setArticle:p})),r.a.createElement(R.a.Actions,null,r.a.createElement(D.a,{onClick:function(){return p()},content:"Abbrechen",negative:!0,icon:"close",labelPosition:"right"}),r.a.createElement(D.a,{onClick:function(){i(b),p()},content:"Speichern",positive:!0,icon:"check",labelPosition:"right"}))),f&&r.a.createElement(R.a,{onClose:function(){return h()},open:!0},r.a.createElement(R.a.Header,null,"Rechnungen"),r.a.createElement(R.a.Content,null,r.a.createElement(H.a,null,r.a.createElement(H.a.Header,null,r.a.createElement(H.a.Row,null,r.a.createElement(H.a.HeaderCell,null,"Rechnungsnummer"),r.a.createElement(H.a.HeaderCell,null,"Kunde"),r.a.createElement(H.a.HeaderCell,null,"Verkaufte Exemplare"),r.a.createElement(H.a.HeaderCell,null,"Umsatz"),r.a.createElement(H.a.HeaderCell,null,"Zahlungsdatum"))),r.a.createElement(H.a.Body,null,O.map((function(e){return r.a.createElement(H.a.Row,null,r.a.createElement(H.a.Cell,null,e.invoiceNumber),r.a.createElement(H.a.Cell,null,e.customer.name),r.a.createElement(H.a.Cell,null,e.article.amount),r.a.createElement(H.a.Cell,null,e.article.price),r.a.createElement(H.a.Cell,null,e.paymentDate?U(e.paymentDate):"Ausstehend"))})))))),r.a.createElement(H.a,{celled:!0},r.a.createElement(H.a.Header,null,r.a.createElement(H.a.Row,null,r.a.createElement(H.a.HeaderCell,null,"Id"),r.a.createElement(H.a.HeaderCell,null,"Name"),r.a.createElement(H.a.HeaderCell,null,"ISBN"),r.a.createElement(H.a.HeaderCell,null,"Menge"),r.a.createElement(H.a.HeaderCell,null,"Preis"),r.a.createElement(H.a.HeaderCell,null,"Autoren"),r.a.createElement(H.a.HeaderCell,null))),r.a.createElement(H.a.Body,null,a.map((function(e,t){return e&&r.a.createElement(H.a.Row,null,r.a.createElement(H.a.Cell,null,e.id),r.a.createElement(H.a.Cell,null,e.name),r.a.createElement(H.a.Cell,null,e.isbn),r.a.createElement(H.a.Cell,null,e.amount),r.a.createElement(H.a.Cell,null,e.price),r.a.createElement(H.a.Cell,null,e.authors.map((function(e){return r.a.createElement("p",null,e.name)}))),r.a.createElement(H.a.Cell,null,r.a.createElement(D.a,{onClick:function(){return p(e)},primary:!0,icon:"edit"}),r.a.createElement(D.a,{onClick:function(){return h(e)},icon:"list",secondary:!0}),r.a.createElement(D.a,{onClick:function(){return l(t)},negative:!0,icon:"trash"})))})))))},X=a(616),$=a(621),ee=a(614),te=a(106),ae=a.n(te),ne=(a(504),a(505),a(202)),re={flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",borderWidth:2,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#fafafa",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out"},le={borderColor:"#2196f3"},ce={borderColor:"#00e676"},oe={borderColor:"#ff1744"};function ie(e){var t=e.onDrop,a=Object(ne.b)({accept:"image/*"}),l=a.isDragActive,o=a.isDragAccept,i=a.isDragReject,u=Object(n.useMemo)((function(){return Object(c.a)({},re,{},l?le:{},{},o?ce:{},{},i?oe:{})}),[l,i,o]);return r.a.createElement(ne.a,{onDrop:t},(function(e){var t=e.getRootProps,a=e.getInputProps;return r.a.createElement("div",{className:"container"},r.a.createElement("div",t({style:u,onDrop:function(e){return e.stopPropagation()}}),r.a.createElement("input",a()),r.a.createElement("p",null,"Drag 'n' drop some files here, or click to select files")))}))}function ue(e){var t=e.company,a=e.setCompany,l=e.selected,i=Object(n.useState)(_.a.createValueFromString(t.footerText,"html")),u=Object(o.a)(i,2),s=u[0],m=u[1],d=Object(n.useState)(_.a.createValueFromString(t.subjectAndBelow,"html")),b=Object(o.a)(d,2),p=b[0],v=b[1],E=Object(n.useState)(_.a.createValueFromString(t.invoiceText,"html")),f=Object(o.a)(E,2),h=f[0],g=f[1],C=Object(n.useState)(_.a.createValueFromString(t.contactInformation,"html")),O=Object(o.a)(C,2),j=O[0],y=O[1],k=Object(n.useState)(_.a.createValueFromString(t.aboveClientInvoiceAddress,"html")),N=Object(o.a)(k,2),S=N[0],w=N[1],I=function(e,n){a(Object(c.a)({},t,Object(M.a)({},e,n.toString("html"))))},x=function(e,n){var r=n.name,l=n.value;a(Object(c.a)({},t,Object(M.a)({},r,l)))};return r.a.createElement(T.a,null,"advancedSettings"===l&&r.a.createElement(T.a.Field,{label:"Firmename",control:P.a,name:"name",onChange:x,value:t.name}),"logo"===l&&r.a.createElement(q.a,null,r.a.createElement("h4",null,"Logo"),""!==t.logo?r.a.createElement("div",null,r.a.createElement("img",{src:t.logo,alt:"company logo"}),r.a.createElement(D.a,{negative:!0,onClick:function(){return a(Object(c.a)({},t,{logo:""}))}},"L\xf6schen")):r.a.createElement(ie,{onDrop:function(e){var n=e[0],r=new FileReader;r.onload=function(e){a(Object(c.a)({},t,{logo:e.target.result}))},r.readAsDataURL(n)}})),"aboveClientInvoiceAddress"===l&&r.a.createElement(T.a.Field,{control:z,value:S,onChange:w,onBlur:function(){I("aboveClientInvoiceAddress",S)},label:"Absender",name:"aboveClientInvoiceAddress"}),"contactInformation"===l&&r.a.createElement(T.a.Field,{control:z,value:j,onChange:y,onBlur:function(){I("contactInformation",j)},label:"Kontakt Informationen",name:"contactInformation"}),"subjectAndBelow"===l&&r.a.createElement(T.a.Field,{control:z,value:p,onChange:v,onBlur:function(){I("subjectAndBelow",p)},label:"Betreff und Begr\xfc\xdfung",name:"subjectAndBelow"}),"invoiceText"===l&&r.a.createElement(T.a.Field,{control:z,value:h,onChange:g,onBlur:function(){I("invoiceText",h)},label:"Rechnungstext",name:"invoiceText"}),"footerText"===l&&r.a.createElement(T.a.Field,{control:z,value:s,onChange:function(e){m(e)},onBlur:function(){I("footerText",s)},label:"Fu\xdfzeile",name:"footerText"}),"advancedSettings"===l&&r.a.createElement(T.a.Field,{label:"Farbe",control:P.a,placeholder:"z.B. #ffffff oder rgb(120,0,0)",name:"companyColor",onChange:x,value:t.color}))}var se=function(e){var t=e.invoice,a=e.setInvoice,l=e.formSelected,i=void 0===l?[]:l,u=e.wrapperClass,s=e.setFormSelected,m=F(),p=Object(o.a)(m,6),v=p[0],E=p[4],f=p[5],h=w(),g=Object(o.a)(h,2),C=g[0],O=g[1],j=Object(n.useState)(f(t.customer.id)||t.customer),y=Object(o.a)(j,2),k=y[0],N=y[1],S=A(),x=Object(o.a)(S,6),H=x[0],L=x[1],_=x[4],z=x[5],K=Object(n.useState)(t.articles),U=Object(o.a)(K,2),V=U[0],Z=U[1],Q=Object(n.useState)(Object(c.a)({},d,{id:_})),te=Object(o.a)(Q,2),ne=te[0],re=te[1],le=Object(n.useState)(1),ce=Object(o.a)(le,2),oe=ce[0],ie=ce[1],se=Object(n.useState)(1),me=Object(o.a)(se,2),de=me[0],be=me[1],pe=Object(n.useState)(void 0),ve=Object(o.a)(pe,2),Ee=ve[0],fe=ve[1],he=Object(n.useState)(t.porto),ge=Object(o.a)(he,2),Ce=ge[0],Oe=ge[1],je=B(),ye=Object(o.a)(je,4)[3],ke=function(e,n){var r=n.name,l=n.value,o=n.checked;if("porto"===r){if(l=parseFloat(l.replace(",",".")),isNaN(l))return void Oe("");l=Y(l),Oe(l)}"payed"===r&&(l=o),a(Object(c.a)({},t,Object(M.a)({},r,l)))},Ne=function(){return fe(!Ee)},Se=function(e,n){a(Object(c.a)({},t,Object(M.a)({},n,e.toString())))},we=Object(n.useMemo)((function(){return[{key:E,value:E,text:"Neuer Kunde"}].concat(v.map((function(e){return{key:e.id,text:e.name,value:e.id}})))}),[v,k]),Ie=Object(n.useMemo)((function(){return[].concat(H.map((function(e){var t=e.name.slice(0,7);return t!==e.name&&(t+="..."),{key:e.id,value:e.id,text:t}})))}),[H]),xe=function(e,n,r){var l;if(e>=V.length){if(r>=_)return;l=[].concat(Object(I.a)(V),[{toBeSend:de,toBePayed:oe,articleId:r}]),be(1),ie(1)}else(l=Object(I.a)(V))[e][n]=r;Z(l),a(Object(c.a)({},t,{articles:l.map((function(e){return Object(c.a)({},e,{},z(e.articleId))}))}))};return r.a.createElement("div",{className:u},r.a.createElement("div",{className:"invoice-form-buttons"},r.a.createElement(D.a,{onClick:Ne,primary:!0},"Neuen Artikel Anlegen")),r.a.createElement("div",{className:"invoice-form "},"customer"===i[0]&&r.a.createElement(R.a,{open:!0,onClose:function(){return s([])},closeIcon:!0},r.a.createElement("div",{className:"invoice-form-wrap"},r.a.createElement(T.a,null,r.a.createElement(T.a.Field,{label:"W\xe4hlen Sie einen Kunden aus:",control:J.a,search:!0,selection:!0,options:we,value:k.id,onChange:function(e,n){var r,l=n.value;r=l<E?f(l):Object(c.a)({},b,{id:E}),N(r),console.log(r),a(Object(c.a)({},t,{customer:r}))}})),r.a.createElement(q.a,null,r.a.createElement(G,{customer:k,setCustomer:function(e){N(e),a(Object(c.a)({},t,{customer:e}))}})))),r.a.createElement(X.a,null,r.a.createElement($.a,{fluid:!0},r.a.createElement($.a.Content,null,r.a.createElement("div",{className:"invoice-form-wrap"},r.a.createElement("div",null,r.a.createElement(T.a,null,V.length>0&&r.a.createElement("div",null,r.a.createElement("h3",null,"Artikel in der Rechnung"),V.map((function(e,n){return r.a.createElement("div",null,r.a.createElement(T.a.Group,{widths:"equal"},r.a.createElement(T.a.Input,{fluid:!0,name:"toBeSend",type:"number",label:"Senden",value:e.toBeSend,onChange:function(e,t){var a=t.value,r=t.name;return xe(n,r,a)}}),r.a.createElement(T.a.Input,{fluid:!0,name:"toBePayed",type:"number",label:"Bezahlen",value:e.toBePayed,onChange:function(e,t){var a=t.value,r=t.name;return xe(n,r,a)}}),r.a.createElement(T.a.Field,{control:J.a,fluid:!0,label:"Artikel",name:"articleId",search:!0,selection:!0,options:Ie,value:e.articleId,onChange:function(e,t){var a=t.value,r=t.name;return xe(n,r,a)}}),r.a.createElement(T.a.Field,null,r.a.createElement("label",null,"\xa0"),r.a.createElement(D.a,{icon:"trash",negative:!0,onClick:function(){return function(e){var n=V.filter((function(t,a){return a!==e}));Z(n),a(Object(c.a)({},t,{articles:n.map((function(e){return Object(c.a)({},z(e.articleId),{},e)}))}))}(n)}}))))})),r.a.createElement("hr",null)),r.a.createElement("h3",null,"Artikel hinzuf\xfcgen"),r.a.createElement(T.a.Group,{widths:"equal"},r.a.createElement(T.a.Input,{fluid:!0,name:"amount",type:"number",label:"Zu Senden",value:de,onChange:function(e,t){var a=t.value;return be(a)}}),r.a.createElement(T.a.Input,{fluid:!0,name:"amountPayed",type:"number",label:"Zu Bezahlen",value:oe,onChange:function(e,t){var a=t.value;return ie(a)}}),r.a.createElement(T.a.Field,{control:J.a,fluid:!0,label:"Artikel",name:"articleId",search:!0,selection:!0,options:Ie,value:ne.id,onChange:function(e,t){var a=t.value;return xe(V.length,"articleId",a)}})))),r.a.createElement(R.a,{open:Ee,onClose:Ne,closeIcon:!0},r.a.createElement(R.a.Header,null,"Neuer Artikel"),r.a.createElement(R.a.Content,null,r.a.createElement(W,{article:ne,setArticle:re})),r.a.createElement(R.a.Actions,null,r.a.createElement(D.a,{onClick:Ne,content:"Abbrechen",negative:!0,icon:"close",labelPosition:"right"}),r.a.createElement(D.a,{onClick:function(){L(ne),re(Object(c.a)({},d,{id:_+1})),Ne(),ne.authors.length>0&&ye(ne.authors[0])},content:"Anlegen",positive:!0,icon:"check",labelPosition:"right"})))))),"general"===i[0]&&r.a.createElement(R.a,{open:!0,onClose:function(){return s([])},closeIcon:!0},r.a.createElement("div",{className:"invoice-form-wrap"},r.a.createElement(T.a,null,r.a.createElement(T.a.Group,{fluid:!0,widths:"equal"},"invoiceDate"===i[1]&&r.a.createElement(T.a.Field,{label:"Rechnungsdatum",name:"invoiceDate",selected:new Date(t.invoiceDate),onChange:function(e){return Se(e,"invoiceDate")},control:ae.a,dateFormat:"dd/MM/yyyy"}),"orderDate"===i[1]&&r.a.createElement(T.a.Field,{label:"Bestelldatum",name:"orderDate",selected:new Date(t.orderDate),onChange:function(e){return Se(e,"orderDate")},control:ae.a,dateFormat:"dd/MM/yyyy"}),"shippingDate"===i[1]&&r.a.createElement(T.a.Field,{label:"Versanddatum",name:"shippingDate",selected:new Date(t.shippingDate),onChange:function(e){return Se(e,"shippingDate")},control:ae.a,dateFormat:"dd/MM/yyyy"})),r.a.createElement(T.a.Group,{fluid:!0,widths:"equal"},"porto"===i[1]&&r.a.createElement(T.a.Field,{label:"Porto",value:Ce,name:"porto",onChange:function(e,t){var a=t.value;return Oe(a)},control:P.a,onBlur:function(e){return ke(0,{name:e.target.name,value:e.target.value})},icon:"euro"}),"invoiceNumber"===i[1]&&r.a.createElement(T.a.Field,{label:"Rechnungsnummer",name:"invoiceNumber",value:t.invoiceNumber,onChange:ke,control:P.a})),"payed"===i[1]&&r.a.createElement("div",null,r.a.createElement(T.a.Field,null,r.a.createElement("label",null,"Bezahlt"),r.a.createElement(ee.a,{onChange:function(e,n){var r,l,o=n.name,i=n.checked;i?a(Object(c.a)({},t,(r={},Object(M.a)(r,o,i),Object(M.a)(r,"paymentDate",new Date),r))):a(Object(c.a)({},t,(l={},Object(M.a)(l,o,i),Object(M.a)(l,"paymentDate",void 0),l)))},name:"payed",checked:t.payed,toggle:!0})),t.payed&&r.a.createElement(T.a.Field,{label:"Zahlungseingangsdatum",name:"paymentDate",selected:new Date(t.paymentDate),onChange:function(e){return Se(e,"paymentDate")},control:ae.a,dateFormat:"dd/MM/yyyy"}))),r.a.createElement(ue,{company:C,setCompany:function(e){O(e),a(Object(c.a)({},t,{company:e}))},selected:i[1]}))))))},me=a(310),de=a.n(me),be=a(311),pe=a.n(be),ve=function(e){var t=e.id,a=(e.label,e.fileName);return r.a.createElement(D.a,{primary:!0,onClick:function(){var e=document.getElementById(t);de()(e,{scale:3}).then((function(e){var t=e.toDataURL("image/jpeg",.5),n=new pe.a;n.addImage(t,"JPEG",0,0,210,297),n.save("".concat(a,".pdf"))}))},icon:"download",labelPosition:"right",content:"Download"})},Ee=function(e){var t=e.children,a=e.singleMode,n=e.id;return r.a.createElement("div",{id:n,className:"bg-white shadow-1 center",style:{width:"210mm",height:a?"297mm":""}},t)};a(593);function fe(e){var t=e.onClick,a=e.wrapperClass,n=e.children;return r.a.createElement("div",{className:"".concat(a||""," invoice-overlay-wrapper")},n,r.a.createElement("div",{className:"invoice-overlay",onClick:t}))}var he=function(e){var t=e.id,a=e.invoice,n=a.orderDate,l=a.invoiceDate,c=a.shippingDate,o=a.invoiceNumber,i=a.porto,u=a.customer,s=a.articles,m=void 0===s?[]:s,d=a.company,b=e.setFormSelected,p=m.map((function(e){var t=e.price,a=e.toBePayed,n=V(t)*a;return(n-n*(u.discount/100))/(1+u.ust/100)})).reduce((function(e,t){return parseFloat(t)+e}),0);return u?r.a.createElement(Ee,{singleMode:!0,id:t},r.a.createElement("div",{className:"invoice-folding-line",style:d.companyColor?{borderColor:d.companyColor}:{}}),r.a.createElement("div",{className:"invoice-page-pdf"},r.a.createElement("div",{className:"invoice-page-top"},r.a.createElement(fe,{onClick:function(){return b(["general","logo"])}},r.a.createElement("div",{className:"invoice-page-image-wrapper"},r.a.createElement("img",{className:"invoice-header-company-logo",src:d.logo,alt:"company logo"}))),r.a.createElement("div",{className:"invoice-header"},r.a.createElement("div",{className:"invoice-header-customer-address"},r.a.createElement(fe,{wrapperClass:"invoice-header-customer-company",onClick:function(){return b(["general","aboveClientInvoiceAddress"])}},r.a.createElement("div",{dangerouslySetInnerHTML:{__html:d.aboveClientInvoiceAddress}})),u?r.a.createElement(fe,{wrapperClass:"invoice-header-customer-info",onClick:function(){return b(["customer"])}},r.a.createElement("div",{dangerouslySetInnerHTML:{__html:u.invoiceAddress}})):r.a.createElement(D.a,null,"Kunde hinzuf\xfcgen")),r.a.createElement(fe,{wrapperClass:"invoice-header-company-info",onClick:function(){return b(["general","contactInformation"])}},r.a.createElement("div",{dangerouslySetInnerHTML:{__html:d.contactInformation}})))),r.a.createElement("div",{className:"invoice-body"},r.a.createElement("div",{className:"invoice-body-top"},r.a.createElement("div",{className:"invoice-subject"},r.a.createElement(fe,{wrapperClass:"invoice-subject-and-below",onClick:function(){return b(["general","subjectAndBelow"])}},r.a.createElement("div",{dangerouslySetInnerHTML:{__html:d.subjectAndBelow}})),r.a.createElement("div",{className:"invoice-body-subject-key-values"},r.a.createElement("div",{className:"invoice-body-subject-keys"},r.a.createElement("div",{className:"invoice-body-order-date"},r.a.createElement("p",null,r.a.createElement("b",null,"Bestelldatum:"))),r.a.createElement("div",{className:"invoice-body-send-date"},r.a.createElement("p",null,r.a.createElement("b",null,"Versanddatum:"))),r.a.createElement("div",{className:"invoice-body-send-to"},r.a.createElement("p",null,r.a.createElement("b",null,"Versand an:")))),r.a.createElement("div",{className:"invoice-body-subject-values"},r.a.createElement(fe,{onClick:function(){return b(["general","orderDate"])},wrapperClass:"invoice-body-order-date"},r.a.createElement("p",null,r.a.createElement("b",null,U(n)))),r.a.createElement(fe,{onClick:function(){return b(["general","shippingDate"])},wrapperClass:"invoice-body-send-date"},r.a.createElement("p",null,r.a.createElement("b",null,U(c)))),r.a.createElement(fe,{onClick:function(){return b(["customer"])}},r.a.createElement("div",{className:"invoice-body-send-to",dangerouslySetInnerHTML:{__html:u.shippingAddress}}))))),r.a.createElement("div",{className:"invoice-body-invoice-date"},r.a.createElement(fe,{onClick:function(){return b(["general","invoiceDate"])}},r.a.createElement("div",{className:"invoice-body-top-right"},r.a.createElement("p",null,"Rechnungsdatum: ",r.a.createElement("b",null,U(l))))),r.a.createElement(fe,{onClick:function(){return b(["general","invoiceNumber"])}},r.a.createElement("div",{className:"invoice-body-invoice-nr"},r.a.createElement("p",null,"Rechnungsnummer: ",r.a.createElement("b",null,o)))),r.a.createElement("div",{className:"invoice-body-invoice-hint"},r.a.createElement("p",null,"(Bitte bei Zahlung angeben)")))),r.a.createElement("div",{className:"invoice-body-bottom"},r.a.createElement("div",{className:"invoice-body-article-wrapper"},m.map((function(e){var t=e.toBePayed,a=e.toBeSend,n=e.price,l=e.name,c=e.isbn,o=parseInt(t)>1,i=V(n)*t,s=i-i*(u.discount/100),d=s/(1+u.ust/100);return r.a.createElement("div",{className:"invoice-body-article"},r.a.createElement("div",{className:"invoice-body-article-left"},r.a.createElement("div",{className:"invoice-body-article-description"},r.a.createElement("div",null,r.a.createElement("b",null,t!==a&&a+"/",t," Exemplar",o&&"e")),r.a.createElement("div",{className:"invoice-body-article-title"},r.a.createElement("b",null,l&&"\u201e".concat(l,"\u201c,"))),r.a.createElement("div",{className:"invoice-body-article-title"},c&&"".concat(c,","))),r.a.createElement("div",{className:"invoice-body-artivle-price-calc"},"Preis ".concat(o?"je":""," ").concat(n," \u20ac").concat(o?" = ".concat(Y(i)," \u20ac"):"").concat(u.discount>0?", abz\xfcglich ".concat(u.discount," % Rabatt = ").concat(Y(s)," \u20ac"):""," (beinhaltet ").concat(u.ust," % MwST = ").concat(Y(s-d)," \u20ac)"))),r.a.createElement("div",{className:"invoice-body-article-price"},r.a.createElement("b",null,m.length>1&&"".concat(Y(d)," \u20ac"))))}))),r.a.createElement("div",{className:"invoice-body-price-calculation"},r.a.createElement("div",{className:"invoice-body-price-calculation-label-and-number"},r.a.createElement("p",null,"Netto"),r.a.createElement("p",null,r.a.createElement("b",null,Y(p)," \u20ac"))),r.a.createElement(fe,{onClick:function(){return b(["general","porto"])}},r.a.createElement("div",{className:"invoice-body-price-calculation-label-and-number"},r.a.createElement("p",null,"Versandkosten"),r.a.createElement("p",null,r.a.createElement("b",null,i.replace(".",",")," \u20ac")))),r.a.createElement(fe,{onClick:function(){return b(["customer"])}},r.a.createElement("div",{className:"invoice-body-price-calculation-label-and-number"},r.a.createElement("p",null,"+".concat(u.ust,"% Mehrwertsteuer")),r.a.createElement("p",null,r.a.createElement("b",null,Y((p+parseFloat(i))*parseFloat(u.ust)/100)," ","\u20ac"))))),r.a.createElement("div",{className:"invoice-body-price"},r.a.createElement("p",null,"Rechnungsbetrag"),r.a.createElement("p",null,r.a.createElement("b",null,Y((p+parseFloat(i))*(1+parseFloat(u.ust)/100))," ","\u20ac"))),r.a.createElement(fe,{onClick:function(){return b(["general","invoiceText"])},wrapperClass:"invoice-body-final-text"},r.a.createElement("div",null,r.a.createElement("p",{dangerouslySetInnerHTML:{__html:d.invoiceText}}))))),r.a.createElement(fe,{onClick:function(){return b(["general","footerText"])}},r.a.createElement("div",{className:"invoice-footer",style:d.companyColor?{borderColor:d.companyColor}:{},dangerouslySetInnerHTML:{__html:d.footerText}})))):null},ge=a(622),Ce=(a(594),function(e){var t=e.edit,a=e.invoice,l=e.setInvoice,c=e.invoices,i=e.updateInvoice,u=e.onSave;if(!a||!c)return null;var s=Object(n.useState)(t),m=Object(o.a)(s,2),d=m[0],b=m[1],p=Object(n.useState)([]),v=Object(o.a)(p,2),E=v[0],f=v[1],h=F(),g=Object(o.a)(h,4)[3],C=a.id===c.length;return r.a.createElement("div",null,r.a.createElement("div",{className:"invoice-page-header"},r.a.createElement(ge.a,{info:!0,header:"Neue Rechnung erstellen",content:"Klicken Sie auf den Bereich, den Sie anpassen wollen. Rechts k\xf6nnen Sie Artikel zur Rechnung hinzuf\xfcgen oder neue erstellen.",icon:"bell"})),r.a.createElement("div",{className:"invoice-page"},r.a.createElement("div",{className:"invoice-page-wrapper"},d?r.a.createElement("div",{className:"invoice-page-button-container"},r.a.createElement("div",null,r.a.createElement(ve,{id:"singlePage",label:"Rechnung Herunterladen",fileName:a.invoiceNumber})),r.a.createElement("div",null,r.a.createElement(D.a,{onClick:function(){return l()},content:"Abbrechen",negative:!0,icon:"close",labelPosition:"right"}),a.customer&&r.a.createElement(D.a,{onClick:function(){a.totalPrice=function(e){return e.articles.map((function(t){var a=t.price,n=t.toBePayed,r=V(a)*n;return r-r*(e.customer.discount/100)})).reduce((function(e,t){return t+e}),0)+V(e.porto)+V(e.porto)*e.customer.ust/100}(a),i(a),l(),console.log(a.customer),g(a.customer),"function"===typeof u&&u()},content:C?"Anlegen":"Speichern",positive:!0,icon:"check",labelPosition:"right"}))):r.a.createElement("div",{className:"invoice-button-wrapper"},r.a.createElement(D.a,{onClick:function(){return b(!0)},primary:!0},"Neue Rechnung erstellen")),r.a.createElement(he,{id:"singlePage",invoice:a,setInvoice:l,setFormSelected:f})),d&&r.a.createElement(se,{wrapperClass:"invoice-form-wrapper",invoice:a,setInvoice:l,formSelected:E,setFormSelected:f})))}),Oe=function(){var e=x(),t=Object(o.a)(e,5),a=t[0],l=t[2],i=t[3],u=t[4],s=Object(n.useState)(),m=Object(o.a)(s,2),d=m[0],v=m[1],E=w(),f=Object(o.a)(E,1)[0],h=F(),g=Object(o.a)(h,5),C=(g[0],g[4]);return d?r.a.createElement(Ce,{edit:!0,invoice:d,setInvoice:v,updateInvoice:i,invoices:a}):r.a.createElement("div",{className:"invoice-tab-container"},r.a.createElement(D.a,{onClick:function(){return v(Object(c.a)({},p,{id:u,customer:Object(c.a)({},b,{id:C}),company:f}))},primary:!0},"Neue Rechnung"),r.a.createElement(H.a,{celled:!0},r.a.createElement(H.a.Header,null,r.a.createElement(H.a.Row,null,r.a.createElement(H.a.HeaderCell,null,"Rechnungsnummer"),r.a.createElement(H.a.HeaderCell,null,"Rechnungsdatum"),r.a.createElement(H.a.HeaderCell,null,"Kunde"),r.a.createElement(H.a.HeaderCell,null,"Artikel"),r.a.createElement(H.a.HeaderCell,null,"Gesamtpreis"),r.a.createElement(H.a.HeaderCell,null,"Zahlungseingang"),r.a.createElement(H.a.HeaderCell,null))),r.a.createElement(H.a.Body,null,a.map((function(e){return e&&"object"===typeof e&&r.a.createElement(H.a.Row,{key:e.id},r.a.createElement(H.a.Cell,null,e.invoiceNumber),r.a.createElement(H.a.Cell,null,U(e.invoiceDate)),r.a.createElement(H.a.Cell,null,e.customer.name),r.a.createElement(H.a.Cell,null,e.articles.map((function(e){return r.a.createElement("p",null,e.name)}))),r.a.createElement(H.a.Cell,null,Y(e.totalPrice)," \u20ac"),r.a.createElement(H.a.Cell,null,e.paymentDate?U(e.paymentDate):"Ausstehend"),r.a.createElement(H.a.Cell,null,r.a.createElement(D.a,{primary:!0,icon:"edit",onClick:function(){return v(e)}}),r.a.createElement(D.a,{negative:!0,icon:"trash",onClick:function(){return l(e.id)}})))})))))};function je(){var e=B(),t=Object(o.a)(e,5),a=t[0],l=t[2],i=t[3],u=t[4],s=Object(n.useState)(),m=Object(o.a)(s,2),d=m[0],b=m[1];return r.a.createElement("div",null,r.a.createElement(D.a,{onClick:function(){return b(Object(c.a)({},E,{id:u}))},primary:!0},"Neuer Autor"),d&&r.a.createElement(R.a,{onClose:function(){return b()},open:!0},r.a.createElement(R.a.Header,null,"Author"),r.a.createElement(R.a.Content,null,r.a.createElement(Z,{author:d,setAuthor:b})),r.a.createElement(R.a.Actions,null,r.a.createElement(D.a,{onClick:function(){return b()},content:"Abbrechen",negative:!0,icon:"close",labelPosition:"right"}),r.a.createElement(D.a,{onClick:function(){i(d),b()},content:"Speichern",primary:!0,icon:"check",labelPosition:"right"}))),r.a.createElement(H.a,{celled:!0},r.a.createElement(H.a.Header,null,r.a.createElement(H.a.Row,null,r.a.createElement(H.a.HeaderCell,null,"Id"),r.a.createElement(H.a.HeaderCell,null,"Name"),r.a.createElement(H.a.HeaderCell,null,"Kontakt"),r.a.createElement(H.a.HeaderCell,null,"Prozent"),r.a.createElement(H.a.HeaderCell,null))),r.a.createElement(H.a.Body,null,a.map((function(e,t){return e&&r.a.createElement(H.a.Row,{key:e.id},r.a.createElement(H.a.Cell,null,e.id),r.a.createElement(H.a.Cell,null,e.name),r.a.createElement(H.a.Cell,null,e.contact),r.a.createElement(H.a.Cell,null,e.percent," %"),r.a.createElement(H.a.Cell,null,r.a.createElement(D.a,{onClick:function(){return b(e)},icon:"edit",primary:!0}),r.a.createElement(D.a,{onClick:function(){return l(e.id)},negative:!0,icon:"trash"})))})))))}var ye=a(64);function ke(){var e=w(),t=Object(o.a)(e,1)[0],a=F(),l=Object(o.a)(a,1)[0],i=Object(ye.f)(),u=x(),s=Object(o.a)(u,5),m=s[0],d=s[3],v=s[4],E=Object(n.useState)(Object(c.a)({},p,{id:v,customer:Object(c.a)({},b,{id:l.length}),company:t})),f=Object(o.a)(E,2),h=f[0],g=f[1];return r.a.createElement(Ce,{invoice:h,setInvoice:g,updateInvoice:d,invoices:m,edit:!0,onSave:function(){i.push("/invoices")}})}var Ne=a(135),Se=a(73),we=(a(600),h().backendURL+"/login");function Ie(e){return xe.apply(this,arguments)}function xe(){return(xe=Object(m.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.post(we,t);case 3:if(!(a=e.sent).data||200===a.status){e.next=6;break}throw a.data.message;case 6:return e.abrupt("return",a.data);case 9:throw e.prev=9,e.t0=e.catch(0),"Die Email oder das Passwort ist leider falsch.";case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}var Ae=h().backendURL+"/register";function Be(e){return Fe.apply(this,arguments)}function Fe(){return(Fe=Object(m.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.post(Ae,t);case 3:return a=e.sent,e.abrupt("return",a.data);case 7:throw e.prev=7,e.t0=e.catch(0),e.t0.response.data.message;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function De(e){return Re.apply(this,arguments)}function Re(){return(Re=Object(m.a)(s.a.mark((function e(t){var a,n,r,l,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.customers,n=t.articles,r=t.invoices,l=t.authors,c=t.company,!a){e.next=4;break}return e.next=4,localStorage.setItem("customers",JSON.stringify(a));case 4:if(!n){e.next=7;break}return e.next=7,localStorage.setItem("articles",JSON.stringify(n));case 7:if(!r){e.next=10;break}return e.next=10,localStorage.setItem("invoices",JSON.stringify(r));case 10:if(!l){e.next=13;break}return e.next=13,localStorage.setItem("authors",JSON.stringify(l));case 13:if(!c){e.next=16;break}return e.next=16,localStorage.setItem("authors",JSON.stringify(c));case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function He(){return Me.apply(this,arguments)}function Me(){return(Me=Object(m.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{invoices:JSON.parse(localStorage.getItem("invoices",[])),customers:JSON.parse(localStorage.getItem("customers",[])),authors:JSON.parse(localStorage.getItem("authors",[])),articles:JSON.parse(localStorage.getItem("articles",[])),company:JSON.parse(localStorage.getItem("company",{}))});case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Te(){var e=x(),t=Object(o.a)(e,1)[0],a=Object(ye.f)(),l=Object(n.useState)({email:"",password:""}),u=Object(o.a)(l,2),d=u[0],b=u[1],p=Object(n.useState)(!1),v=Object(o.a)(p,2),E=v[0],f=v[1],h=i("user",{}),g=Object(o.a)(h,2),C=g[0],O=g[1],y=Object(n.useState)("register"),k=Object(o.a)(y,2),S=k[0],w=k[1],I=Object(n.useState)(""),A=Object(o.a)(I,2),B=A[0],F=A[1];return r.a.createElement("div",{className:"oi-top-navigation-bar"},r.a.createElement("div",null,r.a.createElement("h2",{className:"oi-top-navigation-bar-heading"},"Billeroo")),r.a.createElement("div",{className:"billeroo-top-navigation-bar-buttons"},t.length>0&&r.a.createElement("div",null,r.a.createElement(D.a.Group,null,r.a.createElement(D.a,{content:"Rechnungen",onClick:function(){return a.push("invoices")}}),r.a.createElement(D.a,{content:"Artikel",onClick:function(){return a.push("articles")}}),r.a.createElement(D.a,{content:"Kunden",onClick:function(){return a.push("customers")}}),r.a.createElement(D.a,{content:"Autoren",onClick:function(){return a.push("authors")}})),r.a.createElement(D.a,{size:"large",className:"oi-top-navigation-bar-new-invoice",content:"Neue Rechnung",onClick:function(){return a.push("/")},secondary:!0})),r.a.createElement(D.a,Object.assign({className:"oi-top-navigation-bar-new-invoice",onClick:function(){return f(!0)}},C&&C.user?{content:C.user.email}:{icon:"user"},{primary:!0})),C&&C.user?r.a.createElement(R.a,{open:E,onClose:function(){return f(!1)}},r.a.createElement(R.a.Header,null,"Nutzer"),r.a.createElement(R.a.Content,null,r.a.createElement("div",null,r.a.createElement("p",null,"Angemeldet als ",C.user.email),r.a.createElement(D.a,{content:"Abmelden",onClick:function(){O({}),De({articles:[],invoices:[],customers:[],authors:[]}),window.document.location.href="/"}})))):r.a.createElement(R.a,{open:E,onClose:function(){f(!1),F("")}},r.a.createElement(R.a.Header,null,"login"===S?"Anmelden":"Registrieren"),r.a.createElement(R.a.Content,null,r.a.createElement(ge.a,{info:!0},"login"===S?"Melden Sie sich an, um diesen Browser mit ihren Daten zu synchronisieren.":"Registrieren Sie sich, um ihre Daten auch auf anderen Ger\xe4ten zu nutzen."),B&&r.a.createElement(ge.a,{error:!0},B),r.a.createElement(T.a,null,r.a.createElement(T.a.Field,{label:"Email",placeholder:"Email",control:P.a,value:d.email,onChange:function(e,t){var a=t.value;return b(Object(c.a)({},d,{email:a}))}}),r.a.createElement(T.a.Field,{label:"Passwort",placeholder:"Passwort",control:P.a,type:"password",value:d.password,onChange:function(e,t){var a=t.value;return b(Object(c.a)({},d,{password:a}))}}),r.a.createElement(D.a,{onClick:function(){w("register"===S?"login":"register"),F("")},type:"button"},"register"===S?"Anmelden":"Registrieren"),r.a.createElement(D.a,{type:"submit",primary:!0,onClick:Object(m.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"login"!==S){e.next=13;break}return e.next=4,Ie(d);case 4:return t=e.sent,e.next=7,localStorage.setItem("user",JSON.stringify(t));case 7:return e.next=9,N();case 9:De(e.sent),e.next=22;break;case 13:return e.next=15,Be(d);case 15:return t=e.sent,e.next=18,localStorage.setItem("user",JSON.stringify(t));case 18:return e.next=20,He();case 20:j(e.sent);case 22:O(t),f(!1),window.document.location.href="/",e.next=30;break;case 27:e.prev=27,e.t0=e.catch(0),F(e.t0);case 30:case"end":return e.stop()}}),e,null,[[0,27]])})))},"login"===S?"Anmelden":"Registrieren",r.a.createElement(Se.a,{name:"right chevron"})))))))}a(601);Object(l.render)(r.a.createElement((function(){return r.a.createElement(Ne.a,null,r.a.createElement(Te,null),r.a.createElement("div",{className:"invoice-app-container"},r.a.createElement(ye.c,null,r.a.createElement(ye.a,{exact:!0,path:"/"},r.a.createElement(ke,null)),r.a.createElement(ye.a,{path:"/invoices"},r.a.createElement(Oe,null)),r.a.createElement(ye.a,{path:"/customers"},r.a.createElement(K,null)),r.a.createElement(ye.a,{path:"/articles"},r.a.createElement(Q,null)),r.a.createElement(ye.a,{path:"/authors"},r.a.createElement(je,null)))))}),null),document.getElementById("root"))}},[[325,1,2]]]);
//# sourceMappingURL=main.f6b52543.chunk.js.map