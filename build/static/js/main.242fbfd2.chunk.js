(this["webpackJsonpreact-4798tj"]=this["webpackJsonpreact-4798tj"]||[]).push([[0],{312:function(e,a,t){e.exports=t(572)},471:function(e,a,t){},472:function(e,a,t){},474:function(e,a,t){},563:function(e,a,t){},564:function(e,a,t){},570:function(e,a,t){},572:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(42),c=t(18),o=t(27),i=t(11);function u(e,a){var t=Object(n.useState)((function(){try{var t=window.localStorage.getItem(e);return t?JSON.parse(t):a}catch(n){return console.log(n),a}})),l=Object(i.a)(t,2),r=l[0],c=l[1];return[r,function(a){try{var t=a instanceof Function?a(r):a;c(t),window.localStorage.setItem(e,JSON.stringify(t))}catch(n){console.log(n)}}]}var m={name:"",empty:!0,price:"20,00",isbn:"",amount:1,authors:[]},s={name:"Max Mustermann",invoiceAddress:"<p>musterdomain.de<br/>  Muster Firma GbR<br/>  Musterstra\xdfe 2<br/>  15366 Musterstadt</p>",shippingAddress:"<p>musterdomain.de \u2022 Muster Firma GbR<br/>  Musterstra\xdfe 2 \u2022 15366 Musterstadt</p>",discount:0,ust:7},d={invoiceDate:(new Date).toString(),shippingDate:(new Date).toString(),orderDate:(new Date).toString(),invoiceNumber:"",porto:"5,00",finalText:"",articles:[]},v={name:"",executive:"",logo:"",aboveClientInvoiceAddress:"<p>Verlag GbR \u2022 Musterstra\xdfe 12 \u2022 10405 Musterstadt</p>",footerText:"<p><b>Gesch\xe4ftsf\xfchrung</b> Max Mustermann<br/>  <b>Bankverbindung</b> Postbank \u2022 IBAN DE 00 0000 0000 0000 00 \u2022 BIC ABCDEFGHIJKL<br/>  <b>Steuernummer</b> 000/000/00000 | <b>USt-IdNr.</b> DE000000000</p>",invoiceText:"<p>Zahlen Sie bitte den Rechnungsbetrag bis zum <Datum> unter Angabe der Rechnungsnummerauf unten stehendes Konto.<br/>Die gelieferte Ware bleibt bis zur vollst\xe4ndigen Bezahlung Eigentum des Verlages.<br/>Vielen Dank f\xfcr Ihre Bestellung.</p><p>Mit herzlichen Gr\xfc\xdfen.<br/>Musterstadt, den <Datum></p>",subjectAndBelow:"<h3>Rechnung</h3>  <p><br></p>  <p>wir erlauben uns, in Rechnung zu stellen:</p>",contactInformation:"<p>Buch- und Zeitschriftenverlag GbR<br>  Max Mustermann</p>  <p>Hauptsitz<br>  Musterstra\xdfe 12<br>  10405 Musterstadt<br>  Telefon 000 / 00 00 00</p>  <p>B\xfcro Musterstadt<br>  Musterstra\xdfe 19<br>  10409 Musterstadt<br>  Telefon 030 / 00 00 00 00</p>  <p>info@muster-email.de<br>  www.musterdomain.de</p>  <p>Steuernummer 000/000/00000<br>  Finanzamt Musterstadt</p>"},E={name:"",contact:"",books:[]};function b(){return u("company",v)}function p(){return u("invoices",[])}function f(){return u("articles",[])}function g(){return u("authors",[])}function h(){return u("customers",[])}var C=t(576),O=t(587),y=t(590),j=t(21),N=t(588),S=t(585),k=t(34),w=t.n(k);function I(e){var a=Object(n.useState)(!1),t=Object(i.a)(a,2),r=t[0],c=t[1];return console.log(r),l.a.createElement(w.a,Object.assign({},e,{onFocus:function(){return c(!0)},onBlur:function(){e.onBlur&&"function"===typeof e.onBlur&&e.onBlur(),c(!1)},toolbarConfig:{display:r?["INLINE_STYLE_BUTTONS","BLOCK_TYPE_BUTTONS","LINK_BUTTONS","BLOCK_TYPE_DROPDOWN","HISTORY_BUTTONS"]:[],INLINE_STYLE_BUTTONS:[{label:"Bold",style:"BOLD",className:"custom-css-class"},{label:"Italic",style:"ITALIC"},{label:"Underline",style:"UNDERLINE"}],BLOCK_TYPE_DROPDOWN:[{label:"Normal",style:"unstyled"},{label:"Heading Large",style:"header-one"},{label:"Heading Medium",style:"header-two"},{label:"Heading Small",style:"header-three"}],BLOCK_TYPE_BUTTONS:[{label:"UL",style:"unordered-list-item"},{label:"OL",style:"ordered-list-item"}]}}))}function B(e){var a=e.customer,t=e.setCustomer,r=Object(n.useState)(w.a.createValueFromString(a.invoiceAddress,"html")),o=Object(i.a)(r,2),u=o[0],m=o[1],s=Object(n.useState)(w.a.createValueFromString(a.shippingAddress,"html")),d=Object(i.a)(s,2),v=d[0],E=d[1];Object(n.useEffect)((function(){m(w.a.createValueFromString(a.invoiceAddress,"html")),E(w.a.createValueFromString(a.shippingAddress,"html"))}),[a]);var b=function(e,n){var l=n.name,r=n.value;("ust"!==l&&"discount"!==l||(r=parseFloat(r),!isNaN(r)))&&t(Object(c.a)({},a,Object(j.a)({},l,r)))},p=function(e,n){t(Object(c.a)({},a,Object(j.a)({},e,n.toString("html"))))};return l.a.createElement(N.a,null,l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Field,{control:S.a,label:"Kundenname",value:a.name,name:"name",onChange:b})),l.a.createElement(N.a.Field,{control:I,label:"Rechnungsadresse",onChange:m,value:u,onBlur:function(){p("invoiceAddress",u)}}),l.a.createElement(N.a.Field,{control:I,label:"Lieferadress",onChange:E,value:v,onBlur:function(){p("shippingAddress",v)}}),l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Field,{control:S.a,label:"MwST",placeholder:"7",name:"ust",icon:"percent",onChange:b,value:a.ust}),l.a.createElement(N.a.Field,{control:S.a,label:"Kundenrabatt",placeholder:"0",icon:"percent",name:"discount",onChange:b,value:a.discount})))}var A=function(){var e=u("customers",[]),a=Object(i.a)(e,2),t=a[0],r=a[1],m=Object(n.useState)(),d=Object(i.a)(m,2),v=d[0],E=d[1];return l.a.createElement("div",null,l.a.createElement(C.a,{onClick:function(){return E(Object(c.a)({},s,{id:t.length}))},primary:!0},"Neuer Kunde"),v&&l.a.createElement(O.a,{onClose:function(){return E()},open:!0},l.a.createElement(O.a.Header,null,"Kunde"),l.a.createElement(O.a.Content,null,l.a.createElement(B,{customer:v,setCustomer:E})),l.a.createElement(O.a.Actions,null,l.a.createElement(C.a,{onClick:function(){return E()},content:"Abbrechen",negative:!0,icon:"close",labelPosition:"right"}),l.a.createElement(C.a,{onClick:function(){r([].concat(Object(o.a)(t),[v])),E()},content:"Speichern",primary:!0,icon:"check",labelPosition:"right"}))),l.a.createElement(y.a,{celled:!0},l.a.createElement(y.a.Header,null,l.a.createElement(y.a.Row,null,l.a.createElement(y.a.HeaderCell,null,"Name"),l.a.createElement(y.a.HeaderCell,null,"Rechnungsadresse"),l.a.createElement(y.a.HeaderCell,null,"Lieferadress"),l.a.createElement(y.a.HeaderCell,null,"Rabatt"),l.a.createElement(y.a.HeaderCell,null,"MwST"))),l.a.createElement(y.a.Body,null,t.map((function(e){return l.a.createElement(y.a.Row,null,l.a.createElement(y.a.Cell,null,e.name),l.a.createElement(y.a.Cell,null,l.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.invoiceAddress}})),l.a.createElement(y.a.Cell,null,l.a.createElement("div",{dangerouslySetInnerHTML:{__html:e.shippingAddress}})),l.a.createElement(y.a.Cell,null,e.discount),l.a.createElement(y.a.Cell,null,e.ust))})))))},F=(t(471),t(589));function D(e){var a=e.author,t=e.setAuthor,r=Object(n.useState)(a.percent),o=Object(i.a)(r,2),u=o[0],m=o[1],s=function(e,n){var l=n.name,r=n.value;if("percent"===l){if(r=parseFloat(r),isNaN(r))return void m("");r=r.toFixed(2),m(r)}t(Object(c.a)({},a,Object(j.a)({},l,r)))};return l.a.createElement(N.a,null,l.a.createElement(N.a.Group,{width:"equal"},l.a.createElement(N.a.Field,{id:"form-input-control-name",control:S.a,label:"Name",placeholder:"Name",name:"name",onChange:s,value:a.name}),l.a.createElement(N.a.Field,{id:"form-input-control-name",control:S.a,label:"Kontakt",placeholder:"Tel, Email, ...",onChange:s,name:"contact",value:a.contact})),l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Field,{id:"form-input-control-last-name",control:S.a,label:"Prozent",placeholder:"Prozent",name:"percent",icon:"percent",onChange:function(e,a){var t=a.value;return m(t)},onBlur:function(e){s(0,{name:e.target.name,value:e.target.value})},value:u})))}var H=t(593);function M(e){var a=new Date(e),t=a.getDate(),n=a.getMonth()+1;return l.a.createElement("span",{dangerouslySetInnerHTML:{__html:"".concat(t<10?"0"+t:t,".&#8202;").concat(n<10?"0"+n:n,".&#8202;").concat(a.getFullYear())}})}function R(e){return parseFloat(e.replace(",","."))}function T(e){return"".concat(e.toFixed(2)).replace(".",",")}function P(e){var a=e.article,t=e.setArticle,r=Object(n.useState)(a.price),o=Object(i.a)(r,2),u=o[0],m=o[1],s=g(),d=Object(i.a)(s,1)[0],v=Object(n.useState)(a.authors[0]),b=Object(i.a)(v,2),p=b[0],f=b[1];Object(n.useEffect)((function(){t(Object(c.a)({},a,{authors:p?[p]:[]}))}),[p]);var h=function(e,n){var l=n.name,r=n.value;if("price"===l){if(r=parseFloat(r.replace(",",".")),isNaN(r))return void m("0,00");r=T(r),m(r)}t(Object(c.a)({},a,Object(j.a)({},l,r)))},C=[{key:void 0,value:void 0,text:""},{key:d.length,value:d.length,text:"Neuer Kunde"}].concat(d.map((function(e){return{key:e.id,value:e.id,text:e.name}})));return l.a.createElement(N.a,null,l.a.createElement(N.a.Group,{width:"equal"},l.a.createElement(N.a.Field,{id:"form-input-control-name",control:S.a,label:"Name",placeholder:"Name",name:"name",onChange:h,value:a.name}),l.a.createElement(N.a.Field,{id:"form-input-control-name",control:S.a,label:"Lagerbestand",placeholder:"Menge",type:"number",onChange:h,name:"amount",value:a.amount})),l.a.createElement(N.a.Group,null,l.a.createElement(N.a.Field,{id:"form-input-control-last-name",control:S.a,label:"ISBN",placeholder:"ISBN",name:"isbn",onChange:h,value:a.isbn}),l.a.createElement(N.a.Field,{id:"form-input-control-last-name",control:S.a,label:"Preis",placeholder:"Preis",name:"price",icon:"euro sign",onChange:function(e,a){var t=a.value;return m(t)},onBlur:function(e){h(0,{name:e.target.name,value:e.target.value})},value:u})),l.a.createElement(N.a.Field,{label:"W\xe4hlen Sie einen Autoren aus:",control:F.a,search:!0,selection:!0,options:C,value:p?p.id:void 0,onChange:function(e,a){var t=a.value;void 0===t?f():t<d.length?f(d[t]):f(Object(c.a)({},E,{id:d.length}))}}),p&&l.a.createElement(H.a,null,l.a.createElement(D,{author:p,setAuthor:f})))}t(472);var x=function(){var e=f(),a=Object(i.a)(e,2),t=a[0],r=a[1],u=Object(n.useState)(),s=Object(i.a)(u,2),d=s[0],v=s[1],E=Object(n.useState)(),b=Object(i.a)(E,2),g=b[0],h=b[1],j=p(),N=Object(i.a)(j,1)[0],S=Object(n.useMemo)((function(){return g?N.reduce((function(e,a){for(var t in a.articles){var n=a.articles[t];if(n.id===g.id)return[].concat(Object(o.a)(e),[Object(c.a)({},a,{article:n})])}return e}),[]):null}),[N,g]);return l.a.createElement("div",{className:"articles-tab-container"},l.a.createElement(C.a,{onClick:function(){return v(Object(c.a)({},m,{id:t.length}))},primary:!0},"Neuer Artikel"),d&&l.a.createElement(O.a,{onClose:function(){return v()},open:!0},l.a.createElement(O.a.Header,null,"Artikel"),l.a.createElement(O.a.Content,null,l.a.createElement(P,{article:d,setArticle:v})),l.a.createElement(O.a.Actions,null,l.a.createElement(C.a,{onClick:function(){return v()},content:"Abbrechen",negative:!0,icon:"close",labelPosition:"right"}),l.a.createElement(C.a,{onClick:function(){var e=Object(o.a)(t);e[d.id]=d,r(e),v()},content:"Speichern",positive:!0,icon:"check",labelPosition:"right"}))),g&&l.a.createElement(O.a,{onClose:function(){return h()},open:!0},l.a.createElement(O.a.Header,null,"Rechnungen"),l.a.createElement(O.a.Content,null,l.a.createElement(y.a,null,l.a.createElement(y.a.Header,null,l.a.createElement(y.a.Row,null,l.a.createElement(y.a.HeaderCell,null,"Rechnungsnummer"),l.a.createElement(y.a.HeaderCell,null,"Kunde"),l.a.createElement(y.a.HeaderCell,null,"Verkaufte Exemplare"),l.a.createElement(y.a.HeaderCell,null,"Umsatz"),l.a.createElement(y.a.HeaderCell,null,"Zahlungsdatum"))),l.a.createElement(y.a.Body,null,S.map((function(e){return l.a.createElement(y.a.Row,null,l.a.createElement(y.a.Cell,null,e.invoiceNumber),l.a.createElement(y.a.Cell,null,e.customer.name),l.a.createElement(y.a.Cell,null,e.article.amount),l.a.createElement(y.a.Cell,null,e.article.price),l.a.createElement(y.a.Cell,null,e.paymentDate?M(e.paymentDate):"Ausstehend"))})))))),l.a.createElement(y.a,{celled:!0},l.a.createElement(y.a.Header,null,l.a.createElement(y.a.Row,null,l.a.createElement(y.a.HeaderCell,null,"Id"),l.a.createElement(y.a.HeaderCell,null,"Name"),l.a.createElement(y.a.HeaderCell,null,"ISBN"),l.a.createElement(y.a.HeaderCell,null,"Menge"),l.a.createElement(y.a.HeaderCell,null,"Preis"),l.a.createElement(y.a.HeaderCell,null,"Autoren"),l.a.createElement(y.a.HeaderCell,null))),l.a.createElement(y.a.Body,null,t.map((function(e,a){return e&&l.a.createElement(y.a.Row,null,l.a.createElement(y.a.Cell,null,e.id),l.a.createElement(y.a.Cell,null,e.name),l.a.createElement(y.a.Cell,null,e.isbn),l.a.createElement(y.a.Cell,null,e.amount),l.a.createElement(y.a.Cell,null,e.price),l.a.createElement(y.a.Cell,null,e.authors.map((function(e){return l.a.createElement("p",null,e.name)}))),l.a.createElement(y.a.Cell,null,l.a.createElement(C.a,{onClick:function(){return v(e)},primary:!0,icon:"edit"}),l.a.createElement(C.a,{onClick:function(){return h(e)},icon:"list",secondary:!0}),l.a.createElement(C.a,{onClick:function(){return function(e){var a=Object(o.a)(t);a[e]=void 0,r(a)}(a)},negative:!0,icon:"trash"})))})))))},_=t(586),L=t(591),z=t(584),K=t(102),G=t.n(K),V=(t(473),t(474),t(198)),U={flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",borderWidth:2,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#fafafa",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out"},Z={borderColor:"#2196f3"},Y={borderColor:"#00e676"},q={borderColor:"#ff1744"};function J(e){var a=e.onDrop,t=Object(V.b)({accept:"image/*"}),r=t.isDragActive,o=t.isDragAccept,i=t.isDragReject,u=Object(n.useMemo)((function(){return Object(c.a)({},U,{},r?Z:{},{},o?Y:{},{},i?q:{})}),[r,i,o]);return l.a.createElement(V.a,{onDrop:a},(function(e){var a=e.getRootProps,t=e.getInputProps;return l.a.createElement("div",{className:"container"},l.a.createElement("div",a({style:u,onDrop:function(e){return e.stopPropagation()}}),l.a.createElement("input",t()),l.a.createElement("p",null,"Drag 'n' drop some files here, or click to select files")))}))}function W(e){var a=e.company,t=e.setCompany,r=e.selected,o=Object(n.useState)(w.a.createValueFromString(a.footerText,"html")),u=Object(i.a)(o,2),m=u[0],s=u[1],d=Object(n.useState)(w.a.createValueFromString(a.subjectAndBelow,"html")),v=Object(i.a)(d,2),E=v[0],b=v[1],p=Object(n.useState)(w.a.createValueFromString(a.invoiceText,"html")),f=Object(i.a)(p,2),g=f[0],h=f[1],O=Object(n.useState)(w.a.createValueFromString(a.contactInformation,"html")),y=Object(i.a)(O,2),k=y[0],B=y[1],A=Object(n.useState)(w.a.createValueFromString(a.aboveClientInvoiceAddress,"html")),F=Object(i.a)(A,2),D=F[0],M=F[1],R=function(e,n){t(Object(c.a)({},a,Object(j.a)({},e,n.toString("html"))))},T=function(e,n){var l=n.name,r=n.value;t(Object(c.a)({},a,Object(j.a)({},l,r)))};return l.a.createElement(N.a,null,"advancedSettings"===r&&l.a.createElement(N.a.Field,{label:"Firmename",control:S.a,name:"name",onChange:T,value:a.name}),"logo"===r&&l.a.createElement(H.a,null,l.a.createElement("h4",null,"Logo"),""!==a.logo?l.a.createElement("div",null,l.a.createElement("img",{src:a.logo,alt:"company logo"}),l.a.createElement(C.a,{negative:!0,onClick:function(){return t(Object(c.a)({},a,{logo:""}))}},"L\xf6schen")):l.a.createElement(J,{onDrop:function(e){var n=e[0],l=new FileReader;l.onload=function(e){t(Object(c.a)({},a,{logo:e.target.result}))},l.readAsDataURL(n)}})),"aboveClientInvoiceAddress"===r&&l.a.createElement(N.a.Field,{control:I,value:D,onChange:M,onBlur:function(){R("aboveClientInvoiceAddress",D)},label:"Absender",name:"aboveClientInvoiceAddress"}),"contactInformation"===r&&l.a.createElement(N.a.Field,{control:I,value:k,onChange:B,onBlur:function(){R("contactInformation",k)},label:"Kontakt Informationen",name:"contactInformation"}),"subjectAndBelow"===r&&l.a.createElement(N.a.Field,{control:I,value:E,onChange:b,onBlur:function(){R("subjectAndBelow",E)},label:"Betreff und Begr\xfc\xdfung",name:"subjectAndBelow"}),"invoiceText"===r&&l.a.createElement(N.a.Field,{control:I,value:g,onChange:h,onBlur:function(){R("invoiceText",g)},label:"Rechnungstext",name:"invoiceText"}),"footerText"===r&&l.a.createElement(N.a.Field,{control:I,value:m,onChange:function(e){s(e)},onBlur:function(){R("footerText",m)},label:"Fu\xdfzeile",name:"footerText"}),"advancedSettings"===r&&l.a.createElement(N.a.Field,{label:"Farbe",control:S.a,placeholder:"z.B. #ffffff oder rgb(120,0,0)",name:"companyColor",onChange:T,value:a.color}))}var Q=function(e){var a=e.invoice,t=e.setInvoice,r=e.formSelected,d=void 0===r?[]:r,v=e.wrapperClass,E=e.setFormSelected,p=h(),f=Object(i.a)(p,1)[0],y=b(),k=Object(i.a)(y,2),w=k[0],I=k[1],A=Object(n.useState)(f[a.customer.id]||a.customer),D=Object(i.a)(A,2),M=D[0],R=D[1],x=u("articles",[]),K=Object(i.a)(x,2),V=K[0],U=K[1],Z=Object(n.useState)(a.articles),Y=Object(i.a)(Z,2),q=Y[0],J=Y[1],Q=Object(n.useState)(Object(c.a)({},m,{id:V.length})),X=Object(i.a)(Q,2),$=X[0],ee=X[1],ae=Object(n.useState)(1),te=Object(i.a)(ae,2),ne=te[0],le=te[1],re=Object(n.useState)(1),ce=Object(i.a)(re,2),oe=ce[0],ie=ce[1],ue=Object(n.useState)(void 0),me=Object(i.a)(ue,2),se=me[0],de=me[1],ve=Object(n.useState)(a.porto),Ee=Object(i.a)(ve,2),be=Ee[0],pe=Ee[1],fe=g(),ge=Object(i.a)(fe,2),he=ge[0],Ce=ge[1];Object(n.useEffect)((function(){t(Object(c.a)({},a,{customer:M,articles:q.map((function(e){return Object(c.a)({},V[e.articleId],{},e)})),company:w}))}),[M,q,w]);var Oe=function(e,n){var l=n.name,r=n.value,o=n.checked;if("porto"===l){if(r=parseFloat(r.replace(",",".")),isNaN(r))return void pe("");r=T(r),pe(r)}"payed"===l&&(r=o),t(Object(c.a)({},a,Object(j.a)({},l,r)))},ye=function(){return de(!se)},je=function(e,n){t(Object(c.a)({},a,Object(j.a)({},n,e.toString())))},Ne=Object(n.useMemo)((function(){return[{key:f.length,value:f.length,text:"Neuer Kunde"}].concat(f.map((function(e){return{key:e.id,text:e.name,value:e.id}})))}),[f,M]),Se=Object(n.useMemo)((function(){return[{key:V.length,value:V.length,text:""}].concat(V.map((function(e){return{key:e.id,value:e.id,text:e.name}})))}),[V]),ke=function(e,a,t){if(e>=q.length){if(t>=V.length)return;J([].concat(Object(o.a)(q),[{toBeSend:oe,toBePayed:ne,articleId:t}])),ie(1),le(1)}else{if("articleId"===a&&t>=V.length)return void J(q.filter((function(a,t){return t!==e})));var n=Object(o.a)(q);n[e][a]=t,J(n)}};return l.a.createElement("div",{className:v},l.a.createElement("div",{className:"invoice-form-buttons"},l.a.createElement(C.a,{onClick:ye,primary:!0},"Neuen Artikel Anlegen")),l.a.createElement("div",{className:"invoice-form "},"customer"===d[0]&&l.a.createElement(O.a,{open:!0,onClose:function(){return E([])}},l.a.createElement("div",{className:"invoice-form-wrap"},l.a.createElement(N.a,null,l.a.createElement(N.a.Field,{label:"W\xe4hlen Sie einen Kunden aus:",control:F.a,search:!0,selection:!0,options:Ne,value:M.id,onChange:function(e,a){var t=a.value;t<f.length?R(f[t]):R(Object(c.a)({},s,{id:f.length}))}})),l.a.createElement(H.a,null,l.a.createElement(B,{customer:M,setCustomer:R})))),l.a.createElement(_.a,null,l.a.createElement(L.a,{fluid:!0},l.a.createElement(L.a.Content,null,l.a.createElement("div",{className:"invoice-form-wrap"},l.a.createElement("div",null,l.a.createElement(N.a,null,q.length>0&&l.a.createElement("div",null,l.a.createElement("h3",null,"Artikel in der Rechnung"),q.map((function(e,a){return l.a.createElement("div",null,l.a.createElement(N.a.Group,{widths:"equal"},l.a.createElement(N.a.Input,{fluid:!0,name:"toBeSend",type:"number",label:"Zu Senden",value:e.toBeSend,onChange:function(e,t){var n=t.value,l=t.name;return ke(a,l,n)}}),l.a.createElement(N.a.Input,{fluid:!0,name:"toBePayed",type:"number",label:"Zu Bezahlen",value:e.toBePayed,onChange:function(e,t){var n=t.value,l=t.name;return ke(a,l,n)}}),l.a.createElement(N.a.Field,{control:F.a,fluid:!0,label:"Artikel",name:"articleId",search:!0,selection:!0,options:Se,value:e.articleId,onChange:function(e,t){var n=t.value,l=t.name;return ke(a,l,n)}})))})),l.a.createElement("hr",null)),l.a.createElement("h3",null,"Artikel hinzuf\xfcgen"),l.a.createElement(N.a.Group,{widths:"equal"},l.a.createElement(N.a.Input,{fluid:!0,name:"amount",type:"number",label:"Zu Senden",value:oe,onChange:function(e,a){var t=a.value;return ie(t)}}),l.a.createElement(N.a.Input,{fluid:!0,name:"amountPayed",type:"number",label:"Zu Bezahlen",value:ne,onChange:function(e,a){var t=a.value;return le(t)}}),l.a.createElement(N.a.Field,{control:F.a,fluid:!0,label:"Artikel",name:"articleId",search:!0,selection:!0,options:Se,value:$.id,onChange:function(e,a){var t=a.value;return ke(q.length,"articleId",t)}})))),l.a.createElement(O.a,{open:se,onClose:ye},l.a.createElement(O.a.Header,null,"Neuer Artikel"),l.a.createElement(O.a.Content,null,l.a.createElement(P,{article:$,setArticle:ee})),l.a.createElement(O.a.Actions,null,l.a.createElement(C.a,{onClick:ye,content:"Abbrechen",negative:!0,icon:"close",labelPosition:"right"}),l.a.createElement(C.a,{onClick:function(){if(U([].concat(Object(o.a)(V),[$])),ee(Object(c.a)({},m,{id:V.length+1})),ye(),$.authors.length>0){var e=Object(o.a)(he);e[$.authors[0].id]=$.authors[0],Ce(e)}},content:"Anlegen",positive:!0,icon:"check",labelPosition:"right"})))))),"general"===d[0]&&l.a.createElement(O.a,{open:!0,onClose:function(){return E([])}},l.a.createElement("div",{className:"invoice-form-wrap"},l.a.createElement(N.a,null,l.a.createElement(N.a.Group,{fluid:!0,widths:"equal"},"invoiceDate"===d[1]&&l.a.createElement(N.a.Field,{label:"Rechnungsdatum",name:"invoiceDate",selected:new Date(a.invoiceDate),onChange:function(e){return je(e,"invoiceDate")},control:G.a,dateFormat:"dd/MM/yyyy"}),"orderDate"===d[1]&&l.a.createElement(N.a.Field,{label:"Bestelldatum",name:"orderDate",selected:new Date(a.orderDate),onChange:function(e){return je(e,"orderDate")},control:G.a,dateFormat:"dd/MM/yyyy"}),"shippingDate"===d[1]&&l.a.createElement(N.a.Field,{label:"Versanddatum",name:"shippingDate",selected:new Date(a.shippingDate),onChange:function(e){return je(e,"shippingDate")},control:G.a,dateFormat:"dd/MM/yyyy"})),l.a.createElement(N.a.Group,{fluid:!0,widths:"equal"},"porto"===d[1]&&l.a.createElement(N.a.Field,{label:"Porto",value:be,name:"porto",onChange:function(e,a){var t=a.value;return pe(t)},control:S.a,onBlur:function(e){return Oe(0,{name:e.target.name,value:e.target.value})},icon:"euro"}),"invoiceNumber"===d[1]&&l.a.createElement(N.a.Field,{label:"Rechnungsnummer",name:"invoiceNumber",value:a.invoiceNumber,onChange:Oe,control:S.a})),"payed"===d[1]&&l.a.createElement("div",null,l.a.createElement(N.a.Field,null,l.a.createElement("label",null,"Bezahlt"),l.a.createElement(z.a,{onChange:function(e,n){var l,r,o=n.name,i=n.checked;i?t(Object(c.a)({},a,(l={},Object(j.a)(l,o,i),Object(j.a)(l,"paymentDate",new Date),l))):t(Object(c.a)({},a,(r={},Object(j.a)(r,o,i),Object(j.a)(r,"paymentDate",void 0),r)))},name:"payed",checked:a.payed,toggle:!0})),a.payed&&l.a.createElement(N.a.Field,{label:"Zahlungseingangsdatum",name:"paymentDate",selected:new Date(a.paymentDate),onChange:function(e){return je(e,"paymentDate")},control:G.a,dateFormat:"dd/MM/yyyy"}))),l.a.createElement(W,{company:w,setCompany:I,selected:d[1]}))))))},X=t(297),$=t.n(X),ee=t(298),ae=t.n(ee),te=function(e){var a=e.id,t=(e.label,e.fileName);return l.a.createElement(C.a,{primary:!0,onClick:function(){var e=document.getElementById(a);$()(e,{scale:3}).then((function(e){var a=e.toDataURL("image/jpeg",.5),n=new ae.a;n.addImage(a,"JPEG",0,0,210,297),n.save("".concat(t,".pdf"))}))},icon:"download",labelPosition:"right",content:"Download"})},ne=function(e){var a=e.children,t=e.singleMode,n=e.id;return l.a.createElement("div",{id:n,className:"bg-white shadow-1 center",style:{width:"210mm",height:t?"297mm":""}},a)};t(563);function le(e){var a=e.onClick,t=e.wrapperClass,n=e.children;return l.a.createElement("div",{className:"".concat(t||""," invoice-overlay-wrapper")},n,l.a.createElement("div",{className:"invoice-overlay",onClick:a}))}var re=function(e){var a=e.id,t=e.invoice,n=t.orderDate,r=t.invoiceDate,c=t.shippingDate,o=t.invoiceNumber,i=t.porto,u=t.customer,m=t.articles,s=void 0===m?[]:m,d=t.company,v=e.setFormSelected,E=s.map((function(e){var a=e.price,t=e.toBePayed,n=R(a)*t;return(n-n*(u.discount/100))/(1+u.ust/100)})).reduce((function(e,a){return parseFloat(a)+e}),0);return u?l.a.createElement(ne,{singleMode:!0,id:a},l.a.createElement("div",{className:"invoice-folding-line",style:d.companyColor?{borderColor:d.companyColor}:{}}),l.a.createElement("div",{className:"invoice-page-pdf"},l.a.createElement("div",{className:"invoice-page-top"},l.a.createElement(le,{onClick:function(){return v(["general","logo"])}},l.a.createElement("div",{className:"invoice-page-image-wrapper"},l.a.createElement("img",{className:"invoice-header-company-logo",src:d.logo,alt:"company logo"}))),l.a.createElement("div",{className:"invoice-header"},l.a.createElement("div",{className:"invoice-header-customer-address"},l.a.createElement(le,{wrapperClass:"invoice-header-customer-company",onClick:function(){return v(["general","aboveClientInvoiceAddress"])}},l.a.createElement("div",{dangerouslySetInnerHTML:{__html:d.aboveClientInvoiceAddress}})),u?l.a.createElement(le,{wrapperClass:"invoice-header-customer-info",onClick:function(){return v(["customer"])}},l.a.createElement("div",{dangerouslySetInnerHTML:{__html:u.invoiceAddress}})):l.a.createElement(C.a,null,"Kunde hinzuf\xfcgen")),l.a.createElement(le,{wrapperClass:"invoice-header-company-info",onClick:function(){return v(["general","contactInformation"])}},l.a.createElement("div",{dangerouslySetInnerHTML:{__html:d.contactInformation}})))),l.a.createElement("div",{className:"invoice-body"},l.a.createElement("div",{className:"invoice-body-top"},l.a.createElement("div",{className:"invoice-subject"},l.a.createElement(le,{wrapperClass:"invoice-subject-and-below",onClick:function(){return v(["general","subjectAndBelow"])}},l.a.createElement("div",{dangerouslySetInnerHTML:{__html:d.subjectAndBelow}})),l.a.createElement("div",{className:"invoice-body-subject-key-values"},l.a.createElement("div",{className:"invoice-body-subject-keys"},l.a.createElement("div",{className:"invoice-body-order-date"},l.a.createElement("p",null,l.a.createElement("b",null,"Bestelldatum:"))),l.a.createElement("div",{className:"invoice-body-send-date"},l.a.createElement("p",null,l.a.createElement("b",null,"Versanddatum:"))),l.a.createElement("div",{className:"invoice-body-send-to"},l.a.createElement("p",null,l.a.createElement("b",null,"Versand an:")))),l.a.createElement("div",{className:"invoice-body-subject-values"},l.a.createElement(le,{onClick:function(){return v(["general","orderDate"])},wrapperClass:"invoice-body-order-date"},l.a.createElement("p",null,l.a.createElement("b",null,M(n)))),l.a.createElement(le,{onClick:function(){return v(["general","shippingDate"])},wrapperClass:"invoice-body-send-date"},l.a.createElement("p",null,l.a.createElement("b",null,M(c)))),l.a.createElement(le,{onClick:function(){return v(["customer"])}},l.a.createElement("div",{className:"invoice-body-send-to",dangerouslySetInnerHTML:{__html:u.shippingAddress}}))))),l.a.createElement("div",{className:"invoice-body-invoice-date"},l.a.createElement(le,{onClick:function(){return v(["general","invoiceDate"])}},l.a.createElement("div",{className:"invoice-body-top-right"},l.a.createElement("p",null,"Rechnungsdatum: ",l.a.createElement("b",null,M(r))))),l.a.createElement(le,{onClick:function(){return v(["general","invoiceNumber"])}},l.a.createElement("div",{className:"invoice-body-invoice-nr"},l.a.createElement("p",null,"Rechnungsnummer: ",l.a.createElement("b",null,o)))),l.a.createElement("div",{className:"invoice-body-invoice-hint"},l.a.createElement("p",null,"(Bitte bei Zahlung angeben)")))),l.a.createElement("div",{className:"invoice-body-bottom"},l.a.createElement("div",{className:"invoice-body-article-wrapper"},s.map((function(e){var a=e.toBePayed,t=e.toBeSend,n=e.price,r=e.name,c=e.isbn,o=parseInt(a)>1,i=R(n)*a,m=i-i*(u.discount/100),d=m/(1+u.ust/100);return l.a.createElement("div",{className:"invoice-body-article"},l.a.createElement("div",{className:"invoice-body-article-left"},l.a.createElement("div",{className:"invoice-body-article-description"},l.a.createElement("div",null,l.a.createElement("b",null,a!==t&&t+"/",a," Exemplar",o&&"e")),l.a.createElement("div",{className:"invoice-body-article-title"},l.a.createElement("b",null,r&&"\u201e".concat(r,"\u201c,"))),l.a.createElement("div",{className:"invoice-body-article-title"},c&&"".concat(c,","))),l.a.createElement("div",{className:"invoice-body-artivle-price-calc"},"Preis ".concat(o?"je":""," ").concat(n," \u20ac").concat(o?" = ".concat(T(i)," \u20ac"):"").concat(u.discount>0?", abz\xfcglich ".concat(u.discount," % Rabatt = ").concat(T(m)," \u20ac"):""," (beinhaltet ").concat(u.ust," % MwST = ").concat(T(m-d)," \u20ac)"))),l.a.createElement("div",{className:"invoice-body-article-price"},l.a.createElement("b",null,s.length>1&&"".concat(T(d)," \u20ac"))))}))),l.a.createElement("div",{className:"invoice-body-price-calculation"},l.a.createElement("div",{className:"invoice-body-price-calculation-label-and-number"},l.a.createElement("p",null,"Netto"),l.a.createElement("p",null,l.a.createElement("b",null,T(E)," \u20ac"))),l.a.createElement(le,{onClick:function(){return v(["general","porto"])}},l.a.createElement("div",{className:"invoice-body-price-calculation-label-and-number"},l.a.createElement("p",null,"Versandkosten"),l.a.createElement("p",null,l.a.createElement("b",null,i.replace(".",",")," \u20ac")))),l.a.createElement(le,{onClick:function(){return v(["customer"])}},l.a.createElement("div",{className:"invoice-body-price-calculation-label-and-number"},l.a.createElement("p",null,"+".concat(u.ust,"% Mehrwertsteuer")),l.a.createElement("p",null,l.a.createElement("b",null,T((E+parseFloat(i))*parseFloat(u.ust)/100)," ","\u20ac"))))),l.a.createElement("div",{className:"invoice-body-price"},l.a.createElement("p",null,"Rechnungsbetrag"),l.a.createElement("p",null,l.a.createElement("b",null,T((E+parseFloat(i))*(1+parseFloat(u.ust)/100))," ","\u20ac"))),l.a.createElement(le,{onClick:function(){return v(["general","invoiceText"])},wrapperClass:"invoice-body-final-text"},l.a.createElement("div",null,l.a.createElement("p",{dangerouslySetInnerHTML:{__html:d.invoiceText}}))))),l.a.createElement(le,{onClick:function(){return v(["general","footerText"])}},l.a.createElement("div",{className:"invoice-footer",style:d.companyColor?{borderColor:d.companyColor}:{},dangerouslySetInnerHTML:{__html:d.footerText}})))):null},ce=t(592),oe=(t(564),function(e){var a=e.edit,t=e.invoice,r=e.setInvoice,c=e.invoices,u=e.setInvoices,m=e.onSave;if(!t||!c)return null;var s=Object(n.useState)(a),d=Object(i.a)(s,2),v=d[0],E=d[1],b=Object(n.useState)([]),p=Object(i.a)(b,2),f=p[0],g=p[1],O=h(),y=Object(i.a)(O,2),j=y[0],N=y[1],S=t.id===c.length;return l.a.createElement("div",null,l.a.createElement("div",{className:"invoice-page-header"},l.a.createElement(ce.a,{info:!0,content:"Klicken Sie auf den Bereich den Sie anpassen wollen. Rechts k\xf6nnen Sie Artikel zur Rechnung hinzuf\xfcgen oder neue erstellen.",icon:"info"})),l.a.createElement("div",{className:"invoice-page"},l.a.createElement("div",{className:"invoice-page-wrapper"},v?l.a.createElement("div",{className:"invoice-page-button-container"},l.a.createElement("div",null,l.a.createElement(te,{id:"singlePage",label:"Rechnung Herunterladen",fileName:t.invoiceNumber})),l.a.createElement("div",null,l.a.createElement(C.a,{onClick:function(){return r()},content:"Abbrechen",negative:!0,icon:"close",labelPosition:"right"}),t.customer&&l.a.createElement(C.a,{onClick:function(){t.totalPrice=function(e){return e.articles.map((function(a){var t=a.price,n=a.toBePayed,l=R(t)*n;return l-l*(e.customer.discount/100)})).reduce((function(e,a){return a+e}),0)+R(e.porto)+R(e.porto)*e.customer.ust/100}(t);var e=Object(o.a)(c);e[t.id]=t,u(e),r();var a=Object(o.a)(j);a[t.customer.id]=t.customer,N(a),"function"===typeof m&&m()},content:S?"Anlegen":"Speichern",positive:!0,icon:"check",labelPosition:"right"}))):l.a.createElement("div",{className:"invoice-button-wrapper"},l.a.createElement(C.a,{onClick:function(){return E(!0)},primary:!0},"Neue Rechnung erstellen")),l.a.createElement(re,{id:"singlePage",invoice:t,setInvoice:r,setFormSelected:g})),v&&l.a.createElement(Q,{wrapperClass:"invoice-form-wrapper",invoice:t,setInvoice:r,setInvoices:u,formSelected:f,setFormSelected:g})))}),ie=function(){var e=p(),a=Object(i.a)(e,2),t=a[0],r=a[1],o=Object(n.useState)(),u=Object(i.a)(o,2),m=u[0],v=u[1],E=b(),f=Object(i.a)(E,1)[0],g=h(),O=Object(i.a)(g,1)[0];return m?l.a.createElement(oe,{edit:!0,invoice:m,setInvoice:v,setInvoices:r,invoices:t}):l.a.createElement("div",{className:"invoice-tab-container"},l.a.createElement(C.a,{onClick:function(){return v(Object(c.a)({},d,{id:t.length,customer:Object(c.a)({},s,{id:O.length}),company:f}))},primary:!0},"Neue Rechnung"),l.a.createElement(y.a,{celled:!0},l.a.createElement(y.a.Header,null,l.a.createElement(y.a.Row,null,l.a.createElement(y.a.HeaderCell,null,"Rechnungsnummer"),l.a.createElement(y.a.HeaderCell,null,"Rechnungsdatum"),l.a.createElement(y.a.HeaderCell,null,"Kunde"),l.a.createElement(y.a.HeaderCell,null,"Artikel"),l.a.createElement(y.a.HeaderCell,null,"Gesamtpreis"),l.a.createElement(y.a.HeaderCell,null,"Zahlungseingang"),l.a.createElement(y.a.HeaderCell,null))),l.a.createElement(y.a.Body,null,t.map((function(e){return l.a.createElement(y.a.Row,null,l.a.createElement(y.a.Cell,null,e.invoiceNumber),l.a.createElement(y.a.Cell,null,M(e.invoiceDate)),l.a.createElement(y.a.Cell,null,e.customer.name),l.a.createElement(y.a.Cell,null,e.articles.map((function(e){return l.a.createElement("p",null,e.name)}))),l.a.createElement(y.a.Cell,null,T(e.totalPrice)," \u20ac"),l.a.createElement(y.a.Cell,null,e.paymentDate?M(e.paymentDate):"Ausstehend"),l.a.createElement(y.a.Cell,null,l.a.createElement(C.a,{primary:!0,icon:"edit",onClick:function(){return v(e)}})))})))))};function ue(){var e=g(),a=Object(i.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)(),u=Object(i.a)(c,2),m=u[0],s=u[1];return l.a.createElement("div",null,l.a.createElement(C.a,{onClick:function(){return s({authorSceleton:E,id:t.length})},primary:!0},"Neuer Autor"),m&&l.a.createElement(O.a,{onClose:function(){return s()},open:!0},l.a.createElement(O.a.Header,null,"Author"),l.a.createElement(O.a.Content,null,l.a.createElement(D,{author:m,setAuthor:s})),l.a.createElement(O.a.Actions,null,l.a.createElement(C.a,{onClick:function(){return s()},content:"Abbrechen",negative:!0,icon:"close",labelPosition:"right"}),l.a.createElement(C.a,{onClick:function(e){var a=Object(o.a)(t);a[m.id]=m,r(a),s()},content:"Speichern",primary:!0,icon:"check",labelPosition:"right"}))),l.a.createElement(y.a,{celled:!0},l.a.createElement(y.a.Header,null,l.a.createElement(y.a.Row,null,l.a.createElement(y.a.HeaderCell,null,"Id"),l.a.createElement(y.a.HeaderCell,null,"Name"),l.a.createElement(y.a.HeaderCell,null,"Kontakt"),l.a.createElement(y.a.HeaderCell,null,"Prozent"),l.a.createElement(y.a.HeaderCell,null))),l.a.createElement(y.a.Body,null,t.map((function(e,a){return e&&l.a.createElement(y.a.Row,null,l.a.createElement(y.a.Cell,null,e.id),l.a.createElement(y.a.Cell,null,e.name),l.a.createElement(y.a.Cell,null,e.contact),l.a.createElement(y.a.Cell,null,e.percent," %"),l.a.createElement(y.a.Cell,null,l.a.createElement(C.a,{onClick:function(){return s(e)},icon:"edit",primary:!0}),l.a.createElement(C.a,{onClick:function(){return function(e){var a=Object(o.a)(t);a[e]=void 0,r(a)}(a)},negative:!0,icon:"trash"})))})))))}function me(){var e=f(),a=Object(i.a)(e,2),t=a[0];(0,a[1])(t.map((function(e){return Object(c.a)({},e,{authors:[]})})))}var se=function(){return function(e,a){var t=u("version","1"),n=Object(i.a)(t,2),l=n[0],r=n[1];parseInt(l)<a&&e(),r(a)}(me,2)};function de(){se()}var ve=t(60);function Ee(){var e=b(),a=Object(i.a)(e,1)[0],t=h(),r=Object(i.a)(t,1)[0],o=Object(ve.f)(),u=p(),m=Object(i.a)(u,2),v=m[0],E=m[1],f=Object(n.useState)(Object(c.a)({},d,{id:v.length,customer:Object(c.a)({},s,{id:r.length}),company:a})),g=Object(i.a)(f,2),C=g[0],O=g[1];return l.a.createElement(oe,{invoice:C,setInvoice:O,setInvoices:E,invoices:v,edit:!0,onSave:function(){o.push("/invoices")}})}var be=t(131);t(570);function pe(){var e=p(),a=Object(i.a)(e,1)[0],t=Object(ve.f)();return l.a.createElement("div",{className:"oi-top-navigation-bar"},l.a.createElement("div",null,l.a.createElement("h2",{className:"oi-top-navigation-bar-heading"},"Online Rechnung")),a.length>0&&l.a.createElement("div",null,l.a.createElement(C.a.Group,null,l.a.createElement(C.a,{content:"Rechnungen",onClick:function(){return t.push("invoices")}}),l.a.createElement(C.a,{content:"Artikel",onClick:function(){return t.push("articles")}}),l.a.createElement(C.a,{content:"Kunden",onClick:function(){return t.push("customers")}}),l.a.createElement(C.a,{content:"Autoren",onClick:function(){return t.push("authors")}})),l.a.createElement(C.a,{size:"large",className:"oi-top-navigation-bar-new-invoice",content:"Neue Rechnung",onClick:function(){return t.push("/")},secondary:!0})))}t(571);Object(r.render)(l.a.createElement((function(){return de(),l.a.createElement(be.a,null,l.a.createElement(pe,null),l.a.createElement("div",{className:"invoice-app-container"},l.a.createElement(ve.c,null,l.a.createElement(ve.a,{exact:!0,path:"/"},l.a.createElement(Ee,null)),l.a.createElement(ve.a,{path:"/invoices"},l.a.createElement(ie,null)),l.a.createElement(ve.a,{path:"/customers"},l.a.createElement(A,null)),l.a.createElement(ve.a,{path:"/articles"},l.a.createElement(x,null)),l.a.createElement(ve.a,{path:"/authors"},l.a.createElement(ue,null)))))}),null),document.getElementById("root"))}},[[312,1,2]]]);
//# sourceMappingURL=main.242fbfd2.chunk.js.map