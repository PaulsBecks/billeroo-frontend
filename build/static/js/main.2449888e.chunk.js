(this["webpackJsonpreact-4798tj"]=this["webpackJsonpreact-4798tj"]||[]).push([[0],{300:function(e,a,t){e.exports=t(557)},372:function(e,a,t){},374:function(e,a,t){},549:function(e,a,t){},557:function(e,a,t){"use strict";t.r(a);var n=t(21),l=t(0),c=t.n(l),r=t(41);function i(e,a){var t=Object(l.useState)((function(){try{var t=window.localStorage.getItem(e);return t?JSON.parse(t):a}catch(n){return console.log(n),a}})),c=Object(n.a)(t,2),r=c[0],i=c[1];return[r,function(a){try{var t=a instanceof Function?a(r):a;i(t),window.localStorage.setItem(e,JSON.stringify(t))}catch(n){console.log(n)}}]}var o=t(575),m=function(){var e=i("customers",[]),a=Object(n.a)(e,2),t=a[0];a[1];return c.a.createElement(o.a,{celled:!0},c.a.createElement(o.a.Header,null,c.a.createElement(o.a.Row,null,c.a.createElement(o.a.HeaderCell,null,"Name"),c.a.createElement(o.a.HeaderCell,null,"Adresse"),c.a.createElement(o.a.HeaderCell,null,"PLZ"),c.a.createElement(o.a.HeaderCell,null,"Stadt"),c.a.createElement(o.a.HeaderCell,null,"Rabatt"),c.a.createElement(o.a.HeaderCell,null,"MwST"))),c.a.createElement(o.a.Body,null,t.map((function(e){return c.a.createElement(o.a.Row,null,c.a.createElement(o.a.Cell,null,e.name),c.a.createElement(o.a.Cell,null,e.address),c.a.createElement(o.a.Cell,null,e.postCode),c.a.createElement(o.a.Cell,null,e.city),c.a.createElement(o.a.Cell,null,e.discount),c.a.createElement(o.a.Cell,null,e.ust))}))))},u=(t(372),t(569)),s=t(573),d=function(){var e=i("articles",[]),a=Object(n.a)(e,2),t=a[0];a[1];return c.a.createElement(o.a,{celled:!0},c.a.createElement(o.a.Header,null,c.a.createElement(o.a.Row,null,c.a.createElement(o.a.HeaderCell,null,"Name"),c.a.createElement(o.a.HeaderCell,null,"ISBN"),c.a.createElement(o.a.HeaderCell,null,"Menge"),c.a.createElement(o.a.HeaderCell,null,"Preis"))),c.a.createElement(o.a.Body,null,t.map((function(e){return c.a.createElement(o.a.Row,null,c.a.createElement(o.a.Cell,null,e.name),c.a.createElement(o.a.Cell,null,e.isbn),c.a.createElement(o.a.Cell,null,e.amount),c.a.createElement(o.a.Cell,null,e.price))}))))},E=t(31),v=t(561),b=t(62),p=t(27),h=t(91),g=t(576),f=t(577),C=t(90),N=t(570),y=t(572),j=t(571),O=t(138),w=t.n(O),F={name:"",empty:!0,price:"",isbn:"",amount:1},k={name:"",address:"",postCode:"",city:"",discount:0,ust:7},S={invoiceDate:(new Date).toString(),shippingDate:(new Date).toString(),orderDate:(new Date).toString(),invoiceNumber:"",articles:[]};t(373),t(374);function H(e){var a=new Date(e),t=a.getDate(),n=a.getMonth()+1;return"".concat(t<10?"0"+t:t,".").concat(n<10?"0"+n:n,".").concat(a.getFullYear())}var D=function(e){var a=e.invoice,t=e.setInvoice,r=i("customers",[]),o=Object(n.a)(r,2),m=o[0],s=o[1],d=Object(l.useState)(k),O=Object(n.a)(d,2),S=O[0],H=O[1],D=Object(l.useState)(void 0),M=Object(n.a)(D,2),R=M[0],P=M[1],A=Object(l.useState)(""),I=Object(n.a)(A,2),x=I[0],B=I[1],G=i("articles",[]),L=Object(n.a)(G,2),T=L[0],z=(L[1],Object(l.useState)(F)),V=Object(n.a)(z,2),K=V[0],Z=V[1],J=Object(l.useState)(1),W=Object(n.a)(J,2),q=W[0],_=W[1],U=Object(l.useState)(""),Y=Object(n.a)(U,2),Q=Y[0],X=Y[1],$=Object(l.useState)(void 0),ee=Object(n.a)($,2),ae=ee[0],te=ee[1],ne=i("invoices",[]),le=Object(n.a)(ne,2),ce=le[0],re=le[1],ie=function(){return te(!ae)},oe=Object(l.useMemo)((function(){return m.filter((function(e){return e.name.toLowerCase().includes(x.toLowerCase())}))}),[m,x]),me=Object(l.useMemo)((function(){return T.filter((function(e){return e.name.toLowerCase().includes(Q.toLowerCase())}))}),[T,Q]),ue=function(){s([].concat(Object(h.a)(m),[S])),t(Object(E.a)({},a,{customer:S})),ve()},se=function(e,a){var t=a.name,n=a.value;("ust"!==t&&"discount"!==t||(n=parseFloat(n),!isNaN(n)))&&H(Object(E.a)({},S,Object(p.a)({},t,n)))},de=function(e,a){var t=a.name,n=a.value;if("price"===t){if(n=parseFloat(n),isNaN(n))return;n=n.toFixed(2)}Z(Object(E.a)({},K,Object(p.a)({},t,n)))},Ee=function(e){t(Object(E.a)({},a,{articles:[].concat(Object(h.a)(a.articles),[Object(E.a)({},e,{articleAmount:q})])}))},ve=function(){P(!R)},be=function(e,n){t(Object(E.a)({},a,Object(p.a)({},n,e.toString())))};return c.a.createElement("div",{className:"invoice-form"},c.a.createElement(u.a,null,c.a.createElement(g.a,{fluid:!0},c.a.createElement(g.a.Content,null,c.a.createElement(g.a.Header,null,"Rechnungsdaten")),c.a.createElement(g.a.Content,null,c.a.createElement(f.a,null,c.a.createElement(f.a.Title,{index:0},c.a.createElement(b.a,{name:"dropdown"}),"Kunde"),c.a.createElement(f.a.Content,{active:!0},a.customer?c.a.createElement("div",{class:"invoice-form-label-container"},c.a.createElement(C.a,null,a.customer.name,c.a.createElement(b.a,{name:"delete",onClick:function(){t(Object(E.a)({},a,{customer:void 0}))}}))):c.a.createElement("div",null,c.a.createElement(N.a,{placeholder:"Suche...",onChange:function(e,a){var t=a.value;return B(t)},value:x}),""==x?c.a.createElement(v.a,{onClick:ve},"Neuer Kunde"):c.a.createElement("div",{className:"invoice-form-label-container"},oe.map((function(e){return c.a.createElement(C.a,{onClick:function(){return t(Object(E.a)({},a,{customer:e}))}},e.name)})),0==oe.length&&c.a.createElement("p",null,"No Customers found.")),c.a.createElement(y.a,{open:R,onClose:ve},c.a.createElement(y.a.Header,null,"Neuer Kunde"),c.a.createElement(y.a.Content,null,c.a.createElement(j.a,null,c.a.createElement(j.a.Group,{width:"equal"},c.a.createElement(j.a.Field,{id:"form-input-control-name",control:N.a,label:"Name",placeholder:"Name",name:"name",onChange:se,value:S.name}),c.a.createElement(j.a.Field,{id:"form-input-control-name",control:N.a,label:"Gesch\xe4ftsform",placeholder:"Gesch\xe4ftsform"})),c.a.createElement(j.a.Group,null,c.a.createElement(j.a.Field,{id:"form-input-control-last-name",control:N.a,label:"Anschrift",placeholder:"Musterschstra\xdfe 3",name:"address",onChange:se,value:S.address}),c.a.createElement(j.a.Field,{id:"form-input-control-last-name",control:N.a,label:"PLZ",placeholder:"PLZ",name:"postCode",onChange:se,value:S.postCode})),c.a.createElement(j.a.Group,null,c.a.createElement(j.a.Field,{id:"form-input-control-last-name",control:N.a,label:"Stadt",placeholder:"Stadt",name:"city",onChange:se,value:S.city})),c.a.createElement(j.a.Group,null,c.a.createElement(j.a.Field,{id:"form-input-control-last-name",control:N.a,label:"MwST",placeholder:"7",name:"ust",icon:"percent",onChange:se,value:S.ust}),c.a.createElement(j.a.Field,{id:"form-input-control-last-name",control:N.a,label:"Rabat",placeholder:"0",icon:"percent",name:"discount",onChange:se,value:S.discount})))),c.a.createElement(y.a.Actions,null,c.a.createElement(v.a,{onClick:ve,content:"Abbrechen",negative:!0,icon:"close",labelPosition:"right"}),c.a.createElement(v.a,{onClick:ue,content:"Anlegen",primary:!0,icon:"check",labelPosition:"right"}))))),c.a.createElement(f.a.Title,{index:1},c.a.createElement(b.a,{name:"dropdown"}),"Artikel"),c.a.createElement(f.a.Content,{active:!0},c.a.createElement("div",{className:"invoice-form-label-container"},a.articles.map((function(e,n){return c.a.createElement(C.a,null,e.name,c.a.createElement(C.a.Detail,null,e.articleAmount),c.a.createElement(b.a,{name:"delete",onClick:function(){return e=n,void t(Object(E.a)({},a,{articles:a.articles.filter((function(a,t){return t!==e}))}));var e}}))}))),c.a.createElement("div",null,c.a.createElement(N.a,{name:"amount",type:"number",label:"Menge",value:q,onChange:function(e,a){var t=a.value;return _(t)}}),c.a.createElement(N.a,{name:"article",placeholder:"Suche...",value:Q,onChange:function(e,a){var t=a.value;return X(t)}}),""==Q?c.a.createElement(v.a,{onClick:ie},"Neuer Artikel"):c.a.createElement("div",{className:"invoice-form-label-container"},me.map((function(e){return c.a.createElement(C.a,{onClick:function(){return Ee(e)}},e.name)})))),c.a.createElement(y.a,{open:ae,onClose:ie},c.a.createElement(y.a.Header,null,"Neuer Artikel"),c.a.createElement(y.a.Content,null,c.a.createElement(j.a,null,c.a.createElement(j.a.Group,{width:"equal"},c.a.createElement(j.a.Field,{id:"form-input-control-name",control:N.a,label:"Name",placeholder:"Name",name:"name",onChange:de,value:K.name}),c.a.createElement(j.a.Field,{id:"form-input-control-name",control:N.a,label:"Menge",placeholder:"Menge",type:"number",onChange:de,name:"amount",value:K.amount})),c.a.createElement(j.a.Group,null,c.a.createElement(j.a.Field,{id:"form-input-control-last-name",control:N.a,label:"ISBN",placeholder:"ISBN",name:"isbn",onChange:de,value:K.isbn}),c.a.createElement(j.a.Field,{id:"form-input-control-last-name",control:N.a,label:"Preis",placeholder:"Preis",name:"price",icon:"euro sign",onChange:de,value:K.price})))),c.a.createElement(y.a.Actions,null,c.a.createElement(v.a,{onClick:ve,content:"Abbrechen",negative:!0,icon:"close",labelPosition:"right"}),c.a.createElement(v.a,{onClick:ue,content:"Anlegen",primary:!0,icon:"check",labelPosition:"right"})))),c.a.createElement(f.a.Title,null,c.a.createElement(b.a,{name:"dropdown"}),"Allgemein"),c.a.createElement(f.a.Content,{active:!0},c.a.createElement(j.a,null,c.a.createElement(j.a.Field,{label:"Rechnungsdatum",name:"invoiceDate",selected:new Date(a.invoiceDate),onChange:function(e){return be(e,"invoiceDate")},control:w.a,dateFormat:"dd/MM/yyyy"}),c.a.createElement(j.a.Field,{label:"Bestelldatum",name:"orderDate",selected:new Date(a.orderDate),onChange:function(e){return be(e,"orderDate")},control:w.a,dateFormat:"dd/MM/yyyy"}),c.a.createElement(j.a.Field,{label:"Versanddatum",name:"shippingDate",selected:new Date(a.shippingDate),onChange:function(e){return be(e,"shippingDate")},control:w.a,dateFormat:"dd/MM/yyyy"}),c.a.createElement(j.a.Field,{label:"Rechnungsnummer",name:"invoiceNumber",value:a.invoiceNumber,onChange:function(e,n){var l=n.name,c=n.value;return t(Object(E.a)({},a,Object(p.a)({},l,c)))},control:N.a})))))),c.a.createElement(v.a,{onClick:function(){return t()},content:"Abbrechen",negative:!0,icon:"close",labelPosition:"right"}),a.customer&&c.a.createElement(v.a,{onClick:function(){a.totalPrice=function(e){return e.articles.map((function(a){var t=a.price*a.amount;return t-t*(e.customer.discount/100)})).reduce((function(e,a){return a+e}),0)}(a);var e=Object(h.a)(ce);e[a.id]=a,re(e),t()},content:"Speichern",primary:!0,icon:"check",labelPosition:"right"})))},M=t(286),R=t.n(M),P=t(188),A=t.n(P),I=function(e){var a=e.id,t=e.label;return c.a.createElement("div",{className:"tc mb4 mt2"},c.a.createElement("div",{id:"myMm",style:{height:"1mm"}}),c.a.createElement("div",{className:"pa2 ba bw1 b--black bg-yellow black-90 br2 dib pointer dim shadow-1",onClick:function(){var e,t,n,l,c=document.getElementById(a),r=(e=c.offsetHeight,Math.floor(e/document.getElementById("myMm").offsetHeight)),i=(t=297,document.getElementById("myMm").offsetHeight*t),o=r<=297?1:Math.floor(r/297)+1;console.log({input:c,inputHeightMm:r,a4HeightMm:297,a4HeightPx:i,numPages:o,range:(n=0,l=o,Array(l-n).join(0).split(0).map((function(e,a){return a+n}))),comp:r<=297,inputHeightPx:c.offsetHeight}),R()(c).then((function(e){var t,n=e.toDataURL("image/png",4);(t=r>297?new A.a("p","mm",[r+16,210]):new A.a).addImage(n,"PNG",0,0),t.save("".concat(a,".pdf"))}))}},t))},x=function(e){var a=e.children,t=e.singleMode,n=e.id;return c.a.createElement("div",{id:n,className:"bg-white shadow-1 center pa4",style:{width:"210mm",height:t?"297mm":""}},a)},B=(t(549),function(e){var a=e.id,t=e.invoice,n=t.orderDate,l=t.invoiceDate,r=t.shippingDate,i=t.invoiceNumber,o=t.customer,m=o.name,u=o.ust,s=o.discount,d=o.address,E=o.city,v=o.postCode,b=t.articles,p=void 0===b?[]:b,h=t.send_default_price,g=void 0===h?5:h,f=p.map((function(e){var a=e.price*e.amount;return(a-a*(s/100))/(1+u/100)})).reduce((function(e,a){return parseFloat(a)+e}),0);return c.a.createElement(x,{singleMode:!0,id:a},c.a.createElement("div",{className:"invoice-header"},c.a.createElement("div",{className:"invoice-header-customer-address"}),c.a.createElement("div",{className:"invoice-header-company-address"})),c.a.createElement("div",{className:"invoice-body"},c.a.createElement("div",{className:"invoice-body-top"},c.a.createElement("div",{className:"invoice-subject"},c.a.createElement("h2",null,"Rechnung"),c.a.createElement("p",null,"Wir erlauben uns in Rechnung zu stellen:"),c.a.createElement("div",{className:"invoice-body-subject-key-values"},c.a.createElement("div",{className:"invoice-body-subject-keys"},c.a.createElement("div",{className:"invoice-body-order-date"},c.a.createElement("p",null,c.a.createElement("b",null,"Bestelldatum:"))),c.a.createElement("div",{className:"invoice-body-send-date"},c.a.createElement("p",null,c.a.createElement("b",null,"Versand am:"))),c.a.createElement("div",{className:"invoice-body-send-to"},c.a.createElement("p",null,c.a.createElement("b",null,"Versand an:")))),c.a.createElement("div",{className:"invoice-body-subject-values"},c.a.createElement("div",{className:"invoice-body-order-date"},c.a.createElement("p",null,c.a.createElement("b",null,H(n)))),c.a.createElement("div",{className:"invoice-body-send-date"},c.a.createElement("p",null,c.a.createElement("b",null,H(r)))),c.a.createElement("div",{className:"invoice-body-send-to"},c.a.createElement("p",null,c.a.createElement("b",null,m," \u2022 ")),c.a.createElement("p",null,c.a.createElement("b",null,d," \u2022 ",v," ",E)))))),c.a.createElement("div",null,c.a.createElement("div",{className:"invoice-body-invoice-date"},c.a.createElement("p",null,"Rechnungsdatum: ",c.a.createElement("b",null,H(l)))),c.a.createElement("div",{className:"invoice-body-invoice-nr"},c.a.createElement("p",null,"Rechnungsnummer: ",c.a.createElement("b",null,i))),c.a.createElement("div",{className:"invoice-body-invoice-hint"},c.a.createElement("p",null,"(Bitte bei Zahlungen angeben)")))),c.a.createElement("div",{className:"invoice-body-article-wrapper"},p.map((function(e){var a=e.amount,t=e.price,n=e.name,l=e.isbn,r=parseInt(a)>1,i=t*a,o=i-i*(s/100),m=o/(1+u/100);return c.a.createElement("div",{className:"invoice-body-article"},c.a.createElement("div",{className:"invoice-body-article-left"},c.a.createElement("div",{className:"invoice-body-article-description"},c.a.createElement("div",null,c.a.createElement("b",null,a," Exemplar",r&&"e")),c.a.createElement("div",{className:"invoice-body-article-title"},c.a.createElement("b",null,"\u201e",n,"\u201c")),c.a.createElement("div",{className:"invoice-body-article-title"},l)),c.a.createElement("div",{className:"invoice-body-artivle-price-calc"},"Preis ".concat(r?"je":""," ").concat(t," \u20ac").concat(r?" = ".concat(i.toFixed(2),"\u20ac"):"").concat(s>0?", abz\xfcglich ".concat(s," % Rabatt = ").concat(o.toFixed(2)," \u20ac"):""," (beinhaltet ").concat(u," % MwST = ").concat((o-m).toFixed(2),")"))),c.a.createElement("div",{className:"invoice-body-article-price"},c.a.createElement("b",null,m.toFixed(2),"\u20ac")))}))),c.a.createElement("div",{className:"invoice-body-price-calculation"},c.a.createElement("div",null,c.a.createElement("p",null,"Netto"),c.a.createElement("p",null,c.a.createElement("b",null,f.toFixed(2),"\u20ac"))),c.a.createElement("div",null,c.a.createElement("p",null,"Versandpauschale"),c.a.createElement("p",null,c.a.createElement("b",null,g.toFixed(2),"\u20ac"))),c.a.createElement("div",null,c.a.createElement("p",null,"+".concat(u,"% Mehrwertsteuer")),c.a.createElement("p",null,c.a.createElement("b",null,((f+g)*parseFloat(u)/100).toFixed(2),"\u20ac")))),c.a.createElement("div",{className:"invoice-body-price"},c.a.createElement("p",null,"Rechnungsbetrag"),c.a.createElement("p",null,c.a.createElement("b",null,((f+g)*(1+parseFloat(u)/100)).toFixed(2),"\u20ac"))),c.a.createElement("div",null,c.a.createElement("p",null,"Zahlen Sie bitte den Rechnungsbetrag bis zum 16. M\xe4rz 2020 unter Angabe der Rechnungsnummer auf unten stehendes Konto. ",c.a.createElement("br",null),c.a.createElement("br",null)," Die gelieferte Ware bleibt bis zur vollst\xe4ndigen Bezahlung Eigentum des Test Verlages. ",c.a.createElement("br",null),"Vielen Dank f\xfcr Ihre Bestellung.",c.a.createElement("br",null),c.a.createElement("br",null)," Mit herzlichen Gr\xfc\xdfen, Test Verlag.",c.a.createElement("br",null)," Werneuchen, den 24. Februar 2020"))))}),G=function(e){var a=e.invoice,t=e.setInvoice;return c.a.createElement("div",{className:"invoice-page"},c.a.createElement("div",{className:"invoice-form-wrapper"},c.a.createElement(D,{invoice:a,setInvoice:t})),a.customer&&c.a.createElement("div",{className:"invoice-page-wrapper"},c.a.createElement(I,{id:"singlePage",label:"Rechnung Drucken"}),c.a.createElement(B,{id:"singlePage",invoice:a})))},L=function(){var e=i("invoices",[]),a=Object(n.a)(e,2),t=a[0],r=(a[1],Object(l.useState)()),m=Object(n.a)(r,2),u=m[0],s=m[1];return u?c.a.createElement(G,{invoice:u,setInvoice:s}):c.a.createElement("div",{className:"invoice-tab-container"},c.a.createElement(v.a,{onClick:function(){return s(Object(E.a)({},S,{id:t.length}))},primary:!0},"Neue Rechnung"),c.a.createElement(o.a,{celled:!0},c.a.createElement(o.a.Header,null,c.a.createElement(o.a.Row,null,c.a.createElement(o.a.HeaderCell,null,"Rechnungsnummer"),c.a.createElement(o.a.HeaderCell,null,"Rechnungsdatum"),c.a.createElement(o.a.HeaderCell,null,"Kunde"),c.a.createElement(o.a.HeaderCell,null,"Artikel"),c.a.createElement(o.a.HeaderCell,null,"Gesamtpreis"),c.a.createElement(o.a.HeaderCell,null))),c.a.createElement(o.a.Body,null,t.map((function(e){return c.a.createElement(o.a.Row,null,c.a.createElement(o.a.Cell,null,e.invoiceNumber),c.a.createElement(o.a.Cell,null,H(e.invoiceDate)),c.a.createElement(o.a.Cell,null,e.customer.name),c.a.createElement(o.a.Cell,null,e.articles.map((function(e){return c.a.createElement("p",null,e.name)}))),c.a.createElement(o.a.Cell,null,e.totalPrice,"\u20ac"),c.a.createElement(o.a.Cell,null,c.a.createElement(v.a,{icon:!0,onClick:function(){return s(e)}},c.a.createElement(b.a,{name:"eye"}))))})))))},T={articles:[]};Object(r.render)(c.a.createElement((function(){var e=Object(l.useState)(T),a=Object(n.a)(e,2),t=a[0];a[1];return console.log(t),c.a.createElement("div",{className:"invoice-app-container"},c.a.createElement(u.a,null,c.a.createElement(s.a,{panes:[{menuItem:"Rechnungen",render:function(){return c.a.createElement("div",{className:""},c.a.createElement(L,null))}},{menuItem:"Kunden",render:function(){return c.a.createElement("div",{className:""},c.a.createElement(m,null))}},{menuItem:"Artikel",render:function(){return c.a.createElement("div",{className:""},c.a.createElement(d,null))}}]})))}),null),document.getElementById("root"))}},[[300,1,2]]]);
//# sourceMappingURL=main.2449888e.chunk.js.map