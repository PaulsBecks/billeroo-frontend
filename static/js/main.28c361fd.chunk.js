(this["webpackJsonpreact-4798tj"]=this["webpackJsonpreact-4798tj"]||[]).push([[0],{260:function(e,a,t){e.exports=t(460)},265:function(e,a,t){},298:function(e,a,t){},451:function(e,a,t){},460:function(e,a,t){"use strict";t.r(a);var n=t(18),l=t(0),c=t.n(l),r=t(53),i={name:"",empty:!0,price:"",isbn:"",amount:1},o={name:"",address:"",postCode:"",city:"",discount:0,ust:7},m={articles:[]},u=function(e){var a=e.children,t=e.singleMode,n=e.id;return c.a.createElement("div",{id:n,className:"bg-white shadow-1 center pa4",style:{width:"210mm",height:t?"297mm":""}},a)},s=(t(265),function(e){var a=e.id,t=e.invoice,n=t.order_date,l=void 0===n?"24.02.2020":n,r=t.send_date,i=void 0===r?"24.02.2020":r,o=t.invoice_date,m=void 0===o?"24.02.2020":o,s=t.invoice_number,d=void 0===s?"142787164221":s,E=t.customer,v=E.name,b=E.ust,p=E.discount,f=E.address,h=E.city,g=E.postCode,C=t.articles,N=void 0===C?[]:C,y=t.send_default_price,j=void 0===y?5:y,O=N.map((function(e){var a=e.price*e.amount;return(a-a*(p/100))/(1+b/100)})).reduce((function(e,a){return parseFloat(a)+e}),0);return c.a.createElement(u,{singleMode:!0,id:a},c.a.createElement("div",{className:"invoice-header"},c.a.createElement("div",{className:"invoice-header-customer-address"}),c.a.createElement("div",{className:"invoice-header-company-address"})),c.a.createElement("div",{className:"invoice-body"},c.a.createElement("div",{className:"invoice-body-top"},c.a.createElement("div",{className:"invoice-subject"},c.a.createElement("h2",null,"Rechnung"),c.a.createElement("p",null,"Wir erlauben uns in Rechnung zu stellen:"),c.a.createElement("div",{className:"invoice-body-subject-key-values"},c.a.createElement("div",{className:"invoice-body-subject-keys"},c.a.createElement("div",{className:"invoice-body-order-date"},c.a.createElement("p",null,c.a.createElement("b",null,"Bestelldatum:"))),c.a.createElement("div",{className:"invoice-body-send-date"},c.a.createElement("p",null,c.a.createElement("b",null,"Versand am:"))),c.a.createElement("div",{className:"invoice-body-send-to"},c.a.createElement("p",null,c.a.createElement("b",null,"Versand an:")))),c.a.createElement("div",{className:"invoice-body-subject-values"},c.a.createElement("div",{className:"invoice-body-order-date"},c.a.createElement("p",null,c.a.createElement("b",null,l))),c.a.createElement("div",{className:"invoice-body-send-date"},c.a.createElement("p",null,c.a.createElement("b",null,i))),c.a.createElement("div",{className:"invoice-body-send-to"},c.a.createElement("p",null,c.a.createElement("b",null,v," \u2022 ")),c.a.createElement("p",null,c.a.createElement("b",null,f," \u2022 ",g," ",h)))))),c.a.createElement("div",null,c.a.createElement("div",{className:"invoice-body-invoice-date"},c.a.createElement("p",null,"Rechnungsdatum: ",c.a.createElement("b",null,m))),c.a.createElement("div",{className:"invoice-body-invoice-nr"},c.a.createElement("p",null,"Rechnungsnummer: ",c.a.createElement("b",null,d))),c.a.createElement("div",{className:"invoice-body-invoice-hint"},c.a.createElement("p",null,"(Bitte bei Zahlungen angeben)")))),c.a.createElement("div",{className:"invoice-body-article-wrapper"},N.map((function(e){var a=e.amount,t=e.price,n=e.name,l=e.isbn,r=parseInt(a)>1,i=t*a,o=i-i*(p/100),m=o/(1+b/100);return c.a.createElement("div",{className:"invoice-body-article"},c.a.createElement("div",{className:"invoice-body-article-left"},c.a.createElement("div",{className:"invoice-body-article-description"},c.a.createElement("div",null,c.a.createElement("b",null,a," Exemplar",r&&"e")),c.a.createElement("div",{className:"invoice-body-article-title"},c.a.createElement("b",null,"\u201e",n,"\u201c")),c.a.createElement("div",{className:"invoice-body-article-title"},l)),c.a.createElement("div",{className:"invoice-body-artivle-price-calc"},"Preis ".concat(r?"je":""," ").concat(t," \u20ac").concat(r?" = ".concat(i.toFixed(2),"\u20ac"):"").concat(p>0?", abz\xfcglich ".concat(p," % Rabatt = ").concat(o.toFixed(2)," \u20ac"):""," (beinhaltet ").concat(b," % MwST = ").concat((o-m).toFixed(2),")"))),c.a.createElement("div",{className:"invoice-body-article-price"},c.a.createElement("b",null,m.toFixed(2),"\u20ac")))}))),c.a.createElement("div",{className:"invoice-body-price-calculation"},c.a.createElement("div",null,c.a.createElement("p",null,"Netto"),c.a.createElement("p",null,c.a.createElement("b",null,O.toFixed(2),"\u20ac"))),c.a.createElement("div",null,c.a.createElement("p",null,"Versandpauschale"),c.a.createElement("p",null,c.a.createElement("b",null,j.toFixed(2),"\u20ac"))),c.a.createElement("div",null,c.a.createElement("p",null,"+".concat(b,"% Mehrwertsteuer")),c.a.createElement("p",null,c.a.createElement("b",null,((O+j)*parseFloat(b)/100).toFixed(2),"\u20ac")))),c.a.createElement("div",{className:"invoice-body-price"},c.a.createElement("p",null,"Rechnungsbetrag"),c.a.createElement("p",null,c.a.createElement("b",null,((O+j)*(1+parseFloat(b)/100)).toFixed(2),"\u20ac"))),c.a.createElement("div",null,c.a.createElement("p",null,"Zahlen Sie bitte den Rechnungsbetrag bis zum 16. M\xe4rz 2020 unter Angabe der Rechnungsnummer auf unten stehendes Konto. ",c.a.createElement("br",null),c.a.createElement("br",null)," Die gelieferte Ware bleibt bis zur vollst\xe4ndigen Bezahlung Eigentum des Test Verlages. ",c.a.createElement("br",null),"Vielen Dank f\xfcr Ihre Bestellung.",c.a.createElement("br",null),c.a.createElement("br",null)," Mit herzlichen Gr\xfc\xdfen, Test Verlag.",c.a.createElement("br",null)," Werneuchen, den 24. Februar 2020"))))}),d=t(226),E=t.n(d),v=t(150),b=t.n(v),p=function(e){var a=e.id,t=e.label;return c.a.createElement("div",{className:"tc mb4 mt2"},c.a.createElement("div",{id:"myMm",style:{height:"1mm"}}),c.a.createElement("div",{className:"pa2 ba bw1 b--black bg-yellow black-90 br2 dib pointer dim shadow-1",onClick:function(){var e,t,n,l,c=document.getElementById(a),r=(e=c.offsetHeight,Math.floor(e/document.getElementById("myMm").offsetHeight)),i=(t=297,document.getElementById("myMm").offsetHeight*t),o=r<=297?1:Math.floor(r/297)+1;console.log({input:c,inputHeightMm:r,a4HeightMm:297,a4HeightPx:i,numPages:o,range:(n=0,l=o,Array(l-n).join(0).split(0).map((function(e,a){return a+n}))),comp:r<=297,inputHeightPx:c.offsetHeight}),E()(c).then((function(e){var t,n=e.toDataURL("image/png",4);(t=r>297?new b.a("p","mm",[r+16,210]):new b.a).addImage(n,"PNG",0,0),t.save("".concat(a,".pdf"))}))}},t))},f=t(26),h=t(29),g=t(77);function C(e,a){var t=Object(l.useState)((function(){try{var t=window.localStorage.getItem(e);return t?JSON.parse(t):a}catch(n){return console.log(n),a}})),c=Object(n.a)(t,2),r=c[0],i=c[1];return[r,function(a){try{var t=a instanceof Function?a(r):a;i(t),window.localStorage.setItem(e,JSON.stringify(t))}catch(n){console.log(n)}}]}var N=t(469),y=t(476),j=t(477),O=t(54),w=t(76),k=t(470),H=t(461),F=t(472),S=t(471),M=(t(298),function(e){var a=e.invoice,t=e.setInvoice,r=C("customers",[]),m=Object(n.a)(r,2),u=m[0],s=m[1],d=Object(l.useState)(o),E=Object(n.a)(d,2),v=E[0],b=E[1],p=Object(l.useState)(void 0),M=Object(n.a)(p,2),P=M[0],R=M[1],I=Object(l.useState)(""),A=Object(n.a)(I,2),x=A[0],B=A[1],G=C("articles",[]),L=Object(n.a)(G,2),z=L[0],T=(L[1],Object(l.useState)(i)),K=Object(n.a)(T,2),V=K[0],_=K[1],D=Object(l.useState)(1),Z=Object(n.a)(D,2),J=Z[0],W=Z[1],q=Object(l.useState)(""),U=Object(n.a)(q,2),Q=U[0],X=U[1],Y=Object(l.useState)(void 0),$=Object(n.a)(Y,2),ee=$[0],ae=$[1],te=C("invoices",[]),ne=Object(n.a)(te,2),le=ne[0],ce=ne[1],re=function(){return ae(!ee)},ie=Object(l.useMemo)((function(){return u.filter((function(e){return e.name.toLowerCase().includes(x.toLowerCase())}))}),[u,x]),oe=Object(l.useMemo)((function(){return z.filter((function(e){return e.name.toLowerCase().includes(Q.toLowerCase())}))}),[z,Q]),me=function(){s([].concat(Object(g.a)(u),[v])),t(Object(h.a)({},a,{customer:v})),Ee()},ue=function(e,a){var t=a.name,n=a.value;("ust"!==t&&"discount"!==t||(n=parseFloat(n),!isNaN(n)))&&b(Object(h.a)({},v,Object(f.a)({},t,n)))},se=function(e,a){var t=a.name,n=a.value;if("price"===t){if(n=parseFloat(n),isNaN(n))return;n=n.toFixed(2)}_(Object(h.a)({},V,Object(f.a)({},t,n)))},de=function(e){t(Object(h.a)({},a,{articles:[].concat(Object(g.a)(a.articles),[Object(h.a)({},e,{articleAmount:J})])}))},Ee=function(){R(!P)};return c.a.createElement("div",{className:"invoice-form"},c.a.createElement(N.a,null,c.a.createElement(y.a,{fluid:!0},c.a.createElement(y.a.Content,null,c.a.createElement(y.a.Header,null,"Rechnungsdaten")),c.a.createElement(y.a.Content,null,c.a.createElement(j.a,null,c.a.createElement(j.a.Title,{index:0},c.a.createElement(O.a,{name:"dropdown"}),"Kunde"),c.a.createElement(j.a.Content,{active:!0},a.customer?c.a.createElement("div",{class:"invoice-form-label-container"},c.a.createElement(w.a,null,a.customer.name,c.a.createElement(O.a,{name:"delete",onClick:function(){t(Object(h.a)({},a,{customer:void 0}))}}))):c.a.createElement("div",null,c.a.createElement(k.a,{placeholder:"Suche...",onChange:function(e,a){var t=a.value;return B(t)},value:x}),""==x?c.a.createElement(H.a,{onClick:Ee},"Neuer Kunde"):c.a.createElement("div",{className:"invoice-form-label-container"},ie.map((function(e){return c.a.createElement(w.a,{onClick:function(){return t(Object(h.a)({},a,{customer:e}))}},e.name)})),0==ie.length&&c.a.createElement("p",null,"No Customers found.")),c.a.createElement(F.a,{open:P,onClose:Ee},c.a.createElement(F.a.Header,null,"Neuer Kunde"),c.a.createElement(F.a.Content,null,c.a.createElement(S.a,null,c.a.createElement(S.a.Group,{width:"equal"},c.a.createElement(S.a.Field,{id:"form-input-control-name",control:k.a,label:"Name",placeholder:"Name",name:"name",onChange:ue,value:v.name}),c.a.createElement(S.a.Field,{id:"form-input-control-name",control:k.a,label:"Gesch\xe4ftsform",placeholder:"Gesch\xe4ftsform"})),c.a.createElement(S.a.Group,null,c.a.createElement(S.a.Field,{id:"form-input-control-last-name",control:k.a,label:"Anschrift",placeholder:"Musterschstra\xdfe 3",name:"address",onChange:ue,value:v.address}),c.a.createElement(S.a.Field,{id:"form-input-control-last-name",control:k.a,label:"PLZ",placeholder:"PLZ",name:"postCode",onChange:ue,value:v.postCode})),c.a.createElement(S.a.Group,null,c.a.createElement(S.a.Field,{id:"form-input-control-last-name",control:k.a,label:"Stadt",placeholder:"Stadt",name:"city",onChange:ue,value:v.city})),c.a.createElement(S.a.Group,null,c.a.createElement(S.a.Field,{id:"form-input-control-last-name",control:k.a,label:"MwST",placeholder:"7",name:"ust",icon:"percent",onChange:ue,value:v.ust}),c.a.createElement(S.a.Field,{id:"form-input-control-last-name",control:k.a,label:"Rabat",placeholder:"0",icon:"percent",name:"discount",onChange:ue,value:v.discount})))),c.a.createElement(F.a.Actions,null,c.a.createElement(H.a,{onClick:Ee,content:"Abbrechen",negative:!0,icon:"close",labelPosition:"right"}),c.a.createElement(H.a,{onClick:me,content:"Anlegen",primary:!0,icon:"check",labelPosition:"right"}))))),c.a.createElement(j.a.Title,{index:1},c.a.createElement(O.a,{name:"dropdown"}),"Artikel"),c.a.createElement(j.a.Content,{active:!0},c.a.createElement("div",{className:"invoice-form-label-container"},a.articles.map((function(e,n){return console.log(e),c.a.createElement(w.a,null,e.name,c.a.createElement(w.a.Detail,null,e.articleAmount),c.a.createElement(O.a,{name:"delete",onClick:function(){return e=n,void t(Object(h.a)({},a,{articles:a.articles.filter((function(a,t){return t!==e}))}));var e}}))}))),c.a.createElement("div",null,c.a.createElement(k.a,{name:"amount",type:"number",label:"Menge",value:J,onChange:function(e,a){var t=a.value;return W(t)}}),c.a.createElement(k.a,{name:"article",placeholder:"Suche...",value:Q,onChange:function(e,a){var t=a.value;return X(t)}}),""==Q?c.a.createElement(H.a,{onClick:re},"Neuer Artikel"):c.a.createElement("div",{className:"invoice-form-label-container"},oe.map((function(e){return c.a.createElement(w.a,{onClick:function(){return de(e)}},e.name)})))),c.a.createElement(F.a,{open:ee,onClose:re},c.a.createElement(F.a.Header,null,"Neuer Artikel"),c.a.createElement(F.a.Content,null,c.a.createElement(S.a,null,c.a.createElement(S.a.Group,{width:"equal"},c.a.createElement(S.a.Field,{id:"form-input-control-name",control:k.a,label:"Name",placeholder:"Name",name:"name",onChange:se,value:V.name}),c.a.createElement(S.a.Field,{id:"form-input-control-name",control:k.a,label:"Menge",placeholder:"Menge",type:"number",onChange:se,name:"amount",value:V.amount})),c.a.createElement(S.a.Group,null,c.a.createElement(S.a.Field,{id:"form-input-control-last-name",control:k.a,label:"ISBN",placeholder:"ISBN",name:"isbn",onChange:se,value:V.isbn}),c.a.createElement(S.a.Field,{id:"form-input-control-last-name",control:k.a,label:"Preis",placeholder:"Preis",name:"price",icon:"euro sign",onChange:se,value:V.price})))),c.a.createElement(F.a.Actions,null,c.a.createElement(H.a,{onClick:Ee,content:"Abbrechen",negative:!0,icon:"close",labelPosition:"right"}),c.a.createElement(H.a,{onClick:me,content:"Anlegen",primary:!0,icon:"check",labelPosition:"right"}))))))),c.a.createElement(H.a,{onClick:function(){return t()},content:"Abbrechen",negative:!0,icon:"close",labelPosition:"right"}),a.customer&&c.a.createElement(H.a,{onClick:function(){a.totalPrice=10;var e=Object(g.a)(le);e[a.id]=a,ce(e),t()},content:"Speichern",primary:!0,icon:"check",labelPosition:"right"})))}),P=t(475),R=function(){var e=C("customers",[]),a=Object(n.a)(e,2),t=a[0];a[1];return c.a.createElement(P.a,{celled:!0},c.a.createElement(P.a.Header,null,c.a.createElement(P.a.Row,null,c.a.createElement(P.a.HeaderCell,null,"Name"),c.a.createElement(P.a.HeaderCell,null,"Adresse"),c.a.createElement(P.a.HeaderCell,null,"PLZ"),c.a.createElement(P.a.HeaderCell,null,"Stadt"),c.a.createElement(P.a.HeaderCell,null,"Rabatt"),c.a.createElement(P.a.HeaderCell,null,"MwST"))),c.a.createElement(P.a.Body,null,t.map((function(e){return c.a.createElement(P.a.Row,null,c.a.createElement(P.a.Cell,null,e.name),c.a.createElement(P.a.Cell,null,e.address),c.a.createElement(P.a.Cell,null,e.postCode),c.a.createElement(P.a.Cell,null,e.city),c.a.createElement(P.a.Cell,null,e.discount),c.a.createElement(P.a.Cell,null,e.ust))}))))},I=(t(451),t(473)),A=function(){var e=C("articles",[]),a=Object(n.a)(e,2),t=a[0];a[1];return c.a.createElement(P.a,{celled:!0},c.a.createElement(P.a.Header,null,c.a.createElement(P.a.Row,null,c.a.createElement(P.a.HeaderCell,null,"Name"),c.a.createElement(P.a.HeaderCell,null,"ISBN"),c.a.createElement(P.a.HeaderCell,null,"Menge"),c.a.createElement(P.a.HeaderCell,null,"Preis"))),c.a.createElement(P.a.Body,null,t.map((function(e){return c.a.createElement(P.a.Row,null,c.a.createElement(P.a.Cell,null,e.name),c.a.createElement(P.a.Cell,null,e.isbn),c.a.createElement(P.a.Cell,null,e.amount),c.a.createElement(P.a.Cell,null,e.price))}))))},x=function(e){var a=e.invoice,t=e.setInvoice;return c.a.createElement("div",{className:"invoice-page"},c.a.createElement("div",{className:"invoice-form-wrapper"},c.a.createElement(M,{invoice:a,setInvoice:t})),a.customer&&c.a.createElement("div",{className:"invoice-page-wrapper"},c.a.createElement(p,{id:"singlePage",label:"Rechnung Drucken"}),c.a.createElement(s,{id:"singlePage",invoice:a})))},B=function(){var e=C("invoices",[]),a=Object(n.a)(e,2),t=a[0],r=(a[1],Object(l.useState)()),i=Object(n.a)(r,2),o=i[0],u=i[1];return o?c.a.createElement(x,{invoice:o,setInvoice:u}):c.a.createElement("div",{className:"invoice-tab-container"},c.a.createElement(H.a,{onClick:function(){return u(Object(h.a)({},m,{id:t.length}))},primary:!0},"Neue Rechnung"),c.a.createElement(P.a,{celled:!0},c.a.createElement(P.a.Header,null,c.a.createElement(P.a.Row,null,c.a.createElement(P.a.HeaderCell,null,"Kunde"),c.a.createElement(P.a.HeaderCell,null,"Artikel"),c.a.createElement(P.a.HeaderCell,null,"Gesamtpreis"),c.a.createElement(P.a.HeaderCell,null))),c.a.createElement(P.a.Body,null,t.map((function(e){return c.a.createElement(P.a.Row,null,c.a.createElement(P.a.Cell,null,e.customer.name),c.a.createElement(P.a.Cell,null,e.articles.map((function(e){return c.a.createElement("p",null,e.name)}))),c.a.createElement(P.a.Cell,null,e.totalPrice,"\u20ac"),c.a.createElement(P.a.Cell,null,c.a.createElement(H.a,{icon:!0,onClick:function(){return u(e)}},c.a.createElement(O.a,{name:"eye"}))))})))))},G={articles:[]};Object(r.render)(c.a.createElement((function(){var e=Object(l.useState)(G),a=Object(n.a)(e,2),t=a[0];a[1];return console.log(t),c.a.createElement("div",{className:"invoice-app-container"},c.a.createElement(N.a,null,c.a.createElement(I.a,{panes:[{menuItem:"Rechnungen",render:function(){return c.a.createElement("div",{className:""},c.a.createElement(B,null))}},{menuItem:"Kunden",render:function(){return c.a.createElement("div",{className:""},c.a.createElement(R,null))}},{menuItem:"Artikel",render:function(){return c.a.createElement("div",{className:""},c.a.createElement(A,null))}}]})))}),null),document.getElementById("root"))}},[[260,1,2]]]);
//# sourceMappingURL=main.28c361fd.chunk.js.map