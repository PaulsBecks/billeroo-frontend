(this["webpackJsonpreact-4798tj"]=this["webpackJsonpreact-4798tj"]||[]).push([[0],{260:function(e,a,t){e.exports=t(460)},265:function(e,a,t){},298:function(e,a,t){},451:function(e,a,t){},460:function(e,a,t){"use strict";t.r(a);var n=t(18),l=t(0),c=t.n(l),r=t(53),i={name:"",empty:!0,price:"",isbn:"",amount:1},o={name:"",address:"",postCode:"",city:"",discount:0,ust:7},m=function(e){var a=e.children,t=e.singleMode,n=e.id;return c.a.createElement("div",{id:n,className:"bg-white shadow-1 center pa4",style:{width:"210mm",height:t?"297mm":""}},a)},u=(t(265),function(e){var a=e.id,t=e.invoice,n=t.order_date,l=void 0===n?"24.02.2020":n,r=t.send_date,i=void 0===r?"24.02.2020":r,o=t.invoice_date,u=void 0===o?"24.02.2020":o,s=t.invoice_number,d=void 0===s?"142787164221":s,E=t.customer,v=E.name,b=E.ust,p=E.discount,f=E.address,h=E.city,g=E.postCode,C=t.articles,N=void 0===C?[]:C,y=t.send_default_price,j=void 0===y?5:y,O=N.map((function(e){var a=e.price*e.amount;return(a-a*(p/100))/(1+b/100)})).reduce((function(e,a){return parseFloat(a)+e}),0);return c.a.createElement(m,{singleMode:!0,id:a},c.a.createElement("div",{className:"invoice-header"},c.a.createElement("div",{className:"invoice-header-customer-address"}),c.a.createElement("div",{className:"invoice-header-company-address"})),c.a.createElement("div",{className:"invoice-body"},c.a.createElement("div",{className:"invoice-body-top"},c.a.createElement("div",{className:"invoice-subject"},c.a.createElement("h2",null,"Rechnung"),c.a.createElement("p",null,"Wir erlauben uns in Rechnung zu stellen:"),c.a.createElement("div",{className:"invoice-body-subject-key-values"},c.a.createElement("div",{className:"invoice-body-subject-keys"},c.a.createElement("div",{className:"invoice-body-order-date"},c.a.createElement("p",null,c.a.createElement("b",null,"Bestelldatum:"))),c.a.createElement("div",{className:"invoice-body-send-date"},c.a.createElement("p",null,c.a.createElement("b",null,"Versand am:"))),c.a.createElement("div",{className:"invoice-body-send-to"},c.a.createElement("p",null,c.a.createElement("b",null,"Versand an:")))),c.a.createElement("div",{className:"invoice-body-subject-values"},c.a.createElement("div",{className:"invoice-body-order-date"},c.a.createElement("p",null,c.a.createElement("b",null,l))),c.a.createElement("div",{className:"invoice-body-send-date"},c.a.createElement("p",null,c.a.createElement("b",null,i))),c.a.createElement("div",{className:"invoice-body-send-to"},c.a.createElement("p",null,c.a.createElement("b",null,v," \u2022 ")),c.a.createElement("p",null,c.a.createElement("b",null,f," \u2022 ",g," ",h)))))),c.a.createElement("div",null,c.a.createElement("div",{className:"invoice-body-invoice-date"},c.a.createElement("p",null,"Rechnungsdatum: ",c.a.createElement("b",null,u))),c.a.createElement("div",{className:"invoice-body-invoice-nr"},c.a.createElement("p",null,"Rechnungsnummer: ",c.a.createElement("b",null,d))),c.a.createElement("div",{className:"invoice-body-invoice-hint"},c.a.createElement("p",null,"(Bitte bei Zahlungen angeben)")))),c.a.createElement("div",{className:"invoice-body-article-wrapper"},N.map((function(e){var a=e.amount,t=e.price,n=e.name,l=e.isbn,r=parseInt(a)>1,i=t*a,o=i-i*(p/100),m=o/(1+b/100);return c.a.createElement("div",{className:"invoice-body-article"},c.a.createElement("div",{className:"invoice-body-article-left"},c.a.createElement("div",{className:"invoice-body-article-description"},c.a.createElement("div",null,c.a.createElement("b",null,a," Exemplar",r&&"e")),c.a.createElement("div",{className:"invoice-body-article-title"},c.a.createElement("b",null,"\u201e",n,"\u201c")),c.a.createElement("div",{className:"invoice-body-article-title"},l)),c.a.createElement("div",{className:"invoice-body-artivle-price-calc"},"Preis ".concat(r?"je":""," ").concat(t," \u20ac").concat(r?" = ".concat(i.toFixed(2),"\u20ac"):"").concat(p>0?", abz\xfcglich ".concat(p," % Rabatt = ").concat(o.toFixed(2)," \u20ac"):""," (beinhaltet ").concat(b," % MwST = ").concat((o-m).toFixed(2),")"))),c.a.createElement("div",{className:"invoice-body-article-price"},c.a.createElement("b",null,m.toFixed(2),"\u20ac")))}))),c.a.createElement("div",{className:"invoice-body-price-calculation"},c.a.createElement("div",null,c.a.createElement("p",null,"Netto"),c.a.createElement("p",null,c.a.createElement("b",null,O.toFixed(2),"\u20ac"))),c.a.createElement("div",null,c.a.createElement("p",null,"Versandpauschale"),c.a.createElement("p",null,c.a.createElement("b",null,j.toFixed(2),"\u20ac"))),c.a.createElement("div",null,c.a.createElement("p",null,"+".concat(b,"% Mehrwertsteuer")),c.a.createElement("p",null,c.a.createElement("b",null,((O+j)*parseFloat(b)/100).toFixed(2),"\u20ac")))),c.a.createElement("div",{className:"invoice-body-price"},c.a.createElement("p",null,"Rechnungsbetrag"),c.a.createElement("p",null,c.a.createElement("b",null,((O+j)*(1+parseFloat(b)/100)).toFixed(2),"\u20ac"))),c.a.createElement("div",null,c.a.createElement("p",null,"Zahlen Sie bitte den Rechnungsbetrag bis zum 16. M\xe4rz 2020 unter Angabe der Rechnungsnummer auf unten stehendes Konto. ",c.a.createElement("br",null),c.a.createElement("br",null)," Die gelieferte Ware bleibt bis zur vollst\xe4ndigen Bezahlung Eigentum des Test Verlages. ",c.a.createElement("br",null),"Vielen Dank f\xfcr Ihre Bestellung.",c.a.createElement("br",null),c.a.createElement("br",null)," Mit herzlichen Gr\xfc\xdfen, Test Verlag.",c.a.createElement("br",null)," Werneuchen, den 24. Februar 2020"))))}),s=t(226),d=t.n(s),E=t(150),v=t.n(E),b=function(e){var a=e.id,t=e.label;return c.a.createElement("div",{className:"tc mb4 mt2"},c.a.createElement("div",{id:"myMm",style:{height:"1mm"}}),c.a.createElement("div",{className:"pa2 ba bw1 b--black bg-yellow black-90 br2 dib pointer dim shadow-1",onClick:function(){var e,t,n,l,c=document.getElementById(a),r=(e=c.offsetHeight,Math.floor(e/document.getElementById("myMm").offsetHeight)),i=(t=297,document.getElementById("myMm").offsetHeight*t),o=r<=297?1:Math.floor(r/297)+1;console.log({input:c,inputHeightMm:r,a4HeightMm:297,a4HeightPx:i,numPages:o,range:(n=0,l=o,Array(l-n).join(0).split(0).map((function(e,a){return a+n}))),comp:r<=297,inputHeightPx:c.offsetHeight}),d()(c).then((function(e){var t,n=e.toDataURL("image/png",4);(t=r>297?new v.a("p","mm",[r+16,210]):new v.a).addImage(n,"PNG",0,0),t.save("".concat(a,".pdf"))}))}},t))},p=t(26),f=t(35),h=t(77);function g(e,a){var t=Object(l.useState)((function(){try{var t=window.localStorage.getItem(e);return t?JSON.parse(t):a}catch(n){return console.log(n),a}})),c=Object(n.a)(t,2),r=c[0],i=c[1];return[r,function(a){try{var t=a instanceof Function?a(r):a;i(t),window.localStorage.setItem(e,JSON.stringify(t))}catch(n){console.log(n)}}]}var C=t(469),N=t(476),y=t(477),j=t(54),O=t(76),w=t(470),H=t(461),F=t(472),S=t(471),k=(t(298),function(e){var a=e.invoice,t=e.setInvoice,r=g("customers",[]),m=Object(n.a)(r,2),u=m[0],s=m[1],d=Object(l.useState)(o),E=Object(n.a)(d,2),v=E[0],b=E[1],k=Object(l.useState)(void 0),M=Object(n.a)(k,2),R=M[0],I=M[1],A=Object(l.useState)(""),x=Object(n.a)(A,2),B=x[0],P=x[1],G=g("articles",[]),L=Object(n.a)(G,2),z=L[0],T=L[1],K=Object(l.useState)(i),V=Object(n.a)(K,2),_=V[0],D=V[1],Z=Object(l.useState)(1),J=Object(n.a)(Z,2),W=J[0],q=J[1],U=Object(l.useState)(""),Q=Object(n.a)(U,2),X=Q[0],Y=Q[1],$=Object(l.useState)(void 0),ee=Object(n.a)($,2),ae=ee[0],te=ee[1],ne=g("invoices",[]),le=Object(n.a)(ne,2),ce=le[0],re=le[1],ie=function(){return te(!ae)},oe=Object(l.useMemo)((function(){return u.filter((function(e){return e.name.toLowerCase().includes(B.toLowerCase())}))}),[u,B]),me=Object(l.useMemo)((function(){return z.filter((function(e){return e.name.toLowerCase().includes(X.toLowerCase())}))}),[z,X]),ue=function(e,a){var t=a.name,n=a.value;("ust"!==t&&"discount"!==t||(n=parseFloat(n),!isNaN(n)))&&b(Object(f.a)({},v,Object(p.a)({},t,n)))},se=function(e,a){var t=a.name,n=a.value;if("price"===t){if(n=parseFloat(n),isNaN(n))return;n=n.toFixed(2)}D(Object(f.a)({},_,Object(p.a)({},t,n)))},de=function(e){t(Object(f.a)({},a,{articles:[].concat(Object(h.a)(a.articles),[Object(f.a)({},e,{articleAmount:W})])}))},Ee=function(){I(!R)};return c.a.createElement("div",{className:"invoice-form"},c.a.createElement(C.a,null,c.a.createElement(N.a,{fluid:!0},c.a.createElement(N.a.Content,null,c.a.createElement(N.a.Header,null,"Rechnungsdaten")),c.a.createElement(N.a.Content,null,c.a.createElement(y.a,null,c.a.createElement(y.a.Title,{index:0},c.a.createElement(j.a,{name:"dropdown"}),"Kunde"),c.a.createElement(y.a.Content,{active:!0},a.customer?c.a.createElement("div",{class:"invoice-form-label-container"},c.a.createElement(O.a,null,a.customer.name,c.a.createElement(j.a,{name:"delete",onClick:function(){t(Object(f.a)({},a,{customer:void 0}))}}))):c.a.createElement("div",null,c.a.createElement(w.a,{placeholder:"Search...",onChange:function(e,a){var t=a.value;return P(t)},value:B}),""==B?c.a.createElement(H.a,{onClick:Ee},"Neuer Kunde"):c.a.createElement("div",{className:"invoice-form-label-container"},oe.map((function(e){return c.a.createElement(O.a,{onClick:function(){return t(Object(f.a)({},a,{customer:e}))}},e.name)})),0==oe.length&&c.a.createElement("p",null,"No Customers found.")),c.a.createElement(F.a,{open:R,onClose:Ee},c.a.createElement(F.a.Header,null,"Neuer Kunde"),c.a.createElement(F.a.Content,null,c.a.createElement(S.a,null,c.a.createElement(S.a.Group,{width:"equal"},c.a.createElement(S.a.Field,{id:"form-input-control-name",control:w.a,label:"Name",placeholder:"Name",name:"name",onChange:ue,value:v.name}),c.a.createElement(S.a.Field,{id:"form-input-control-name",control:w.a,label:"Gesch\xe4ftsform",placeholder:"Gesch\xe4ftsform"})),c.a.createElement(S.a.Group,null,c.a.createElement(S.a.Field,{id:"form-input-control-last-name",control:w.a,label:"Anschrift",placeholder:"Musterschstra\xdfe 3",name:"address",onChange:ue,value:v.address}),c.a.createElement(S.a.Field,{id:"form-input-control-last-name",control:w.a,label:"PLZ",placeholder:"PLZ",name:"postCode",onChange:ue,value:v.postCode})),c.a.createElement(S.a.Group,null,c.a.createElement(S.a.Field,{id:"form-input-control-last-name",control:w.a,label:"Stadt",placeholder:"Stadt",name:"city",onChange:ue,value:v.city})),c.a.createElement(S.a.Group,null,c.a.createElement(S.a.Field,{id:"form-input-control-last-name",control:w.a,label:"MwST",placeholder:"7",name:"ust",icon:"percent",onChange:ue,value:v.ust}),c.a.createElement(S.a.Field,{id:"form-input-control-last-name",control:w.a,label:"Rabat",placeholder:"0",icon:"percent",name:"discount",onChange:ue,value:v.discount})))),c.a.createElement(F.a.Actions,null,c.a.createElement(H.a,{onClick:Ee},"Abbrechen"),c.a.createElement(H.a,{onClick:function(){s([].concat(Object(h.a)(u),[v])),t(Object(f.a)({},a,{customer:v})),Ee()}},"Anlegen"))))),c.a.createElement(y.a.Title,{index:1},c.a.createElement(j.a,{name:"dropdown"}),"Artikel"),c.a.createElement(y.a.Content,{active:!0},c.a.createElement("div",{className:"invoice-form-label-container"},a.articles.map((function(e,n){return console.log(e),c.a.createElement(O.a,null,e.name,c.a.createElement(O.a.Detail,null,e.articleAmount),c.a.createElement(j.a,{name:"delete",onClick:function(){return e=n,void t(Object(f.a)({},a,{articles:a.articles.filter((function(a,t){return t!==e}))}));var e}}))}))),c.a.createElement("div",null,c.a.createElement(w.a,{name:"amount",type:"number",label:"Menge",value:W,onChange:function(e,a){var t=a.value;return q(t)}}),c.a.createElement(w.a,{name:"article",label:"Suche",value:X,onChange:function(e,a){var t=a.value;return Y(t)}}),""==X?c.a.createElement(H.a,{onClick:ie},"Neuer Artikel"):c.a.createElement("div",{className:"invoice-form-label-container"},me.map((function(e){return c.a.createElement(O.a,{onClick:function(){return de(e)}},e.name)})))),c.a.createElement(F.a,{open:ae,onClose:ie},c.a.createElement(F.a.Header,null,"Neuer Artikel"),c.a.createElement(F.a.Content,null,c.a.createElement(S.a,null,c.a.createElement(S.a.Group,{width:"equal"},c.a.createElement(S.a.Field,{id:"form-input-control-name",control:w.a,label:"Name",placeholder:"Name",name:"name",onChange:se,value:_.name}),c.a.createElement(S.a.Field,{id:"form-input-control-name",control:w.a,label:"Menge",placeholder:"Menge",type:"number",onChange:se,name:"amount",value:_.amount})),c.a.createElement(S.a.Group,null,c.a.createElement(S.a.Field,{id:"form-input-control-last-name",control:w.a,label:"ISBN",placeholder:"ISBN",name:"isbn",onChange:se,value:_.isbn}),c.a.createElement(S.a.Field,{id:"form-input-control-last-name",control:w.a,label:"Preis",placeholder:"Preis",name:"price",icon:"euro sign",onChange:se,value:_.price})))),c.a.createElement(F.a.Actions,null,c.a.createElement(H.a,{onClick:ie,negative:!0},"Abbrechen"),c.a.createElement(H.a,{onClick:function(){T([].concat(Object(h.a)(z),[_])),de(_),ie()},primary:!0},"Anlegen"))))))),c.a.createElement(H.a,{onClick:function(){return re([].concat(Object(h.a)(ce),[a]))}},"Rechnung Speichern")))}),M=t(475),R=function(){var e=g("customers",[]),a=Object(n.a)(e,2),t=a[0];a[1];return c.a.createElement(M.a,{celled:!0},c.a.createElement(M.a.Header,null,c.a.createElement(M.a.Row,null,c.a.createElement(M.a.HeaderCell,null,"Name"),c.a.createElement(M.a.HeaderCell,null,"Adresse"),c.a.createElement(M.a.HeaderCell,null,"PLZ"),c.a.createElement(M.a.HeaderCell,null,"Stadt"),c.a.createElement(M.a.HeaderCell,null,"Rabatt"),c.a.createElement(M.a.HeaderCell,null,"MwST"))),c.a.createElement(M.a.Body,null,t.map((function(e){return c.a.createElement(M.a.Row,null,c.a.createElement(M.a.Cell,null,e.name),c.a.createElement(M.a.Cell,null,e.address),c.a.createElement(M.a.Cell,null,e.postCode),c.a.createElement(M.a.Cell,null,e.city),c.a.createElement(M.a.Cell,null,e.discount),c.a.createElement(M.a.Cell,null,e.ust))}))))},I=(t(451),t(473)),A=function(){var e=g("articles",[]),a=Object(n.a)(e,2),t=a[0];a[1];return c.a.createElement(M.a,{celled:!0},c.a.createElement(M.a.Header,null,c.a.createElement(M.a.Row,null,c.a.createElement(M.a.HeaderCell,null,"Name"),c.a.createElement(M.a.HeaderCell,null,"ISBN"),c.a.createElement(M.a.HeaderCell,null,"Menge"),c.a.createElement(M.a.HeaderCell,null,"Preis"))),c.a.createElement(M.a.Body,null,t.map((function(e){return c.a.createElement(M.a.Row,null,c.a.createElement(M.a.Cell,null,e.name),c.a.createElement(M.a.Cell,null,e.isbn),c.a.createElement(M.a.Cell,null,e.amount),c.a.createElement(M.a.Cell,null,e.price))}))))},x=function(){var e=g("invoices",[]),a=Object(n.a)(e,2),t=a[0];a[1];return c.a.createElement(M.a,{celled:!0},c.a.createElement(M.a.Header,null,c.a.createElement(M.a.Row,null,c.a.createElement(M.a.HeaderCell,null,"Kunde"),c.a.createElement(M.a.HeaderCell,null,"Artikel"),c.a.createElement(M.a.HeaderCell,null,"Menge"),c.a.createElement(M.a.HeaderCell,null,"Preis"))),c.a.createElement(M.a.Body,null,t.map((function(e){return c.a.createElement(M.a.Row,null,c.a.createElement(M.a.Cell,null,e.customer.name),c.a.createElement(M.a.Cell,null,e.articles.map((function(e){return c.a.createElement("p",null,e.name)}))),c.a.createElement(M.a.Cell,null),c.a.createElement(M.a.Cell,null))}))))},B={articles:[]};Object(r.render)(c.a.createElement((function(){var e=Object(l.useState)(B),a=Object(n.a)(e,2),t=a[0],r=a[1];return console.log(t),c.a.createElement("div",{className:"invoice-app-container"},c.a.createElement(C.a,null,c.a.createElement(I.a,{panes:[{menuItem:"Rechnung erstellen",render:function(){return c.a.createElement("div",{className:"invoice-page"},c.a.createElement("div",{className:"invoice-form-wrapper"},c.a.createElement(k,{invoice:t,setInvoice:r})),c.a.createElement("div",{className:"invoice-page-wrapper"},c.a.createElement(b,{id:"singlePage",label:"Rechnung Drucken"}),t.customer&&c.a.createElement(u,{id:"singlePage",invoice:t})))}},{menuItem:"Kunden",render:function(){return c.a.createElement("div",{className:""},c.a.createElement(R,null))}},{menuItem:"Artikel",render:function(){return c.a.createElement("div",{className:""},c.a.createElement(A,null))}},{menuItem:"Rechnungen",render:function(){return c.a.createElement("div",{className:""},c.a.createElement(x,null))}}]})))}),null),document.getElementById("root"))}},[[260,1,2]]]);
//# sourceMappingURL=main.0df89bdc.chunk.js.map