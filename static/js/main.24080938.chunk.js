(this["webpackJsonpreact-4798tj"]=this["webpackJsonpreact-4798tj"]||[]).push([[0],{303:function(e,a,t){e.exports=t(561)},375:function(e,a,t){},410:function(e,a,t){},463:function(e,a,t){},553:function(e,a,t){},561:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(42),c=t(17);function o(e,a){var t=Object(n.useState)((function(){try{var t=window.localStorage.getItem(e);return t?JSON.parse(t):a}catch(n){return console.log(n),a}})),l=Object(c.a)(t,2),r=l[0],o=l[1];return[r,function(a){try{var t=a instanceof Function?a(r):a;o(t),window.localStorage.setItem(e,JSON.stringify(t))}catch(n){console.log(n)}}]}var i={name:"",empty:!0,price:"",isbn:"",amount:1,authors:[]},m={name:"",addition:"",address:"",postCode:"",city:"",discount:0,ust:7},u={invoiceDate:(new Date).toString(),shippingDate:(new Date).toString(),orderDate:(new Date).toString(),invoiceNumber:"",porto:"5.00",finalText:"",articles:[]},d={name:"",executive:"",firstAddress:{name:"",address:"",postCode:"",city:"",phone:""},secondAddress:{name:"",address:"",postCode:"",city:"",phone:""},firstEmail:"",secondEmail:"",taxNumber:"",taxOffice:"",bank:"",iban:"",bic:"",logo:"",finalText:""},s={name:"",contact:"",books:[]};function E(){return o("company",d)}function v(){return o("invoices",[])}function b(){return o("articles",[])}function p(){return o("authors",[])}var f=t(579),h=function(){var e=o("customers",[]),a=Object(c.a)(e,2),t=a[0];a[1];return l.a.createElement(f.a,{celled:!0},l.a.createElement(f.a.Header,null,l.a.createElement(f.a.Row,null,l.a.createElement(f.a.HeaderCell,null,"Name"),l.a.createElement(f.a.HeaderCell,null,"Adresse"),l.a.createElement(f.a.HeaderCell,null,"PLZ"),l.a.createElement(f.a.HeaderCell,null,"Stadt"),l.a.createElement(f.a.HeaderCell,null,"Rabatt"),l.a.createElement(f.a.HeaderCell,null,"MwST"))),l.a.createElement(f.a.Body,null,t.map((function(e){return l.a.createElement(f.a.Row,null,l.a.createElement(f.a.Cell,null,e.name),l.a.createElement(f.a.Cell,null,e.address),l.a.createElement(f.a.Cell,null,e.postCode),l.a.createElement(f.a.Cell,null,e.city),l.a.createElement(f.a.Cell,null,e.discount),l.a.createElement(f.a.Cell,null,e.ust))}))))},g=(t(375),t(574)),C=t(578),N=t(19),j=t(29),O=t(565),y=t(576),F=t(20),A=t(575),k=t(573),w=t(92);function x(e){var a=e.article,t=e.setArticle,r=Object(n.useState)(a.price),o=Object(c.a)(r,2),i=o[0],m=o[1],u=Object(n.useState)(""),d=Object(c.a)(u,2),s=d[0],E=d[1],v=p(),b=Object(c.a)(v,1)[0],f=Object(n.useMemo)((function(){return b.filter((function(e){return e&&e.name.includes(s)}))}),[b,s]);var h=function(e,n){var l=n.name,r=n.value;if("price"===l){if(r=parseFloat(r),isNaN(r))return void m("");r=r.toFixed(2),m(r)}t(Object(N.a)({},a,Object(F.a)({},l,r)))};return l.a.createElement(A.a,null,l.a.createElement(A.a.Group,{width:"equal"},l.a.createElement(A.a.Field,{id:"form-input-control-name",control:k.a,label:"Name",placeholder:"Name",name:"name",onChange:h,value:a.name}),l.a.createElement(A.a.Field,{id:"form-input-control-name",control:k.a,label:"Lagerbestand",placeholder:"Menge",type:"number",onChange:h,name:"amount",value:a.amount})),l.a.createElement(A.a.Group,null,l.a.createElement(A.a.Field,{id:"form-input-control-last-name",control:k.a,label:"ISBN",placeholder:"ISBN",name:"isbn",onChange:h,value:a.isbn}),l.a.createElement(A.a.Field,{id:"form-input-control-last-name",control:k.a,label:"Preis",placeholder:"Preis",name:"price",icon:"euro sign",onChange:function(e,a){var t=a.value;return m(t)},onBlur:function(e){h(0,{name:e.target.name,value:e.target.value})},value:i})),l.a.createElement("div",null,l.a.createElement("label",null,l.a.createElement("b",null,"Autoren")),l.a.createElement("div",null,a.authors.map((function(e){return l.a.createElement(w.a,null,e.name)}))),l.a.createElement(k.a,{name:"author",placeholder:"Suche...",value:s,onChange:function(e,a){var t=a.value;return E(t)}}),""!=s&&l.a.createElement("div",null,f.map((function(e){return l.a.createElement(w.a,{onClick:function(){return n=e,void t(Object(N.a)({},a,{authors:[].concat(Object(j.a)(a.authors),[n])}));var n}},e.name)})))))}t(410);var S=function(){var e=b(),a=Object(c.a)(e,2),t=a[0],r=a[1],o=Object(n.useState)(),m=Object(c.a)(o,2),u=m[0],d=m[1],s=Object(n.useState)(),E=Object(c.a)(s,2),p=E[0],h=E[1],g=v(),C=Object(c.a)(g,1)[0],F=Object(n.useMemo)((function(){return p?C.reduce((function(e,a){for(var t in a.articles){var n=a.articles[t];if(n.id==p.id)return[].concat(Object(j.a)(e),[{customer:a.customer,invoiceNumber:a.invoiceNumber,article:n}])}return e}),[]):null}));return l.a.createElement("div",{className:"articles-tab-container"},l.a.createElement(O.a,{onClick:function(){return d(Object(N.a)({},i,{id:t.length}))},primary:!0},"Neuer Artikel"),u&&l.a.createElement(y.a,{onClose:function(){return d()},open:!0},l.a.createElement(y.a.Header,null,"Edit Article"),l.a.createElement(y.a.Content,null,l.a.createElement(x,{article:u,setArticle:d})),l.a.createElement(y.a.Actions,null,l.a.createElement(O.a,{onClick:function(){return d()},content:"Abbrechen",negative:!0,icon:"close",labelPosition:"right"}),l.a.createElement(O.a,{onClick:function(){var e=Object(j.a)(t);e[u.id]=u,r(e),d()},content:"Speichern",primary:!0,icon:"check",labelPosition:"right"}))),p&&l.a.createElement(y.a,{onClose:function(){return h()},open:!0},l.a.createElement(y.a.Header,null,"Rechnungen"),l.a.createElement(y.a.Content,null,l.a.createElement(f.a,null,l.a.createElement(f.a.Header,null,l.a.createElement(f.a.Row,null,l.a.createElement(f.a.HeaderCell,null,"Rechnungsnummer"),l.a.createElement(f.a.HeaderCell,null,"Kunde"),l.a.createElement(f.a.HeaderCell,null,"Verkaufte Exemplare"),l.a.createElement(f.a.HeaderCell,null,"Umsatz"))),l.a.createElement(f.a.Body,null,F.map((function(e){return l.a.createElement(f.a.Row,null,l.a.createElement(f.a.Cell,null,e.invoiceNumber),l.a.createElement(f.a.Cell,null,e.customer.name),l.a.createElement(f.a.Cell,null,e.article.amount),l.a.createElement(f.a.Cell,null,e.article.price))})))))),l.a.createElement(f.a,{celled:!0},l.a.createElement(f.a.Header,null,l.a.createElement(f.a.Row,null,l.a.createElement(f.a.HeaderCell,null,"Id"),l.a.createElement(f.a.HeaderCell,null,"Name"),l.a.createElement(f.a.HeaderCell,null,"ISBN"),l.a.createElement(f.a.HeaderCell,null,"Menge"),l.a.createElement(f.a.HeaderCell,null,"Preis"),l.a.createElement(f.a.HeaderCell,null,"Autoren"),l.a.createElement(f.a.HeaderCell,null))),l.a.createElement(f.a.Body,null,t.map((function(e,a){return e&&l.a.createElement(f.a.Row,null,l.a.createElement(f.a.Cell,null,e.id),l.a.createElement(f.a.Cell,null,e.name),l.a.createElement(f.a.Cell,null,e.isbn),l.a.createElement(f.a.Cell,null,e.amount),l.a.createElement(f.a.Cell,null,e.price),l.a.createElement(f.a.Cell,null,e.authors.map((function(e){return l.a.createElement("p",null,e.name)}))),l.a.createElement(f.a.Cell,null,l.a.createElement(O.a,{onClick:function(){return d(e)},icon:"edit"}),l.a.createElement(O.a,{onClick:function(){return h(e)},icon:"list"}),l.a.createElement(O.a,{onClick:function(){return function(e){var a=Object(j.a)(t);a[e]=void 0,r(a)}(a)},icon:"delete"})))})))))},H=t(64),D=t(580),P=t(581),R=t(138),I=t.n(R);t(462),t(463);function M(e){var a=new Date(e),t=a.getDate(),n=a.getMonth()+1;return"".concat(t<10?"0"+t:t,".").concat(n<10?"0"+n:n,".").concat(a.getFullYear())}var B=function(e){var a,t=e.invoice,r=e.setInvoice,u=o("customers",[]),d=Object(c.a)(u,2),s=d[0],E=d[1],v=Object(n.useState)(Object(N.a)({},m,{id:s.length})),b=Object(c.a)(v,2),p=b[0],f=b[1],h=Object(n.useState)(void 0),C=Object(c.a)(h,2),S=C[0],R=C[1],M=Object(n.useState)(""),B=Object(c.a)(M,2),T=B[0],G=B[1],L=o("articles",[]),z=Object(c.a)(L,2),Z=z[0],K=z[1],q=Object(n.useState)(Object(N.a)({},i,{id:Z.length})),U=Object(c.a)(q,2),V=U[0],J=U[1],W=Object(n.useState)(1),Y=Object(c.a)(W,2),Q=Y[0],X=Y[1],$=Object(n.useState)(""),_=Object(c.a)($,2),ee=_[0],ae=_[1],te=Object(n.useState)(void 0),ne=Object(c.a)(te,2),le=ne[0],re=ne[1],ce=o("invoices",[]),oe=Object(c.a)(ce,2),ie=oe[0],me=oe[1],ue=Object(n.useState)(t.porto),de=Object(c.a)(ue,2),se=de[0],Ee=de[1],ve=function(e,a){var n=a.name,l=a.value;if("porto"===n){if(l=parseFloat(l),isNaN(l))return void Ee("");l=l.toFixed(2),Ee(l)}r(Object(N.a)({},t,Object(F.a)({},n,l)))},be=function(){return re(!le)},pe=Object(n.useMemo)((function(){return s.filter((function(e){return e.name.toLowerCase().includes(T.toLowerCase())}))}),[s,T]),fe=Object(n.useMemo)((function(){return Z.filter((function(e){return e.name.toLowerCase().includes(ee.toLowerCase())}))}),[Z,ee]),he=function(e,a){var t=a.name,n=a.value;("ust"!==t&&"discount"!==t||(n=parseFloat(n),!isNaN(n)))&&f(Object(N.a)({},p,Object(F.a)({},t,n)))},ge=function(e,a){var t=Object(j.a)(Z),n=t[e];t[e]=Object(N.a)({},n,{amount:parseFloat(n.amount)+a}),K(t)},Ce=function(e){r(Object(N.a)({},t,{articles:[].concat(Object(j.a)(t.articles),[Object(N.a)({},e,{amount:Q})])})),J(),X(1)},Ne=function(){R(!S)},je=function(e,a){r(Object(N.a)({},t,Object(F.a)({},a,e.toString())))};return l.a.createElement("div",{className:"invoice-form"},l.a.createElement(g.a,null,l.a.createElement(D.a,{fluid:!0},l.a.createElement(D.a.Content,null,l.a.createElement(D.a.Header,null,"Rechnungsdaten")),l.a.createElement(D.a.Content,null,l.a.createElement(P.a,null,l.a.createElement(P.a.Title,{index:0},l.a.createElement(H.a,{name:"dropdown"}),"Kunde"),l.a.createElement(P.a.Content,{active:!0},t.customer?l.a.createElement("div",{class:"invoice-form-label-container"},l.a.createElement(w.a,null,t.customer.name,l.a.createElement(H.a,{name:"delete",onClick:function(){r(Object(N.a)({},t,{customer:void 0}))}}))):l.a.createElement("div",null,l.a.createElement(k.a,{placeholder:"Suche...",onChange:function(e,a){var t=a.value;return G(t)},value:T}),""==T?l.a.createElement(O.a,{onClick:Ne},"Neuer Kunde"):l.a.createElement("div",{className:"invoice-form-label-container"},pe.map((function(e){return l.a.createElement(w.a,{onClick:function(){return r(Object(N.a)({},t,{customer:e}))}},e.name)})),0==pe.length&&l.a.createElement("p",null,"No Customers found.")),l.a.createElement(y.a,{open:S,onClose:Ne},l.a.createElement(y.a.Header,null,"Neuer Kunde"),l.a.createElement(y.a.Content,null,l.a.createElement(A.a,null,l.a.createElement(A.a.Group,{width:"equal"},l.a.createElement(A.a.Field,{id:"form-input-control-name",control:k.a,label:"Name",placeholder:"Name",name:"name",onChange:he,value:p.name}),l.a.createElement(A.a.Field,{id:"form-input-control-name",control:k.a,label:"Zusatz",placeholder:"Zusatz",name:"addition",onChange:he,value:p.addition})),l.a.createElement(A.a.Group,null,l.a.createElement(A.a.Field,{id:"form-input-control-last-name",control:k.a,label:"Anschrift",placeholder:"Musterschstra\xdfe 3",name:"address",onChange:he,value:p.address}),l.a.createElement(A.a.Field,{id:"form-input-control-last-name",control:k.a,label:"PLZ",placeholder:"PLZ",name:"postCode",onChange:he,value:p.postCode})),l.a.createElement(A.a.Group,null,l.a.createElement(A.a.Field,{id:"form-input-control-last-name",control:k.a,label:"Stadt",placeholder:"Stadt",name:"city",onChange:he,value:p.city})),l.a.createElement(A.a.Group,null,l.a.createElement(A.a.Field,{id:"form-input-control-last-name",control:k.a,label:"MwST",placeholder:"7",name:"ust",icon:"percent",onChange:he,value:p.ust}),l.a.createElement(A.a.Field,{id:"form-input-control-last-name",control:k.a,label:"Rabat",placeholder:"0",icon:"percent",name:"discount",onChange:he,value:p.discount})))),l.a.createElement(y.a.Actions,null,l.a.createElement(O.a,{onClick:Ne,content:"Abbrechen",negative:!0,icon:"close",labelPosition:"right"}),l.a.createElement(O.a,{onClick:function(){E([].concat(Object(j.a)(s),[p])),r(Object(N.a)({},t,{customer:p})),Ne()},content:"Anlegen",primary:!0,icon:"check",labelPosition:"right"}))))),l.a.createElement(P.a.Title,{index:1},l.a.createElement(H.a,{name:"dropdown"}),"Artikel"),l.a.createElement(P.a.Content,{active:!0},l.a.createElement("div",{className:"invoice-form-label-container"},t.articles.map((function(e,a){return l.a.createElement(w.a,null,e.name,l.a.createElement(w.a.Detail,null,e.articleAmount),l.a.createElement(H.a,{name:"delete",onClick:function(){return e=a,void r(Object(N.a)({},t,{articles:t.articles.filter((function(a,t){return t!==e}))}));var e}}))}))),l.a.createElement("div",null,l.a.createElement(k.a,{name:"amount",type:"number",label:"Menge",value:Q,onChange:function(e,a){var t=a.value;return X(t)}}),l.a.createElement(k.a,{name:"article",placeholder:"Suche...",value:ee,onChange:function(e,a){var t=a.value;return ae(t)}}),""==ee?l.a.createElement(O.a,{onClick:be},"Neuer Artikel"):l.a.createElement("div",{className:"invoice-form-label-container"},fe.map((function(e){return l.a.createElement(w.a,{onClick:function(){return Ce(e)}},e.name)})))),l.a.createElement(y.a,{open:le,onClose:be},l.a.createElement(y.a.Header,null,"Neuer Artikel"),l.a.createElement(y.a.Content,null,l.a.createElement(x,{article:V,setArticle:J})),l.a.createElement(y.a.Actions,null,l.a.createElement(O.a,{onClick:be,content:"Abbrechen",negative:!0,icon:"close",labelPosition:"right"}),l.a.createElement(O.a,{onClick:function(){K([].concat(Object(j.a)(Z),[V])),Ce(V),be()},content:"Anlegen",primary:!0,icon:"check",labelPosition:"right"})))),l.a.createElement(P.a.Title,null,l.a.createElement(H.a,{name:"dropdown"}),"Allgemein"),l.a.createElement(P.a.Content,{active:!0},l.a.createElement(A.a,null,l.a.createElement(A.a.Field,{label:"Rechnungsdatum",name:"invoiceDate",selected:new Date(t.invoiceDate),onChange:function(e){return je(e,"invoiceDate")},control:I.a,dateFormat:"dd/MM/yyyy"}),l.a.createElement(A.a.Field,{label:"Bestelldatum",name:"orderDate",selected:new Date(t.orderDate),onChange:function(e){return je(e,"orderDate")},control:I.a,dateFormat:"dd/MM/yyyy"}),l.a.createElement(A.a.Field,{label:"Versanddatum",name:"shippingDate",selected:new Date(t.shippingDate),onChange:function(e){return je(e,"shippingDate")},control:I.a,dateFormat:"dd/MM/yyyy"}),l.a.createElement(A.a.Field,(a={label:"Porto",name:"shippingDate",value:se},Object(F.a)(a,"name","porto"),Object(F.a)(a,"onChange",(function(e,a){var t=a.value;return Ee(t)})),Object(F.a)(a,"control",k.a),Object(F.a)(a,"onBlur",(function(e){return ve(0,{name:e.target.name,value:e.target.value})})),Object(F.a)(a,"icon","euro"),a)),l.a.createElement(A.a.Field,{label:"Rechnungsnummer",name:"invoiceNumber",value:t.invoiceNumber,onChange:ve,control:k.a}),l.a.createElement(A.a.TextArea,{label:"Freitext",value:t.finalText,onChange:ve,name:"finalText"})))))),l.a.createElement(O.a,{onClick:function(){return r()},content:"Abbrechen",negative:!0,icon:"close",labelPosition:"right"}),t.customer&&l.a.createElement(O.a,{onClick:function(){var e=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(e)for(var t in e.articles)ge(e.articles[t].id,a*e.articles[t].amount)};t.totalPrice=function(e){return e.articles.map((function(a){var t=a.price*a.amount;return t-t*(e.customer.discount/100)})).reduce((function(e,a){return a+e}),0)}(t);var a=Object(j.a)(ie);e(ie[t.id]),a[t.id]=t,e(a[t.id],-1),me(a),r()},content:"Speichern",primary:!0,icon:"check",labelPosition:"right"})))},T=t(288),G=t.n(T),L=t(188),z=t.n(L),Z=function(e){var a=e.id,t=e.label,n=e.fileName;return l.a.createElement("div",{className:"tc mb4 mt2"},l.a.createElement("div",{id:"myMm",style:{height:"1mm"}}),l.a.createElement("div",{className:"pa2 ba bw1 b--black bg-yellow black-90 br2 dib pointer dim shadow-1",onClick:function(){var e,t,l,r,c=document.getElementById(a),o=(e=c.offsetHeight,Math.floor(e/document.getElementById("myMm").offsetHeight)),i=(t=297,document.getElementById("myMm").offsetHeight*t),m=o<=297?1:Math.floor(o/297)+1;console.log({input:c,inputHeightMm:o,a4HeightMm:297,a4HeightPx:i,numPages:m,range:(l=0,r=m,Array(r-l).join(0).split(0).map((function(e,a){return a+l}))),comp:o<=297,inputHeightPx:c.offsetHeight}),G()(c,{scale:1}).then((function(e){var a,t=e.toDataURL("image/png",1);(a=o>297?new z.a("p","mm",[o+16,210]):new z.a).addImage(t,"PNG",0,0),a.save("".concat(n,".pdf"))}))}},t))},K=function(e){var a=e.children,t=e.singleMode,n=e.id;return l.a.createElement("div",{id:n,className:"bg-white shadow-1 center pa4",style:{width:"210mm",height:t?"297mm":""}},a)},q=(t(553),function(e){var a=e.id,t=e.invoice,n=t.orderDate,r=t.invoiceDate,o=t.shippingDate,i=t.invoiceNumber,m=t.porto,u=t.finalText,d=t.customer,s=d.name,v=d.ust,b=d.discount,p=d.address,f=d.city,h=d.postCode,g=d.addition,C=t.articles,N=void 0===C?[]:C,j=E(),O=Object(c.a)(j,1)[0],y=N.map((function(e){var a=e.price*e.amount;return(a-a*(b/100))/(1+v/100)})).reduce((function(e,a){return parseFloat(a)+e}),0);return l.a.createElement(K,{singleMode:!0,id:a},l.a.createElement("div",{className:"invoice-page-pdf"},l.a.createElement("div",{className:"invoice-page-top"},l.a.createElement("img",{className:"invoice-header-company-logo",src:O.logo}),l.a.createElement("div",{className:"invoice-header"},l.a.createElement("div",{className:"invoice-header-customer-address"},l.a.createElement("div",{className:"invoice-header-customer-company"},O.name," \u2022 ",O.firstAddress.address," \u2022"," ",O.firstAddress.postCode," ",O.firstAddress.city),l.a.createElement("div",{className:"invoice-header-customer-info"},l.a.createElement("p",null,l.a.createElement("b",null,s)),l.a.createElement("p",{className:"invoice-header-customer-info-name"},l.a.createElement("b",null,g)),l.a.createElement("p",null,l.a.createElement("b",null,p)),l.a.createElement("p",null,l.a.createElement("b",null,h," ",f)))),l.a.createElement("div",{className:"invoice-header-company-info"},l.a.createElement("p",null,O.name),l.a.createElement("p",null,O.executive),l.a.createElement("br",null),l.a.createElement("p",null,O.firstAddress.name),l.a.createElement("p",null,O.firstAddress.address),l.a.createElement("p",null,O.firstAddress.postCode," ",O.firstAddress.city),l.a.createElement("p",null,"Telefon ",O.firstAddress.phone),l.a.createElement("br",null),l.a.createElement("p",null,O.firstEmail),l.a.createElement("p",null,O.secondEmail),l.a.createElement("br",null),l.a.createElement("p",null,"Steuernummer ",O.taxNumber),l.a.createElement("p",null,O.taxOffice)))),l.a.createElement("div",{className:"invoice-body"},l.a.createElement("div",{className:"invoice-body-top"},l.a.createElement("div",{className:"invoice-subject"},l.a.createElement("h4",null,"Rechnung"),l.a.createElement("p",null,"Wir erlauben uns in Rechnung zu stellen:"),l.a.createElement("div",{className:"invoice-body-subject-key-values"},l.a.createElement("div",{className:"invoice-body-subject-keys"},l.a.createElement("div",{className:"invoice-body-order-date"},l.a.createElement("p",null,l.a.createElement("b",null,"Bestelldatum:"))),l.a.createElement("div",{className:"invoice-body-send-date"},l.a.createElement("p",null,l.a.createElement("b",null,"Versand am:"))),l.a.createElement("div",{className:"invoice-body-send-to"},l.a.createElement("p",null,l.a.createElement("b",null,"Versand an:")))),l.a.createElement("div",{className:"invoice-body-subject-values"},l.a.createElement("div",{className:"invoice-body-order-date"},l.a.createElement("p",null,l.a.createElement("b",null,M(n)))),l.a.createElement("div",{className:"invoice-body-send-date"},l.a.createElement("p",null,l.a.createElement("b",null,M(o)))),l.a.createElement("div",{className:"invoice-body-send-to"},l.a.createElement("p",null,l.a.createElement("b",null,s," \u2022 ",g)),l.a.createElement("p",null,l.a.createElement("b",null,p," \u2022 ",h," ",f)))))),l.a.createElement("div",{className:"invoice-body-top-right"},l.a.createElement("div",{className:"invoice-body-invoice-date"},l.a.createElement("p",null,"Rechnungsdatum: ",l.a.createElement("b",null,M(r)))),l.a.createElement("div",{className:"invoice-body-invoice-nr"},l.a.createElement("p",null,"Rechnungsnummer: ",l.a.createElement("b",null,i))),l.a.createElement("div",{className:"invoice-body-invoice-hint"},l.a.createElement("p",null,"(Bitte bei Zahlungen angeben)")))),l.a.createElement("div",{className:"invoice-body-article-wrapper"},N.map((function(e){var a=e.amount,t=e.price,n=e.name,r=e.isbn,c=parseInt(a)>1,o=t*a,i=o-o*(b/100),m=i/(1+v/100);return l.a.createElement("div",{className:"invoice-body-article"},l.a.createElement("div",{className:"invoice-body-article-left"},l.a.createElement("div",{className:"invoice-body-article-description"},l.a.createElement("div",null,l.a.createElement("b",null,a," Exemplar",c&&"e")),l.a.createElement("div",{className:"invoice-body-article-title"},l.a.createElement("b",null,"\u201e",n,"\u201c")),l.a.createElement("div",{className:"invoice-body-article-title"},r)),l.a.createElement("div",{className:"invoice-body-artivle-price-calc"},"Preis ".concat(c?"je":""," ").concat(t," \u20ac").concat(c?" = ".concat(o.toFixed(2),"\u20ac"):"").concat(b>0?", abz\xfcglich ".concat(b," % Rabatt = ").concat(i.toFixed(2)," \u20ac"):""," (beinhaltet ").concat(v," % MwST = ").concat((i-m).toFixed(2),")"))),l.a.createElement("div",{className:"invoice-body-article-price"},l.a.createElement("b",null,N.length>1&&"".concat(m.toFixed(2)," \u20ac"))))}))),l.a.createElement("div",{className:"invoice-body-price-calculation"},l.a.createElement("div",null,l.a.createElement("p",null,"Netto"),l.a.createElement("p",null,l.a.createElement("b",null,y.toFixed(2)," \u20ac"))),l.a.createElement("div",null,l.a.createElement("p",null,"Versandkosten"),l.a.createElement("p",null,l.a.createElement("b",null,m," \u20ac"))),l.a.createElement("div",null,l.a.createElement("p",null,"+".concat(v,"% Mehrwertsteuer")),l.a.createElement("p",null,l.a.createElement("b",null,((y+parseFloat(m))*parseFloat(v)/100).toFixed(2)," ","\u20ac")))),l.a.createElement("div",{className:"invoice-body-price"},l.a.createElement("p",null,"Rechnungsbetrag"),l.a.createElement("p",null,l.a.createElement("b",null,((y+parseFloat(m))*(1+parseFloat(v)/100)).toFixed(2)," ","\u20ac"))),l.a.createElement("div",null,l.a.createElement("p",{className:"invoice-body-final-text"},u))),l.a.createElement("div",{className:"invoice-footer"},l.a.createElement("div",{className:"invoice-footer-executive"},l.a.createElement("b",null,"Gesch\xe4ftsf\xfchrung")," ",O.executive),l.a.createElement("div",{className:"invoice-footer-bank-account"},l.a.createElement("b",null,"Bankverbindung")," ",O.bank," \u2022 IBAN ",O.iban," \u2022 BIC"," ",O.bic),l.a.createElement("div",{className:"invoice-footer-tax"},l.a.createElement("b",null,"Steuernummer")," ",O.taxNumber," | ",l.a.createElement("b",null,"USt-IdNr.")," ",O.ustNr))))}),U=function(e){var a=e.invoice,t=e.setInvoice;return l.a.createElement("div",{className:"invoice-page"},l.a.createElement("div",{className:"invoice-form-wrapper"},l.a.createElement(B,{invoice:a,setInvoice:t})),a.customer&&l.a.createElement("div",{className:"invoice-page-wrapper"},l.a.createElement(Z,{id:"singlePage",label:"Rechnung Drucken",fileName:a.invoiceNumber}),l.a.createElement(q,{id:"singlePage",invoice:a})))},V=function(){var e=v(),a=Object(c.a)(e,2),t=a[0],r=(a[1],Object(n.useState)()),o=Object(c.a)(r,2),i=o[0],m=o[1],d=E(),s=Object(c.a)(d,1)[0];return i?l.a.createElement(U,{invoice:i,setInvoice:m}):l.a.createElement("div",{className:"invoice-tab-container"},l.a.createElement(O.a,{onClick:function(){return m(Object(N.a)({},u,{id:t.length,finalText:s.finalText}))},primary:!0},"Neue Rechnung"),l.a.createElement(f.a,{celled:!0},l.a.createElement(f.a.Header,null,l.a.createElement(f.a.Row,null,l.a.createElement(f.a.HeaderCell,null,"Rechnungsnummer"),l.a.createElement(f.a.HeaderCell,null,"Rechnungsdatum"),l.a.createElement(f.a.HeaderCell,null,"Kunde"),l.a.createElement(f.a.HeaderCell,null,"Artikel"),l.a.createElement(f.a.HeaderCell,null,"Gesamtpreis"),l.a.createElement(f.a.HeaderCell,null))),l.a.createElement(f.a.Body,null,t.map((function(e){return l.a.createElement(f.a.Row,null,l.a.createElement(f.a.Cell,null,e.invoiceNumber),l.a.createElement(f.a.Cell,null,M(e.invoiceDate)),l.a.createElement(f.a.Cell,null,e.customer.name),l.a.createElement(f.a.Cell,null,e.articles.map((function(e){return l.a.createElement("p",null,e.name)}))),l.a.createElement(f.a.Cell,null,e.totalPrice.toFixed(2),"\u20ac"),l.a.createElement(f.a.Cell,null,l.a.createElement(O.a,{icon:!0,onClick:function(){return m(e)}},l.a.createElement(H.a,{name:"eye"}))))})))))},J=t(190),W=t(189),Y={flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",borderWidth:2,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#fafafa",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out"},Q={borderColor:"#2196f3"},X={borderColor:"#00e676"},$={borderColor:"#ff1744"};function _(e){var a=e.onDrop,t=Object(W.b)({accept:"image/*"}),r=(t.getRootProps,t.getInputProps,t.isDragActive),c=t.isDragAccept,o=t.isDragReject,i=Object(n.useMemo)((function(){return Object(N.a)({},Y,{},r?Q:{},{},c?X:{},{},o?$:{})}),[r,o]);return l.a.createElement(W.a,{onDrop:a},(function(e){var a=e.getRootProps,t=e.getInputProps;return l.a.createElement("div",{className:"container"},l.a.createElement("div",a({style:i,onDrop:function(e){return e.stopPropagation()}}),l.a.createElement("input",t()),l.a.createElement("p",null,"Drag 'n' drop some files here, or click to select files")))}))}function ee(){var e=o("company",d),a=Object(c.a)(e,2),t=a[0],n=a[1],r=function(e,a){var l=a.name,r=a.value;n(Object(N.a)({},t,Object(F.a)({},l,r)))},i=function(e,a){var l=a.name,r=a.value;n(Object(N.a)({},t,{firstAddress:Object(N.a)({},t.firstAddress,Object(F.a)({},l,r))}))},m=function(e,a){var l=a.name,r=a.value;n(Object(N.a)({},t,{secondAddress:Object(N.a)({},t.secondAddress,Object(F.a)({},l,r))}))};return l.a.createElement("div",null,l.a.createElement(A.a,null,l.a.createElement(A.a.Field,{label:"Firmename",control:k.a,name:"name",onChange:r,value:t.name}),l.a.createElement(J.a,null,l.a.createElement("h4",null,"Logo"),""!=t.logo?l.a.createElement("div",null,l.a.createElement("img",{src:t.logo}),l.a.createElement(O.a,{negative:!0,onClick:function(){return n(Object(N.a)({},t,{logo:""}))}},"L\xf6schen")):l.a.createElement(_,{onDrop:function(e){var a=e[0],l=new FileReader;l.onload=function(e){n(Object(N.a)({},t,{logo:e.target.result}))},l.readAsDataURL(a)}})),l.a.createElement(A.a.Field,{label:"Firmenf\xfchrung",control:k.a,name:"executive",onChange:r,value:t.executive}),l.a.createElement(J.a,null,l.a.createElement("h4",null,"Erste Adresse"),l.a.createElement(A.a.Group,{width:"equal"},l.a.createElement(A.a.Field,{id:"form-input-control-name",control:k.a,label:"Name",name:"name",onChange:i,value:t.firstAddress.name}),l.a.createElement(A.a.Field,{id:"form-input-control-last-name",control:k.a,label:"Anschrift",name:"address",onChange:i,value:t.firstAddress.address})),l.a.createElement(A.a.Group,null,l.a.createElement(A.a.Field,{id:"form-input-control-last-name",control:k.a,label:"PLZ",name:"postCode",onChange:i,value:t.firstAddress.postcode}),l.a.createElement(A.a.Field,{id:"form-input-control-last-name",control:k.a,label:"Stadt",name:"city",onChange:i,value:t.firstAddress.city})),l.a.createElement(A.a.Group,null,l.a.createElement(A.a.Field,{id:"form-input-control-last-name",control:k.a,label:"Telefon",name:"phone",onChange:i,value:t.firstAddress.phone}))),l.a.createElement(J.a,null,l.a.createElement("h4",null,"Zweite Adresse"),l.a.createElement(A.a.Group,{width:"equal"},l.a.createElement(A.a.Field,{id:"form-input-control-name",control:k.a,label:"Name",name:"name",onChange:m,value:t.secondAddress.name}),l.a.createElement(A.a.Field,{id:"form-input-control-last-name",control:k.a,label:"Anschrift",name:"address",onChange:m,value:t.secondAddress.address})),l.a.createElement(A.a.Group,null,l.a.createElement(A.a.Field,{id:"form-input-control-last-name",control:k.a,label:"PLZ",name:"postCode",onChange:m,value:t.secondAddress.postcode}),l.a.createElement(A.a.Field,{id:"form-input-control-last-name",control:k.a,label:"Stadt",name:"city",onChange:m,value:t.secondAddress.city})),l.a.createElement(A.a.Group,null,l.a.createElement(A.a.Field,{id:"form-input-control-last-name",control:k.a,label:"Telefon",name:"phone",onChange:m,value:t.secondAddress.phone}))),l.a.createElement(A.a.Field,{label:"1. Email",control:k.a,name:"firstEmail",onChange:r,value:t.firstEmail}),l.a.createElement(A.a.Field,{label:"2. Email",control:k.a,name:"secondEmail",onChange:r,value:t.secondEmail}),l.a.createElement(A.a.Field,{label:"Steuernummer",control:k.a,name:"taxNumber",onChange:r,value:t.taxNumber}),l.a.createElement(A.a.Field,{label:"Finanzamt",control:k.a,name:"taxOffice",onChange:r,value:t.taxOffice}),l.a.createElement(A.a.Field,{label:"Ust-Nr.",control:k.a,name:"ustNr",onChange:r,value:t.ustNr}),l.a.createElement(J.a,null,l.a.createElement("h4",null,"Bankinformationen"),l.a.createElement(A.a.Field,{label:"Bank",control:k.a,name:"bank",onChange:r,value:t.bank}),l.a.createElement(A.a.Field,{label:"IBAN",control:k.a,name:"iban",onChange:r,value:t.iban}),l.a.createElement(A.a.Field,{label:"BIC",control:k.a,name:"bic",onChange:r,value:t.bic})),l.a.createElement(A.a.Field,null,l.a.createElement(A.a.TextArea,{label:"Standard Freitext",value:t.finalText,onChange:r,name:"finalText"}))))}function ae(e){var a=e.author,t=e.setAuthor,r=Object(n.useState)(a.percent),o=Object(c.a)(r,2),i=o[0],m=o[1],u=function(e,n){var l=n.name,r=n.value;if("percent"===l){if(r=parseFloat(r),isNaN(r))return void m("");r=r.toFixed(2),m(r)}t(Object(N.a)({},a,Object(F.a)({},l,r)))};return l.a.createElement(A.a,null,l.a.createElement(A.a.Group,{width:"equal"},l.a.createElement(A.a.Field,{id:"form-input-control-name",control:k.a,label:"Name",placeholder:"Name",name:"name",onChange:u,value:a.name}),l.a.createElement(A.a.Field,{id:"form-input-control-name",control:k.a,label:"Kontakt",placeholder:"Tel, Email, ...",onChange:u,name:"contact",value:a.contact})),l.a.createElement(A.a.Group,null,l.a.createElement(A.a.Field,{id:"form-input-control-last-name",control:k.a,label:"Prozent",placeholder:"Prozent",name:"percent",icon:"percent",onChange:function(e,a){var t=a.value;return m(t)},onBlur:function(e){u(0,{name:e.target.name,value:e.target.value})},value:i})))}function te(){var e=p(),a=Object(c.a)(e,2),t=a[0],r=a[1],o=Object(n.useState)(),i=Object(c.a)(o,2),m=i[0],u=i[1];return l.a.createElement("div",null,l.a.createElement(O.a,{onClick:function(){return u({authorSceleton:s,id:t.length})},primary:!0},"Neuer Autor"),m&&l.a.createElement(y.a,{onClose:function(){return u()},open:!0},l.a.createElement(y.a.Header,null,"Author"),l.a.createElement(y.a.Content,null,l.a.createElement(ae,{author:m,setAuthor:u})),l.a.createElement(y.a.Actions,null,l.a.createElement(O.a,{onClick:function(){return u()},content:"Abbrechen",negative:!0,icon:"close",labelPosition:"right"}),l.a.createElement(O.a,{onClick:function(e){var a=Object(j.a)(t);a[m.id]=m,r(a),u()},content:"Speichern",primary:!0,icon:"check",labelPosition:"right"}))),l.a.createElement(f.a,{celled:!0},l.a.createElement(f.a.Header,null,l.a.createElement(f.a.Row,null,l.a.createElement(f.a.HeaderCell,null,"Id"),l.a.createElement(f.a.HeaderCell,null,"Name"),l.a.createElement(f.a.HeaderCell,null,"Kontakt"),l.a.createElement(f.a.HeaderCell,null,"Prozent"),l.a.createElement(f.a.HeaderCell,null))),l.a.createElement(f.a.Body,null,t.map((function(e,a){return e&&l.a.createElement(f.a.Row,null,l.a.createElement(f.a.Cell,null,e.id),l.a.createElement(f.a.Cell,null,e.name),l.a.createElement(f.a.Cell,null,e.contact),l.a.createElement(f.a.Cell,null,e.percent," %"),l.a.createElement(f.a.Cell,null,l.a.createElement(O.a,{onClick:function(){return u(e)},icon:"eye"}),l.a.createElement(O.a,{onClick:function(){return function(e){var a=Object(j.a)(t);a[e]=void 0,r(a)}(a)},icon:"delete"})))})))))}function ne(){var e=b(),a=Object(c.a)(e,2),t=a[0];(0,a[1])(t.map((function(e){return Object(N.a)({},e,{authors:[]})})))}var le=function(){return function(e,a){var t=o("version","1"),n=Object(c.a)(t,2),l=n[0],r=n[1];parseInt(l)<a&&e(),r(a)}(ne,2)};function re(){Object(n.useMemo)((function(){le()}))}Object(r.render)(l.a.createElement((function(){return re(),l.a.createElement("div",{className:"invoice-app-container"},l.a.createElement(g.a,null,l.a.createElement(C.a,{panes:[{menuItem:"Rechnungen",render:function(){return l.a.createElement("div",{className:""},l.a.createElement(V,null))}},{menuItem:"Kunden",render:function(){return l.a.createElement("div",{className:""},l.a.createElement(h,null))}},{menuItem:"Artikel",render:function(){return l.a.createElement("div",{className:""},l.a.createElement(S,null))}},{menuItem:"Autoren",render:function(){return l.a.createElement("div",{className:""},l.a.createElement(te,null))}},{menuItem:"Firma",render:function(){return l.a.createElement("div",{className:""},l.a.createElement(ee,null))}}]})))}),null),document.getElementById("root"))}},[[303,1,2]]]);
//# sourceMappingURL=main.24080938.chunk.js.map