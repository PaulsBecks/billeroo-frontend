(this["webpackJsonpreact-4798tj"]=this["webpackJsonpreact-4798tj"]||[]).push([[0],{305:function(e,a,t){e.exports=t(563)},377:function(e,a,t){},412:function(e,a,t){},465:function(e,a,t){},562:function(e,a,t){},563:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(39),c=t(11);function o(e,a){var t=Object(n.useState)((function(){try{var t=window.localStorage.getItem(e);return t?JSON.parse(t):a}catch(n){return console.log(n),a}})),l=Object(c.a)(t,2),r=l[0],o=l[1];return[r,function(a){try{var t=a instanceof Function?a(r):a;o(t),window.localStorage.setItem(e,JSON.stringify(t))}catch(n){console.log(n)}}]}var i={name:"",empty:!0,price:"",isbn:"",amount:1,authors:[]},u={name:"Max Mustermann",invoiceAddress:"<p>brandenburg-buch.de<br/>  Klemm & Klemm Kultur & Buch GbR<br/>  Speyerstra\xdfe 2<br/>  15366 Neuenhagen</p>",shippingAddress:"<p>brandenburg-buch.de \u2022 Klemm & Klemm Kultur & Buch GbR<br/>  Speyerstra\xdfe 2 \u2022 15366 Neuenhagen</p>",discount:0,ust:7},m={invoiceDate:(new Date).toString(),shippingDate:(new Date).toString(),orderDate:(new Date).toString(),invoiceNumber:"",porto:"5.00",finalText:"",articles:[]},s=t(26),d=t.n(s),E={name:"",executive:"",logo:"",aboveClientInvoiceAddress:"<p>Verlag GbR \u2022 Musterstra\xdfe 12 \u2022 10405 Musterstadt</p>",footerText:"<p><b>Gesch\xe4ftsf\xfchrung</b> Max Mustermann<br/>  <b>Bankverbindung</b> Postbank \u2022 IBAN DE 00 0000 0000 0000 00 \u2022 BIC ABCDEFGHIJKL<br/>  <b>Steuernummer</b> 000/000/00000 | <b>USt-IdNr.</b> DE000000000</p>",invoiceText:"<p>Zahlen Sie bitte den Rechnungsbetrag bis zum <Datum> unter Angabe der Rechnungsnummerauf unten stehendes Konto.<br/>Die gelieferte Ware bleibt bis zur vollst\xe4ndigen Bezahlung Eigentum des Verlages.<br/>Vielen Dank f\xfcr Ihre Bestellung.</p><p>Mit herzlichen Gr\xfc\xdfen.<br/>Musterstadt, den <Datum></p>",subjectAndBelow:"<h3>Rechnung</h3>  <p><br></p>  <p>wir erlauben uns, in Rechnung zu stellen:</p>",contactInformation:"<p>Buch- und Zeitschriftenverlag GbR<br>  Max Mustermann</p>  <p>Hauptsitz<br>  Musterstra\xdfe 12<br>  10405 Musterstadt<br>  Telefon 000 / 00 00 00</p>  <p>B\xfcro Musterstadt<br>  Musterstra\xdfe 19<br>  10409 Musterstadt<br>  Telefon 030 / 00 00 00 00</p>  <p>info@muster-email.de<br>  www.musterdomain.de</p>  <p>Steuernummer 000/000/00000<br>  Finanzamt Musterstadt</p>"},b={name:"",contact:"",books:[]};function v(){return o("company",E)}function p(){return o("invoices",[])}function f(){return o("articles",[])}function g(){return o("authors",[])}function h(){return o("customers",[])}var C=t(582),y=function(){var e=o("customers",[]),a=Object(c.a)(e,1)[0];return l.a.createElement(C.a,{celled:!0},l.a.createElement(C.a.Header,null,l.a.createElement(C.a.Row,null,l.a.createElement(C.a.HeaderCell,null,"Name"),l.a.createElement(C.a.HeaderCell,null,"Adresse"),l.a.createElement(C.a.HeaderCell,null,"PLZ"),l.a.createElement(C.a.HeaderCell,null,"Stadt"),l.a.createElement(C.a.HeaderCell,null,"Rabatt"),l.a.createElement(C.a.HeaderCell,null,"MwST"))),l.a.createElement(C.a.Body,null,a.map((function(e){return l.a.createElement(C.a.Row,null,l.a.createElement(C.a.Cell,null,e.name),l.a.createElement(C.a.Cell,null,e.address),l.a.createElement(C.a.Cell,null,e.postCode),l.a.createElement(C.a.Cell,null,e.city),l.a.createElement(C.a.Cell,null,e.discount),l.a.createElement(C.a.Cell,null,e.ust))}))))},j=(t(377),t(580)),O=t(19),N=t(29),F=t(567),S=t(578),I=t(21),A=t(579),H=t(576),k=t(95);function B(e){var a=e.article,t=e.setArticle,r=Object(n.useState)(a.price),o=Object(c.a)(r,2),i=o[0],u=o[1],m=Object(n.useState)(""),s=Object(c.a)(m,2),d=s[0],E=s[1],b=g(),v=Object(c.a)(b,1)[0],p=Object(n.useMemo)((function(){return v.filter((function(e){return e&&e.name.includes(d)}))}),[v,d]);var f=function(e,n){var l=n.name,r=n.value;if("price"===l){if(r=parseFloat(r),isNaN(r))return void u("");r=r.toFixed(2),u(r)}t(Object(O.a)({},a,Object(I.a)({},l,r)))};return l.a.createElement(A.a,null,l.a.createElement(A.a.Group,{width:"equal"},l.a.createElement(A.a.Field,{id:"form-input-control-name",control:H.a,label:"Name",placeholder:"Name",name:"name",onChange:f,value:a.name}),l.a.createElement(A.a.Field,{id:"form-input-control-name",control:H.a,label:"Lagerbestand",placeholder:"Menge",type:"number",onChange:f,name:"amount",value:a.amount})),l.a.createElement(A.a.Group,null,l.a.createElement(A.a.Field,{id:"form-input-control-last-name",control:H.a,label:"ISBN",placeholder:"ISBN",name:"isbn",onChange:f,value:a.isbn}),l.a.createElement(A.a.Field,{id:"form-input-control-last-name",control:H.a,label:"Preis",placeholder:"Preis",name:"price",icon:"euro sign",onChange:function(e,a){var t=a.value;return u(t)},onBlur:function(e){f(0,{name:e.target.name,value:e.target.value})},value:i})),l.a.createElement("div",null,l.a.createElement("label",null,l.a.createElement("b",null,"Autoren")),l.a.createElement("div",null,a.authors.map((function(e){return l.a.createElement(k.a,null,e.name)}))),l.a.createElement(H.a,{name:"author",placeholder:"Suche...",value:d,onChange:function(e,a){var t=a.value;return E(t)}}),""!==d&&l.a.createElement("div",null,p.map((function(e){return l.a.createElement(k.a,{onClick:function(){return n=e,void t(Object(O.a)({},a,{authors:[].concat(Object(N.a)(a.authors),[n])}));var n}},e.name)})))))}t(412);function D(e){var a=new Date(e),t=a.getDate(),n=a.getMonth()+1;return l.a.createElement("span",{dangerouslySetInnerHTML:{__html:"".concat(t<10?"0"+t:t,".&#8202;").concat(n<10?"0"+n:n,".&#8202;").concat(a.getFullYear())}})}var M=function(){var e=f(),a=Object(c.a)(e,2),t=a[0],r=a[1],o=Object(n.useState)(),u=Object(c.a)(o,2),m=u[0],s=u[1],d=Object(n.useState)(),E=Object(c.a)(d,2),b=E[0],v=E[1],g=p(),h=Object(c.a)(g,1)[0],y=Object(n.useMemo)((function(){return b?h.reduce((function(e,a){for(var t in a.articles){var n=a.articles[t];if(n.id===b.id)return[].concat(Object(N.a)(e),[Object(O.a)({},a,{article:n})])}return e}),[]):null}),[h,b]);return l.a.createElement("div",{className:"articles-tab-container"},l.a.createElement(F.a,{onClick:function(){return s(Object(O.a)({},i,{id:t.length}))},primary:!0},"Neuer Artikel"),m&&l.a.createElement(S.a,{onClose:function(){return s()},open:!0},l.a.createElement(S.a.Header,null,"Edit Article"),l.a.createElement(S.a.Content,null,l.a.createElement(B,{article:m,setArticle:s})),l.a.createElement(S.a.Actions,null,l.a.createElement(F.a,{onClick:function(){return s()},content:"Abbrechen",negative:!0,icon:"close",labelPosition:"right"}),l.a.createElement(F.a,{onClick:function(){var e=Object(N.a)(t);e[m.id]=m,r(e),s()},content:"Speichern",primary:!0,icon:"check",labelPosition:"right"}))),b&&l.a.createElement(S.a,{onClose:function(){return v()},open:!0},l.a.createElement(S.a.Header,null,"Rechnungen"),l.a.createElement(S.a.Content,null,l.a.createElement(C.a,null,l.a.createElement(C.a.Header,null,l.a.createElement(C.a.Row,null,l.a.createElement(C.a.HeaderCell,null,"Rechnungsnummer"),l.a.createElement(C.a.HeaderCell,null,"Kunde"),l.a.createElement(C.a.HeaderCell,null,"Verkaufte Exemplare"),l.a.createElement(C.a.HeaderCell,null,"Umsatz"),l.a.createElement(C.a.HeaderCell,null,"Zahlungsdatum"))),l.a.createElement(C.a.Body,null,y.map((function(e){return l.a.createElement(C.a.Row,null,l.a.createElement(C.a.Cell,null,e.invoiceNumber),l.a.createElement(C.a.Cell,null,e.customer.name),l.a.createElement(C.a.Cell,null,e.article.amount),l.a.createElement(C.a.Cell,null,e.article.price),l.a.createElement(C.a.Cell,null,D(e.paymentDate)))})))))),l.a.createElement(C.a,{celled:!0},l.a.createElement(C.a.Header,null,l.a.createElement(C.a.Row,null,l.a.createElement(C.a.HeaderCell,null,"Id"),l.a.createElement(C.a.HeaderCell,null,"Name"),l.a.createElement(C.a.HeaderCell,null,"ISBN"),l.a.createElement(C.a.HeaderCell,null,"Menge"),l.a.createElement(C.a.HeaderCell,null,"Preis"),l.a.createElement(C.a.HeaderCell,null,"Autoren"),l.a.createElement(C.a.HeaderCell,null))),l.a.createElement(C.a.Body,null,t.map((function(e,a){return e&&l.a.createElement(C.a.Row,null,l.a.createElement(C.a.Cell,null,e.id),l.a.createElement(C.a.Cell,null,e.name),l.a.createElement(C.a.Cell,null,e.isbn),l.a.createElement(C.a.Cell,null,e.amount),l.a.createElement(C.a.Cell,null,e.price),l.a.createElement(C.a.Cell,null,e.authors.map((function(e){return l.a.createElement("p",null,e.name)}))),l.a.createElement(C.a.Cell,null,l.a.createElement(F.a,{onClick:function(){return s(e)},icon:"edit"}),l.a.createElement(F.a,{onClick:function(){return v(e)},icon:"list"}),l.a.createElement(F.a,{onClick:function(){return function(e){var a=Object(N.a)(t);a[e]=void 0,r(a)}(a)},icon:"delete"})))})))))},w=t(64),x=t(577),R=t(583),P=t(581),T=t(575),z=t(96),K=t.n(z);t(464),t(465);function G(e){var a=e.customer,t=e.setCustomer,r=Object(n.useState)(d.a.createValueFromString(a.invoiceAddress,"html")),o=Object(c.a)(r,2),i=o[0],u=o[1],m=Object(n.useState)(d.a.createValueFromString(a.shippingAddress,"html")),s=Object(c.a)(m,2),E=s[0],b=s[1];Object(n.useEffect)((function(){u(d.a.createValueFromString(a.invoiceAddress,"html")),b(d.a.createValueFromString(a.shippingAddress,"html"))}),[a]);var v=function(e,n){var l=n.name,r=n.value;("ust"!==l&&"discount"!==l||(r=parseFloat(r),!isNaN(r)))&&t(Object(O.a)({},a,Object(I.a)({},l,r)))},p=function(e,n){t(Object(O.a)({},a,Object(I.a)({},e,n.toString("html"))))};return l.a.createElement(A.a,null,l.a.createElement(A.a.Group,null,l.a.createElement(A.a.Field,{control:H.a,label:"Name",value:a.name,name:"name",onChange:v})),l.a.createElement(A.a.Field,{control:d.a,label:"Rechnungsadresse",onChange:u,value:i,onBlur:function(){p("invoiceAddress",i)}}),l.a.createElement(A.a.Field,{control:d.a,label:"Lieferadress",onChange:b,value:E,onBlur:function(){p("shippingAddress",E)}}),l.a.createElement(A.a.Group,null,l.a.createElement(A.a.Field,{id:"form-input-control-last-name",control:H.a,label:"MwST",placeholder:"7",name:"ust",icon:"percent",onChange:v,value:a.ust}),l.a.createElement(A.a.Field,{id:"form-input-control-last-name",control:H.a,label:"Rabat",placeholder:"0",icon:"percent",name:"discount",onChange:v,value:a.discount})))}var V=t(192),L=t(191),_={flex:1,display:"flex",flexDirection:"column",alignItems:"center",padding:"20px",borderWidth:2,borderRadius:2,borderColor:"#eeeeee",borderStyle:"dashed",backgroundColor:"#fafafa",color:"#bdbdbd",outline:"none",transition:"border .24s ease-in-out"},Z={borderColor:"#2196f3"},J={borderColor:"#00e676"},q={borderColor:"#ff1744"};function U(e){var a=e.onDrop,t=Object(L.b)({accept:"image/*"}),r=t.isDragActive,c=t.isDragAccept,o=t.isDragReject,i=Object(n.useMemo)((function(){return Object(O.a)({},_,{},r?Z:{},{},c?J:{},{},o?q:{})}),[r,o,c]);return l.a.createElement(L.a,{onDrop:a},(function(e){var a=e.getRootProps,t=e.getInputProps;return l.a.createElement("div",{className:"container"},l.a.createElement("div",a({style:i,onDrop:function(e){return e.stopPropagation()}}),l.a.createElement("input",t()),l.a.createElement("p",null,"Drag 'n' drop some files here, or click to select files")))}))}function W(e){var a=e.company,t=e.setCompany,r=Object(n.useState)(d.a.createValueFromString(a.footerText,"html")),o=Object(c.a)(r,2),i=o[0],u=o[1],m=Object(n.useState)(d.a.createValueFromString(a.subjectAndBelow,"html")),s=Object(c.a)(m,2),E=s[0],b=s[1],v=Object(n.useState)(d.a.createValueFromString(a.invoiceText,"html")),p=Object(c.a)(v,2),f=p[0],g=p[1],h=Object(n.useState)(d.a.createValueFromString(a.contactInformation,"html")),C=Object(c.a)(h,2),y=C[0],j=C[1],N=Object(n.useState)(d.a.createValueFromString(a.aboveClientInvoiceAddress,"html")),S=Object(c.a)(N,2),k=S[0],B=S[1],D=function(e,n){t(Object(O.a)({},a,Object(I.a)({},e,n.toString("html"))))},M=function(e,n){var l=n.name,r=n.value;t(Object(O.a)({},a,Object(I.a)({},l,r)))};return l.a.createElement(A.a,null,l.a.createElement(A.a.Field,{label:"Firmename",control:H.a,name:"name",onChange:M,value:a.name}),l.a.createElement(V.a,null,l.a.createElement("h4",null,"Logo"),""!==a.logo?l.a.createElement("div",null,l.a.createElement("img",{src:a.logo,alt:"company logo"}),l.a.createElement(F.a,{negative:!0,onClick:function(){return t(Object(O.a)({},a,{logo:""}))}},"L\xf6schen")):l.a.createElement(U,{onDrop:function(e){var n=e[0],l=new FileReader;l.onload=function(e){t(Object(O.a)({},a,{logo:e.target.result}))},l.readAsDataURL(n)}})),l.a.createElement(A.a.Field,{label:"Firmenf\xfchrung",control:H.a,name:"executive",onChange:M,value:a.executive}),l.a.createElement(A.a.Field,{control:d.a,value:k,onChange:B,onBlur:function(){D("aboveClientInvoiceAddress",k)},label:"Absender",name:"aboveClientInvoiceAddress"}),l.a.createElement(A.a.Field,{control:d.a,value:y,onChange:j,onBlur:function(){D("contactInformation",y)},label:"Kontakt Informationen",name:"contactInformation"}),l.a.createElement(A.a.Field,{control:d.a,value:E,onChange:b,onBlur:function(){D("subjectAndBelow",E)},label:"Betreff und Begr\xfc\xdfung",name:"subjectAndBelow"}),l.a.createElement(A.a.Field,{control:d.a,value:f,onChange:g,onBlur:function(){D("invoiceText",f)},label:"Rechnungstext",name:"invoiceText"}),l.a.createElement(A.a.Field,{control:d.a,value:i,onChange:function(e){u(e)},onBlur:function(){D("footerText",i)},label:"Fu\xdfzeile",name:"footerText"}),l.a.createElement(A.a.Field,{label:"Farbe",control:H.a,placeholder:"z.B. #ffffff oder rgb(120,0,0)",name:"companyColor",onChange:M,value:a.color}))}var Y=function(e){var a=e.invoice,t=e.setInvoice,r=e.setInvoices,m=h(),s=Object(c.a)(m,2),d=s[0],E=s[1],b=v(),f=Object(c.a)(b,2),g=f[0],C=f[1],y=Object(n.useState)(d[a.customer.id]||a.customer),k=Object(c.a)(y,2),D=k[0],M=k[1],w=o("articles",[]),z=Object(c.a)(w,2),V=z[0],L=z[1],_=Object(n.useState)(a.articles),Z=Object(c.a)(_,2),J=Z[0],q=Z[1],U=Object(n.useState)(Object(O.a)({},i,{id:V.length})),Y=Object(c.a)(U,2),Q=Y[0],X=Y[1],$=Object(n.useState)(1),ee=Object(c.a)($,2),ae=ee[0],te=ee[1],ne=Object(n.useState)(1),le=Object(c.a)(ne,2),re=le[0],ce=le[1],oe=Object(n.useState)(void 0),ie=Object(c.a)(oe,2),ue=ie[0],me=ie[1],se=p(),de=Object(c.a)(se,1)[0],Ee=Object(n.useState)(a.porto),be=Object(c.a)(Ee,2),ve=be[0],pe=be[1];Object(n.useEffect)((function(){t(Object(O.a)({},a,{customer:D,articles:J.map((function(e){return Object(O.a)({},V[e.articleId],{},e)})),company:g}))}),[D,J,g]);var fe=function(e,n){var l=n.name,r=n.value,c=n.checked;if("porto"===l){if(r=parseFloat(r),isNaN(r))return void pe("");r=r.toFixed(2),pe(r)}"payed"===l&&(r=c),t(Object(O.a)({},a,Object(I.a)({},l,r)))},ge=function(){return me(!ue)},he=function(e,a){var t=Object(N.a)(V),n=t[e];t[e]=Object(O.a)({},n,{amount:parseFloat(n.amount)+a}),L(t)},Ce=function(){L([].concat(Object(N.a)(V),[Q])),ge()},ye=function(e,n){t(Object(O.a)({},a,Object(I.a)({},n,e.toString())))},je=Object(n.useMemo)((function(){return[{key:d.length,value:d.length,text:"Neuer Kunde"}].concat(d.map((function(e){return{key:e.id,text:e.name,value:e.id}})))}),[d,D]),Oe=Object(n.useMemo)((function(){return[{key:V.length,value:V.length,text:""}].concat(V.map((function(e){return{key:e.id,value:e.id,text:e.name}})))}),[V]),Ne=function(e,a){var t=a.value;t<d.length?M(d[t]):M(Object(O.a)({},u,{id:d.length}))},Fe=function(e,a,t){if(e>=J.length){if(t>=V.length)return;q([].concat(Object(N.a)(J),[{toBeSend:re,toBePayed:ae,articleId:t}])),ce(1),te(1)}else{if("articleId"===a&&t>=V.length)return void q(J.filter((function(a,t){return t!==e})));var n=Object(N.a)(J);n[e][a]=t,q(n)}};return l.a.createElement("div",{className:"invoice-form"},l.a.createElement(x.a,null,l.a.createElement(R.a,{fluid:!0},l.a.createElement(R.a.Content,null,l.a.createElement(R.a.Header,null,"Rechnungsdaten")),l.a.createElement(R.a.Content,null,l.a.createElement(j.a,{panes:[{menuItem:"Kunde",render:function(){return l.a.createElement("div",{className:""},l.a.createElement(A.a,null,l.a.createElement(A.a.Field,{label:"Kunden",control:P.a,search:!0,selection:!0,options:je,value:D.id,onChange:Ne})),l.a.createElement(G,{customer:D,setCustomer:M}))}},{menuItem:"Artikel",render:function(){return l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement(A.a,null,J.map((function(e,a){return l.a.createElement("div",null,l.a.createElement(A.a.Group,{widths:"equal"},l.a.createElement(A.a.Input,{fluid:!0,name:"toBeSend",type:"number",label:"Zu Senden",value:e.toBeSend,onChange:function(e,t){var n=t.value,l=t.name;return Fe(a,l,n)}}),l.a.createElement(A.a.Input,{fluid:!0,name:"toBePayed",type:"number",label:"Zu Bezahlen",value:e.toBePayed,onChange:function(e,t){var n=t.value,l=t.name;return Fe(a,l,n)}}),l.a.createElement(A.a.Field,{control:P.a,fluid:!0,label:"Artikel",name:"articleId",search:!0,selection:!0,options:Oe,value:e.articleId,onChange:function(e,t){var n=t.value,l=t.name;return Fe(a,l,n)}})))})),l.a.createElement(A.a.Group,{widths:"equal"},l.a.createElement(A.a.Input,{fluid:!0,name:"amount",type:"number",label:"Erhalten",value:re,onChange:function(e,a){var t=a.value;return ce(t)}}),l.a.createElement(A.a.Input,{fluid:!0,name:"amountPayed",type:"number",label:"Zu Bezahlen",value:ae,onChange:function(e,a){var t=a.value;return te(t)}}),l.a.createElement(A.a.Field,{control:P.a,fluid:!0,label:"Artikel",name:"articleId",search:!0,selection:!0,options:Oe,value:Q.id,onChange:function(e,a){var t=a.value;return Fe(J.length,"articleId",t)}}))),l.a.createElement(F.a,{onClick:ge},"Neuen Artikel Anlegen")),l.a.createElement(S.a,{open:ue,onClose:ge},l.a.createElement(S.a.Header,null,"Neuer Artikel"),l.a.createElement(S.a.Content,null,l.a.createElement(B,{article:Q,setArticle:X})),l.a.createElement(S.a.Actions,null,l.a.createElement(F.a,{onClick:ge,content:"Abbrechen",negative:!0,icon:"close",labelPosition:"right"}),l.a.createElement(F.a,{onClick:Ce,content:"Anlegen",primary:!0,icon:"check",labelPosition:"right"}))))}},{menuItem:"Allgemein",render:function(){return l.a.createElement("div",null,l.a.createElement(A.a,null,l.a.createElement(A.a.Field,{label:"Rechnungsdatum",name:"invoiceDate",selected:new Date(a.invoiceDate),onChange:function(e){return ye(e,"invoiceDate")},control:K.a,dateFormat:"dd/MM/yyyy"}),l.a.createElement(A.a.Field,{label:"Bestelldatum",name:"orderDate",selected:new Date(a.orderDate),onChange:function(e){return ye(e,"orderDate")},control:K.a,dateFormat:"dd/MM/yyyy"}),l.a.createElement(A.a.Field,{label:"Versanddatum",name:"shippingDate",selected:new Date(a.shippingDate),onChange:function(e){return ye(e,"shippingDate")},control:K.a,dateFormat:"dd/MM/yyyy"}),l.a.createElement(A.a.Field,{label:"Porto",value:ve,name:"porto",onChange:function(e,a){var t=a.value;return pe(t)},control:H.a,onBlur:function(e){return fe(0,{name:e.target.name,value:e.target.value})},icon:"euro"}),l.a.createElement(A.a.Field,{label:"Rechnungsnummer",name:"invoiceNumber",value:a.invoiceNumber,onChange:fe,control:H.a}),l.a.createElement(A.a.Field,null,l.a.createElement("label",null,"Bezahlt"),l.a.createElement(T.a,{onChange:function(e,n){var l,r,c=n.name,o=n.checked;o?t(Object(O.a)({},a,(l={},Object(I.a)(l,c,o),Object(I.a)(l,"paymentDate",new Date),l))):t(Object(O.a)({},a,(r={},Object(I.a)(r,c,o),Object(I.a)(r,"paymentDate",void 0),r)))},name:"payed",checked:a.payed,toggle:!0})),a.payed&&l.a.createElement(A.a.Field,{label:"Zahlungseingangsdatum",name:"paymentDate",selected:new Date(a.paymentDate),onChange:function(e){return ye(e,"paymentDate")},control:K.a,dateFormat:"dd/MM/yyyy"})))}},{menuItem:"Firma",render:function(){return l.a.createElement(W,{company:g,setCompany:C})}}]}))),l.a.createElement(F.a,{onClick:function(){return t()},content:"Abbrechen",negative:!0,icon:"close",labelPosition:"right"}),a.customer&&l.a.createElement(F.a,{onClick:function(){var e=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(e)for(var t in e.articles)he(e.articles[t].id,a*e.articles[t].amount)};a.totalPrice=function(e){return e.articles.map((function(a){var t=a.price*a.toBePayed;return t-t*(e.customer.discount/100)})).reduce((function(e,a){return a+e}),0)}(a);var n=Object(N.a)(de);e(de[a.id]),n[a.id]=a,e(n[a.id],-1),r(n),t();var l=Object(N.a)(d);l[D.id]=D,E(l)},content:"Speichern",primary:!0,icon:"check",labelPosition:"right"})))},Q=t(292),X=t.n(Q),$=t(190),ee=t.n($),ae=function(e){var a=e.id,t=(e.label,e.fileName);return l.a.createElement("div",{className:"tc mb4 mt2"},l.a.createElement("div",{id:"myMm",style:{height:"1mm"}}),l.a.createElement(F.a,{primary:!0,onClick:function(){var e,n,l,r,c=document.getElementById(a),o=(e=c.offsetHeight,Math.floor(e/document.getElementById("myMm").offsetHeight)),i=(n=297,document.getElementById("myMm").offsetHeight*n),u=o<=297?1:Math.floor(o/297)+1;console.log({input:c,inputHeightMm:o,a4HeightMm:297,a4HeightPx:i,numPages:u,range:(l=0,r=u,Array(r-l).join(0).split(0).map((function(e,a){return a+l}))),comp:o<=297,inputHeightPx:c.offsetHeight}),X()(c,{scale:2}).then((function(e){var a,n=e.toDataURL("image/png",1);console.log(n),(a=o>297?new ee.a("p","mm",[o+16,210]):new ee.a).addImage(n,"PNG",0,0,210,297),a.save("".concat(t,".pdf"))}))}},"Rechnung Drucken"))},te=function(e){var a=e.children,t=e.singleMode,n=e.id;return l.a.createElement("div",{id:n,className:"bg-white shadow-1 center",style:{width:"210mm",height:t?"297mm":""}},a)},ne=(t(562),function(e){var a=e.id,t=e.invoice,n=t.orderDate,r=t.invoiceDate,c=t.shippingDate,o=t.invoiceNumber,i=t.porto,u=t.customer,m=t.articles,s=void 0===m?[]:m,d=t.company,E=(e.invoice,e.setInvoice,s.map((function(e){var a=e.price*e.toBePayed;return(a-a*(u.discount/100))/(1+u.ust/100)})).reduce((function(e,a){return parseFloat(a)+e}),0));return u?l.a.createElement(te,{singleMode:!0,id:a},l.a.createElement("div",{className:"invoice-folding-line",style:d.companyColor?{borderColor:d.companyColor}:{}}),l.a.createElement("div",{className:"invoice-page-pdf"},l.a.createElement("div",{className:"invoice-page-top"},l.a.createElement("img",{className:"invoice-header-company-logo",src:d.logo,alt:"company logo"}),l.a.createElement("div",{className:"invoice-header"},l.a.createElement("div",{className:"invoice-header-customer-address"},l.a.createElement("div",{className:"invoice-header-customer-company",dangerouslySetInnerHTML:{__html:d.aboveClientInvoiceAddress}}),u?l.a.createElement("div",{className:"invoice-header-customer-info",dangerouslySetInnerHTML:{__html:u.invoiceAddress}}):l.a.createElement(F.a,null,"Kunde hinzuf\xfcgen")),l.a.createElement("div",{className:"invoice-header-company-info",dangerouslySetInnerHTML:{__html:d.contactInformation}}))),l.a.createElement("div",{className:"invoice-body"},l.a.createElement("div",{className:"invoice-body-top"},l.a.createElement("div",{className:"invoice-subject"},l.a.createElement("div",{className:"invoice-subject-and-below",dangerouslySetInnerHTML:{__html:d.subjectAndBelow}}),l.a.createElement("div",{className:"invoice-body-subject-key-values"},l.a.createElement("div",{className:"invoice-body-subject-keys"},l.a.createElement("div",{className:"invoice-body-order-date"},l.a.createElement("p",null,l.a.createElement("b",null,"Bestelldatum:"))),l.a.createElement("div",{className:"invoice-body-send-date"},l.a.createElement("p",null,l.a.createElement("b",null,"Versanddatum:"))),l.a.createElement("div",{className:"invoice-body-send-to"},l.a.createElement("p",null,l.a.createElement("b",null,"Versand an:")))),l.a.createElement("div",{className:"invoice-body-subject-values"},l.a.createElement("div",{className:"invoice-body-order-date"},l.a.createElement("p",null,l.a.createElement("b",null,D(n)))),l.a.createElement("div",{className:"invoice-body-send-date"},l.a.createElement("p",null,l.a.createElement("b",null,D(c)))),u&&l.a.createElement("div",{className:"invoice-body-send-to",dangerouslySetInnerHTML:{__html:u.shippingAddress}})))),l.a.createElement("div",{className:"invoice-body-top-right"},l.a.createElement("div",{className:"invoice-body-invoice-date"},l.a.createElement("p",null,"Rechnungsdatum: ",l.a.createElement("b",null,D(r)))),l.a.createElement("div",{className:"invoice-body-invoice-nr"},l.a.createElement("p",null,"Rechnungsnummer: ",l.a.createElement("b",null,o))),l.a.createElement("div",{className:"invoice-body-invoice-hint"},l.a.createElement("p",null,"(Bitte bei Zahlung angeben)")))),l.a.createElement("div",{className:"invoice-body-bottom"},l.a.createElement("div",{className:"invoice-body-article-wrapper"},s.map((function(e){var a=e.toBePayed,t=e.toBeSend,n=e.price,r=e.name,c=e.isbn,o=parseInt(a)>1,i=n*a,m=i-i*(u.discount/100),d=m/(1+u.ust/100);return l.a.createElement("div",{className:"invoice-body-article"},l.a.createElement("div",{className:"invoice-body-article-left"},l.a.createElement("div",{className:"invoice-body-article-description"},l.a.createElement("div",null,l.a.createElement("b",null,a!==t&&t+"/",a," Exemplar",o&&"e")),l.a.createElement("div",{className:"invoice-body-article-title"},l.a.createElement("b",null,"\u201e",r,"\u201c")),l.a.createElement("div",{className:"invoice-body-article-title"},c)),l.a.createElement("div",{className:"invoice-body-artivle-price-calc"},"Preis ".concat(o?"je":""," ").concat(n," \u20ac").concat(o?" = ".concat(i.toFixed(2),"\u20ac"):"").concat(u.discount>0?", abz\xfcglich ".concat(u.discount," % Rabatt = ").concat(m.toFixed(2)," \u20ac"):""," (beinhaltet ").concat(u.ust," % MwST = ").concat((m-d).toFixed(2),")"))),l.a.createElement("div",{className:"invoice-body-article-price"},l.a.createElement("b",null,s.length>1&&"".concat(d.toFixed(2)," \u20ac"))))}))),l.a.createElement("div",{className:"invoice-body-price-calculation"},l.a.createElement("div",null,l.a.createElement("p",null,"Netto"),l.a.createElement("p",null,l.a.createElement("b",null,E.toFixed(2)," \u20ac"))),l.a.createElement("div",null,l.a.createElement("p",null,"Versandkosten"),l.a.createElement("p",null,l.a.createElement("b",null,i," \u20ac"))),l.a.createElement("div",null,l.a.createElement("p",null,"+".concat(u.ust,"% Mehrwertsteuer")),l.a.createElement("p",null,l.a.createElement("b",null,((E+parseFloat(i))*parseFloat(u.ust)/100).toFixed(2)," ","\u20ac")))),l.a.createElement("div",{className:"invoice-body-price"},l.a.createElement("p",null,"Rechnungsbetrag"),l.a.createElement("p",null,l.a.createElement("b",null,((E+parseFloat(i))*(1+parseFloat(u.ust)/100)).toFixed(2)," ","\u20ac"))),l.a.createElement("div",null,l.a.createElement("p",{className:"invoice-body-final-text",dangerouslySetInnerHTML:{__html:d.invoiceText}})))),l.a.createElement("div",{className:"invoice-footer",style:d.companyColor?{borderColor:d.companyColor}:{},dangerouslySetInnerHTML:{__html:d.footerText}}))):null}),le=function(e){var a=e.invoice,t=e.setInvoice,n=e.setInvoices;return l.a.createElement("div",{className:"invoice-page"},l.a.createElement("div",{className:"invoice-form-wrapper"},l.a.createElement(Y,{invoice:a,setInvoice:t,setInvoices:n})),l.a.createElement("div",{className:"invoice-page-wrapper"},l.a.createElement(ae,{id:"singlePage",label:"Rechnung Drucken",fileName:a.invoiceNumber}),l.a.createElement(ne,{id:"singlePage",invoice:a,setInvoice:t})))},re=function(){var e=p(),a=Object(c.a)(e,2),t=a[0],r=a[1],o=Object(n.useState)(),i=Object(c.a)(o,2),s=i[0],d=i[1],E=v(),b=Object(c.a)(E,1)[0],f=h(),g=Object(c.a)(f,1)[0];return s?l.a.createElement(le,{invoice:s,setInvoice:d,setInvoices:r}):l.a.createElement("div",{className:"invoice-tab-container"},l.a.createElement(F.a,{onClick:function(){return d(Object(O.a)({},m,{id:t.length,customer:Object(O.a)({},u,{id:g.length}),company:b}))},primary:!0},"Neue Rechnung"),l.a.createElement(C.a,{celled:!0},l.a.createElement(C.a.Header,null,l.a.createElement(C.a.Row,null,l.a.createElement(C.a.HeaderCell,null,"Rechnungsnummer"),l.a.createElement(C.a.HeaderCell,null,"Rechnungsdatum"),l.a.createElement(C.a.HeaderCell,null,"Kunde"),l.a.createElement(C.a.HeaderCell,null,"Artikel"),l.a.createElement(C.a.HeaderCell,null,"Gesamtpreis"),l.a.createElement(C.a.HeaderCell,null,"Zahlungseingang"),l.a.createElement(C.a.HeaderCell,null))),l.a.createElement(C.a.Body,null,t.map((function(e){return l.a.createElement(C.a.Row,null,l.a.createElement(C.a.Cell,null,e.invoiceNumber),l.a.createElement(C.a.Cell,null,D(e.invoiceDate)),l.a.createElement(C.a.Cell,null,e.customer.name),l.a.createElement(C.a.Cell,null,e.articles.map((function(e){return l.a.createElement("p",null,e.name)}))),l.a.createElement(C.a.Cell,null,e.totalPrice.toFixed(2),"\u20ac"),l.a.createElement(C.a.Cell,null,e.paymentDate?D(e.paymentDate):"Ausstehend"),l.a.createElement(C.a.Cell,null,l.a.createElement(F.a,{icon:!0,onClick:function(){return d(e)}},l.a.createElement(w.a,{name:"eye"}))))})))))};function ce(){var e=v(),a=Object(c.a)(e,2),t=a[0],n=a[1];return l.a.createElement("div",null,l.a.createElement(W,{company:t,setCompany:n}))}function oe(e){var a=e.author,t=e.setAuthor,r=Object(n.useState)(a.percent),o=Object(c.a)(r,2),i=o[0],u=o[1],m=function(e,n){var l=n.name,r=n.value;if("percent"===l){if(r=parseFloat(r),isNaN(r))return void u("");r=r.toFixed(2),u(r)}t(Object(O.a)({},a,Object(I.a)({},l,r)))};return l.a.createElement(A.a,null,l.a.createElement(A.a.Group,{width:"equal"},l.a.createElement(A.a.Field,{id:"form-input-control-name",control:H.a,label:"Name",placeholder:"Name",name:"name",onChange:m,value:a.name}),l.a.createElement(A.a.Field,{id:"form-input-control-name",control:H.a,label:"Kontakt",placeholder:"Tel, Email, ...",onChange:m,name:"contact",value:a.contact})),l.a.createElement(A.a.Group,null,l.a.createElement(A.a.Field,{id:"form-input-control-last-name",control:H.a,label:"Prozent",placeholder:"Prozent",name:"percent",icon:"percent",onChange:function(e,a){var t=a.value;return u(t)},onBlur:function(e){m(0,{name:e.target.name,value:e.target.value})},value:i})))}function ie(){var e=g(),a=Object(c.a)(e,2),t=a[0],r=a[1],o=Object(n.useState)(),i=Object(c.a)(o,2),u=i[0],m=i[1];return l.a.createElement("div",null,l.a.createElement(F.a,{onClick:function(){return m({authorSceleton:b,id:t.length})},primary:!0},"Neuer Autor"),u&&l.a.createElement(S.a,{onClose:function(){return m()},open:!0},l.a.createElement(S.a.Header,null,"Author"),l.a.createElement(S.a.Content,null,l.a.createElement(oe,{author:u,setAuthor:m})),l.a.createElement(S.a.Actions,null,l.a.createElement(F.a,{onClick:function(){return m()},content:"Abbrechen",negative:!0,icon:"close",labelPosition:"right"}),l.a.createElement(F.a,{onClick:function(e){var a=Object(N.a)(t);a[u.id]=u,r(a),m()},content:"Speichern",primary:!0,icon:"check",labelPosition:"right"}))),l.a.createElement(C.a,{celled:!0},l.a.createElement(C.a.Header,null,l.a.createElement(C.a.Row,null,l.a.createElement(C.a.HeaderCell,null,"Id"),l.a.createElement(C.a.HeaderCell,null,"Name"),l.a.createElement(C.a.HeaderCell,null,"Kontakt"),l.a.createElement(C.a.HeaderCell,null,"Prozent"),l.a.createElement(C.a.HeaderCell,null))),l.a.createElement(C.a.Body,null,t.map((function(e,a){return e&&l.a.createElement(C.a.Row,null,l.a.createElement(C.a.Cell,null,e.id),l.a.createElement(C.a.Cell,null,e.name),l.a.createElement(C.a.Cell,null,e.contact),l.a.createElement(C.a.Cell,null,e.percent," %"),l.a.createElement(C.a.Cell,null,l.a.createElement(F.a,{onClick:function(){return m(e)},icon:"eye"}),l.a.createElement(F.a,{onClick:function(){return function(e){var a=Object(N.a)(t);a[e]=void 0,r(a)}(a)},icon:"delete"})))})))))}function ue(){var e=f(),a=Object(c.a)(e,2),t=a[0];(0,a[1])(t.map((function(e){return Object(O.a)({},e,{authors:[]})})))}var me=function(){return function(e,a){var t=o("version","1"),n=Object(c.a)(t,2),l=n[0],r=n[1];parseInt(l)<a&&e(),r(a)}(ue,2)};function se(){me()}Object(r.render)(l.a.createElement((function(){return se(),l.a.createElement("div",{className:"invoice-app-container"},l.a.createElement(j.a,{panes:[{menuItem:"Rechnungen",render:function(){return l.a.createElement("div",{className:""},l.a.createElement(re,null))}},{menuItem:"Kunden",render:function(){return l.a.createElement("div",{className:""},l.a.createElement(y,null))}},{menuItem:"Artikel",render:function(){return l.a.createElement("div",{className:""},l.a.createElement(M,null))}},{menuItem:"Autoren",render:function(){return l.a.createElement("div",{className:""},l.a.createElement(ie,null))}},{menuItem:"Firma",render:function(){return l.a.createElement("div",{className:""},l.a.createElement(ce,null))}}]}))}),null),document.getElementById("root"))}},[[305,1,2]]]);
//# sourceMappingURL=main.3f21bb35.chunk.js.map