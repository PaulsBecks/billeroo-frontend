(this["webpackJsonpreact-4798tj"]=this["webpackJsonpreact-4798tj"]||[]).push([[0],{197:function(e,a,t){e.exports=t(356)},202:function(e,a,t){},355:function(e,a,t){},356:function(e,a,t){"use strict";t.r(a);var n=t(87),l=t(0),c=t.n(l),r=t(39),i={name:"",empty:!0,price:"",isbn:"",amount:1},o=function(e){var a=e.children,t=e.singleMode,n=e.id;return c.a.createElement("div",{id:n,className:"bg-white shadow-1 center pa4",style:{width:"175mm",height:t?"297mm":""}},a)},m=(t(202),function(e){var a=e.id,t=e.invoice,n=t.order_date,l=void 0===n?"24.02.2020":n,r=t.send_date,i=void 0===r?"24.02.2020":r,m=t.invoice_date,s=void 0===m?"24.02.2020":m,u=t.invoice_number,d=void 0===u?"142787164221":u,v=t.customer,E=v.name,p=v.ust,b=v.discount,h=v.address,g=v.city,f=v.postCode,N=t.articles,y=void 0===N?[]:N,F=t.send_default_price,w=void 0===F?5:F,C=y.filter((function(e){return!e.empty})).map((function(e){var a=e.price*e.amount;return(a-a*(b/100))/(1+p/100)})).reduce((function(e,a){return parseFloat(a)+e}),0);return c.a.createElement(o,{singleMode:!0,id:a},c.a.createElement("div",{className:"invoice-header"},c.a.createElement("div",{className:"invoice-header-customer-address"}),c.a.createElement("div",{className:"invoice-header-company-address"})),c.a.createElement("div",{className:"invoice-body"},c.a.createElement("div",{className:"invoice-body-top"},c.a.createElement("div",{className:"invoice-subject"},c.a.createElement("h2",null,"Rechnung"),c.a.createElement("p",null,"Wir erlauben uns in Rechnung zu stellen:"),c.a.createElement("div",{className:"invoice-body-subject-key-values"},c.a.createElement("div",{className:"invoice-body-subject-keys"},c.a.createElement("div",{className:"invoice-body-order-date"},c.a.createElement("p",null,c.a.createElement("b",null,"Bestelldatum:"))),c.a.createElement("div",{className:"invoice-body-send-date"},c.a.createElement("p",null,c.a.createElement("b",null,"Versand am:"))),c.a.createElement("div",{className:"invoice-body-send-to"},c.a.createElement("p",null,c.a.createElement("b",null,"Versand an:")))),c.a.createElement("div",{className:"invoice-body-subject-values"},c.a.createElement("div",{className:"invoice-body-order-date"},c.a.createElement("p",null,c.a.createElement("b",null,l))),c.a.createElement("div",{className:"invoice-body-send-date"},c.a.createElement("p",null,c.a.createElement("b",null,i))),c.a.createElement("div",{className:"invoice-body-send-to"},c.a.createElement("p",null,c.a.createElement("b",null,E," \u2022 ")),c.a.createElement("p",null,c.a.createElement("b",null,h," \u2022 ",f," ",g)))))),c.a.createElement("div",null,c.a.createElement("div",{className:"invoice-body-invoice-date"},c.a.createElement("p",null,"Rechnungsdatum: ",c.a.createElement("b",null,s))),c.a.createElement("div",{className:"invoice-body-invoice-nr"},c.a.createElement("p",null,"Rechnungsnummer: ",c.a.createElement("b",null,d))),c.a.createElement("div",{className:"invoice-body-invoice-hint"},c.a.createElement("p",null,"(Bitte bei Zahlungen angeben)")))),c.a.createElement("div",{className:"invoice-body-article-wrapper"},y.filter((function(e){return!e.empty})).map((function(e){var a=e.amount,t=e.price,n=e.name,l=e.isbn,r=parseInt(a)>1,i=t*a,o=i-i*(b/100),m=o/(1+p/100);return c.a.createElement("div",{className:"invoice-body-article"},c.a.createElement("div",{className:"invoice-body-article-left"},c.a.createElement("div",{className:"invoice-body-article-description"},c.a.createElement("div",null,c.a.createElement("b",null,a," Exemplar",r&&"e")),c.a.createElement("div",{className:"invoice-body-article-title"},c.a.createElement("b",null,"\u201e",n,"\u201c")),c.a.createElement("div",{className:"invoice-body-article-title"},l)),c.a.createElement("div",{className:"invoice-body-artivle-price-calc"},"Preis ".concat(r?"je":""," ").concat(t," \u20ac").concat(r?" = ".concat(i.toFixed(2),"\u20ac"):"").concat(b>0?", abz\xfcglich ".concat(b," % Rabatt = ").concat(o.toFixed(2)," \u20ac"):""," (beinhaltet ").concat(p," % MwST = ").concat((o-m).toFixed(2),")"))),c.a.createElement("div",{className:"invoice-body-article-price"},c.a.createElement("b",null,m.toFixed(2),"\u20ac")))}))),c.a.createElement("div",{className:"invoice-body-price-calculation"},c.a.createElement("div",null,c.a.createElement("p",null,"Netto"),c.a.createElement("p",null,c.a.createElement("b",null,C.toFixed(2),"\u20ac"))),c.a.createElement("div",null,c.a.createElement("p",null,"Versandpauschale"),c.a.createElement("p",null,c.a.createElement("b",null,w.toFixed(2),"\u20ac"))),c.a.createElement("div",null,c.a.createElement("p",null,"+".concat(p,"% Mehrwertsteuer")),c.a.createElement("p",null,c.a.createElement("b",null,((C+w)*parseFloat(p)/100).toFixed(2),"\u20ac")))),c.a.createElement("div",{className:"invoice-body-price"},c.a.createElement("p",null,"Rechnungsbetrag"),c.a.createElement("p",null,c.a.createElement("b",null,((C+w)*(1+parseFloat(p)/100)).toFixed(2),"\u20ac"))),c.a.createElement("div",null,c.a.createElement("p",null,"Zahlen Sie bitte den Rechnungsbetrag bis zum 16. M\xe4rz 2020 unter Angabe der Rechnungsnummer auf unten stehendes Konto. ",c.a.createElement("br",null),c.a.createElement("br",null)," Die gelieferte Ware bleibt bis zur vollst\xe4ndigen Bezahlung Eigentum des Test Verlages. ",c.a.createElement("br",null),"Vielen Dank f\xfcr Ihre Bestellung.",c.a.createElement("br",null),c.a.createElement("br",null)," Mit herzlichen Gr\xfc\xdfen, Test Verlag.",c.a.createElement("br",null)," Werneuchen, den 24. Februar 2020"))))}),s=t(168),u=t.n(s),d=t(111),v=t.n(d),E=function(e){var a=e.id,t=e.label;return c.a.createElement("div",{className:"tc mb4 mt2"},c.a.createElement("div",{id:"myMm",style:{height:"1mm"}}),c.a.createElement("div",{className:"pa2 ba bw1 b--black bg-yellow black-90 br2 dib pointer dim shadow-1",onClick:function(){var e,t,n,l,c=document.getElementById(a),r=(e=c.offsetHeight,Math.floor(e/document.getElementById("myMm").offsetHeight)),i=(t=297,document.getElementById("myMm").offsetHeight*t),o=r<=297?1:Math.floor(r/297)+1;console.log({input:c,inputHeightMm:r,a4HeightMm:297,a4HeightPx:i,numPages:o,range:(n=0,l=o,Array(l-n).join(0).split(0).map((function(e,a){return a+n}))),comp:r<=297,inputHeightPx:c.offsetHeight}),u()(c).then((function(e){var t,n=e.toDataURL("image/png",1);(t=r>297?new v.a("p","mm",[r+16,210]):new v.a).addImage(n,"PNG",0,0),t.save("".concat(a,".pdf"))}))}},t))},p=t(20),b=t(52),h=t(366),g=t(370),f=t(371),N=t(41),y=t(368),F=t(367),w=function(e){var a=e.invoice,t=e.setInvoice,r=Object(l.useState)(0),o=Object(n.a)(r,2),m=o[0],s=o[1],u=function(e,a){s(a.index)},d=function(e,n){var l=n.name,c=n.value;("ust"!==l&&"discount"!==l||(c=parseFloat(c),!isNaN(c)))&&t(Object(b.a)({},a,{customer:Object(b.a)({},a.customer,Object(p.a)({},l,c))}))};console.log(a.articles);var v=function(e,n,l){var c=l.name,r=l.value;if("price"===c){if(r=parseFloat(r),isNaN(r))return;r=r.toFixed(2)}var o=a.articles,m=Object(b.a)({},e,Object(p.a)({},c,r));m.empty&&(m.empty=!1,o.push(i)),o[n]=Object(b.a)({},m),t(Object(b.a)({},a,{articles:o}))};return c.a.createElement("div",{className:"invoice-form"},c.a.createElement(h.a,null,c.a.createElement(g.a,{fluid:!0},c.a.createElement(g.a.Content,null,c.a.createElement(g.a.Header,null,"Rechnungsdaten")),c.a.createElement(g.a.Content,null,c.a.createElement(f.a,null,c.a.createElement(f.a.Title,{active:0===m,index:0,onClick:u},c.a.createElement(N.a,{name:"dropdown"}),"Kunde"),c.a.createElement(f.a.Content,{active:0===m},c.a.createElement(y.a,null,c.a.createElement(y.a.Group,{width:"equal"},c.a.createElement(y.a.Field,{id:"form-input-control-name",control:F.a,label:"Name",placeholder:"Name",name:"name",onChange:d,value:a.customer.name}),c.a.createElement(y.a.Field,{id:"form-input-control-name",control:F.a,label:"Gesch\xe4ftsform",placeholder:"Gesch\xe4ftsform"})),c.a.createElement(y.a.Group,null,c.a.createElement(y.a.Field,{id:"form-input-control-last-name",control:F.a,label:"Anschrift",placeholder:"Musterschstra\xdfe 3",name:"address",onChange:d,value:a.customer.address}),c.a.createElement(y.a.Field,{id:"form-input-control-last-name",control:F.a,label:"PLZ",placeholder:"PLZ",name:"postCode",onChange:d,value:a.customer.postCode})),c.a.createElement(y.a.Group,null,c.a.createElement(y.a.Field,{id:"form-input-control-last-name",control:F.a,label:"Stadt",placeholder:"Stadt",name:"city",onChange:d,value:a.customer.city})),c.a.createElement(y.a.Group,null,c.a.createElement(y.a.Field,{id:"form-input-control-last-name",control:F.a,label:"MwST",placeholder:"7",name:"ust",icon:"percent",onChange:d,value:a.customer.ust}),c.a.createElement(y.a.Field,{id:"form-input-control-last-name",control:F.a,label:"Rabat",placeholder:"0",icon:"percent",name:"discount",onChange:d,value:a.customer.discount})))),c.a.createElement(f.a.Title,{active:1===m,index:1,onClick:u},c.a.createElement(N.a,{name:"dropdown"}),"Artikel"),a.articles.map((function(e,a){return c.a.createElement(f.a.Content,{active:1===m,index:1},c.a.createElement(y.a,null,c.a.createElement(y.a.Group,{width:"equal"},c.a.createElement(y.a.Field,{id:"form-input-control-name",control:F.a,label:"Name",placeholder:"Name",name:"name",onChange:function(t,n){return v(e,a,n)},value:e.name}),c.a.createElement(y.a.Field,{id:"form-input-control-name",control:F.a,label:"Menge",placeholder:"Menge",type:"number",onChange:function(t,n){return v(e,a,n)},name:"amount",value:e.amount})),c.a.createElement(y.a.Group,null,c.a.createElement(y.a.Field,{id:"form-input-control-last-name",control:F.a,label:"ISBN",placeholder:"ISBN",name:"isbn",onChange:function(t,n){return v(e,a,n)},value:e.isbn}),c.a.createElement(y.a.Field,{id:"form-input-control-last-name",control:F.a,label:"Preis",placeholder:"Preis",name:"price",icon:"euro sign",onChange:function(t,n){return v(e,a,n)},value:e.price}))))})))))))},C=(t(355),{customer:{name:"",address:"",postCode:"",city:"",discount:0,ust:7},articles:[i]});Object(r.render)(c.a.createElement((function(){var e=Object(l.useState)(C),a=Object(n.a)(e,2),t=a[0],r=a[1];return console.log(t),c.a.createElement("div",{className:" bg-black-80 w-100 pv5"},c.a.createElement("div",{className:"white mt3 tc f3"},"Rechnung erstellen"),c.a.createElement("div",{className:"invoice-page"},c.a.createElement("div",{className:"invoice-form-wrapper"},c.a.createElement(w,{invoice:t,setInvoice:r})),c.a.createElement("div",{className:"invoice-page-wrapper"},c.a.createElement(E,{id:"singlePage",label:"Print single page"}),c.a.createElement(m,{id:"singlePage",invoice:t}))))}),null),document.getElementById("root"))}},[[197,1,2]]]);
//# sourceMappingURL=main.f86f89f7.chunk.js.map